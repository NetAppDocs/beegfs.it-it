<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="c8a0fcd1a15bb039926f56fd15ce82e9" category="summary">Termini e concetti applicabili alla soluzione BeeGFS su NetApp.</block>
  <block id="5d146c3fd3b69782d69f66b386b88a4c" category="doc">Termini e concetti</block>
  <block id="5710fc980ad3cc07a2d53a30f8e42802" category="paragraph">I seguenti termini e concetti si applicano alla soluzione BeeGFS su NetApp.</block>
  <block id="55f7d3580cdac035324d4348b9dac05b" category="inline-link-macro">Amministrare i cluster BeeGFS</block>
  <block id="cf5f3091e30dee6597885d8c0e0c357f" category="cell">Termine</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">Descrizione</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="0a40e3c91a3a55c9a37428c6d194d0e5" category="paragraph">AI</block>
  <block id="10a99475af71a950df10ae4fb41e6b27" category="paragraph">Intelligenza artificiale.</block>
  <block id="206b11a774f63418bae21625e6f6d2fb" category="paragraph">Inventario di Ansible</block>
  <block id="4278d92c9bdf11d430a86f440cffbb06" category="paragraph">Struttura di directory contenente file YAML utilizzati per descrivere il cluster BeeGFS ha desiderato.</block>
  <block id="396262ee936f3d3e26ff0e60bea6cae0" category="paragraph">BMC</block>
  <block id="20e7cb5fddc6ef60deff83e38954fc9c" category="paragraph">Controller di gestione della baseboard. Talvolta indicato come processore di servizi.</block>
  <block id="399cda935f5cb9e0b94eaf42309257fb" category="paragraph">nodi a blocchi</block>
  <block id="56977f2bee9d2716e5224e95ceb72839" category="paragraph">Sistemi storage.</block>
  <block id="fac04ca68a48af91f0290001604a2463" category="paragraph">client</block>
  <block id="3e3cee1fd1e1de5762df25400f62794a" category="paragraph">Nodi nel cluster HPC che eseguono applicazioni che devono utilizzare il file system. A volte chiamato anche nodi di calcolo o GPU.</block>
  <block id="f5ce9f5cb682a1f863d5a8c51ac28683" category="paragraph">DL</block>
  <block id="3a113e532fcdd400cdf83ef62ac9d9de" category="paragraph">Deep Learning.</block>
  <block id="c404903bef63acba3e3abe370e09474f" category="paragraph">nodi di file</block>
  <block id="2118e5d99e7b7d309a8f82e52f89ab22" category="paragraph">File server BeeGFS.</block>
  <block id="594c16ca0695f6665d7cf4971707adf6" category="paragraph">HA</block>
  <block id="b5c55115b0714618209ee9459023bad1" category="paragraph">Alta disponibilità.</block>
  <block id="a25baf723f95fbcbceae8399b638f108" category="paragraph">HIC</block>
  <block id="2d5307a091565cb524b7c0a2c48a1588" category="paragraph">Scheda di interfaccia host.</block>
  <block id="2f569257101cf136a49d983584bfc44f" category="paragraph">HPC</block>
  <block id="9a3968cd0518e869657fa99f060cd8f2" category="paragraph">High-Performance Computing.</block>
  <block id="06a52007ec390481940877b63a4b7c61" category="paragraph">Workload di tipo HPC</block>
  <block id="221d47451f4f42c2e516a414798b6e1e" category="paragraph">I carichi di lavoro in stile HPC sono in genere caratterizzati da più nodi di calcolo o GPU che hanno tutti bisogno di accedere allo stesso dataset in parallelo per facilitare un calcolo distribuito o un lavoro di training. Questi set di dati sono spesso costituiti da file di grandi dimensioni che devono essere sottoposti a striping su più nodi di storage fisici per eliminare i tradizionali colli di bottiglia hardware che impedirebbero l'accesso simultaneo a un singolo file.</block>
  <block id="d01fd9b01e9dde8bd3dc247afbfb7218" category="paragraph">ML</block>
  <block id="65abbc2190f8ea8522de3b7df3397302" category="paragraph">Apprendimento automatico.</block>
  <block id="85587c49afa2ea2adacd4bbcdb57d064" category="paragraph">NLP</block>
  <block id="1e8218217ed7a37de1bd5f394a253db8" category="paragraph">Elaborazione del linguaggio naturale.</block>
  <block id="04808383df00e6501c912f8fae661f73" category="paragraph">NLU</block>
  <block id="f0f701867a5e02fa406b05e22df7ae03" category="paragraph">Comprensione del linguaggio naturale.</block>
  <block id="af33781ae5dd2f5ffb194a90989038a8" category="paragraph">NVA</block>
  <block id="4119dd754c8118aa6a1bb36f194a2f52" category="paragraph">Il programma NetApp Verified Architecture (NVA) fornisce configurazioni di riferimento e indicazioni per il dimensionamento per carichi di lavoro e casi di utilizzo specifici. Queste soluzioni sono testate a fondo e sono progettate per ridurre al minimo i rischi di implementazione e accelerare il time-to-market.</block>
  <block id="67d6c06d21e47a4c86e1be15e327370e" category="paragraph">rete storage/rete client</block>
  <block id="7829f14ded222e6be0bb1a1d28e8f977" category="paragraph">Rete utilizzata dai client per comunicare con il file system BeeGFS. Si tratta spesso della stessa rete utilizzata per la comunicazione MPI (Parallel message Passing Interface) e altre comunicazioni applicative tra i nodi del cluster HPC.</block>
  <block id="d02afad2b9d23614832a35187b8296bf" category="summary">Questo sito descrive come implementare e gestire BeeGFS su NetApp.</block>
  <block id="745f22cbd412f2eab6c6bf95417e8b09" category="doc">Contenuto di questo sito</block>
  <block id="f3ea919081d7ce9021ea4cd631632407" category="paragraph">Questo sito descrive come implementare e gestire BeeGFS su NetApp utilizzando architetture NetApp Verified Architectures (NVA) e architetture personalizzate. I progetti NVA sono testati a fondo e offrono ai clienti configurazioni di riferimento e indicazioni per il dimensionamento, in modo da ridurre al minimo i rischi di implementazione e accelerare il time-to-market. NetApp supporta inoltre architetture BeeGFS personalizzate eseguite su hardware NetApp, offrendo a clienti e partner flessibilità nella progettazione di file system per soddisfare un'ampia gamma di requisiti. Entrambi gli approcci sfruttano Ansible per l'implementazione, offrendo un approccio simile ad appliance per la gestione di BeeGFS su qualsiasi scala in una gamma flessibile di hardware.</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="summary">Le note legali forniscono l'accesso a dichiarazioni di copyright, marchi, brevetti e altro ancora.</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">Note legali</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">Copyright</block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">Marchi</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NETAPP, il logo NETAPP e i marchi elencati nella pagina dei marchi NetApp sono marchi di NetApp, Inc. Altri nomi di società e prodotti potrebbero essere marchi dei rispettivi proprietari.</block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">Brevetti</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">Un elenco aggiornato dei brevetti di proprietà di NetApp è disponibile all'indirizzo:</block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">Direttiva sulla privacy</block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">Open source</block>
  <block id="9b73989307c1975dfa4d5e1581e4afe8" category="paragraph">I file di avviso forniscono informazioni sul copyright e sulle licenze di terze parti utilizzate nel software NetApp.</block>
  <block id="cc1ba14f8dc9bd7ba20e2aa654cde10b" category="inline-link">Avviso per i sistemi operativi SANtricity e-Series/EF-Series</block>
  <block id="2dae7f81af3097152530b0bc519d7eb1" category="paragraph"><block ref="2dae7f81af3097152530b0bc519d7eb1" category="inline-link-rx"></block></block>
  <block id="b64fbf2b70c0da78d7c165d234dbde59" category="summary">Sostituzione di un nodo di file se il server originale è guasto.</block>
  <block id="813789e46622daf96cc8a246b7123900" category="doc">Sostituire i nodi del file</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">Panoramica</block>
  <block id="7d8e819a8720821d1bda4944e3b284f8" category="paragraph">Di seguito viene fornita una panoramica dei passaggi necessari per sostituire un nodo di file nel cluster. Questi passaggi presumono che il nodo del file non sia riuscito a causa di un problema hardware ed è stato sostituito con un nuovo nodo del file identico.</block>
  <block id="0ca6560aa88bd22fa1b3bb69d8594555" category="section-title">Fasi:</block>
  <block id="237c1293f678bb3fb45da7ff985bc6ff" category="list-text">Sostituire fisicamente il nodo del file e ripristinare tutti i cavi al nodo a blocchi e alla rete di storage.</block>
  <block id="2fcfb8cbd69fbc9fbfe292049243f520" category="list-text">Reinstallare il sistema operativo sul nodo di file, aggiungendo anche le sottoscrizioni Red Hat.</block>
  <block id="54bf3b134460f90ada283da98dfe7f55" category="list-text">Configurare la gestione e la rete BMC sul nodo file.</block>
  <block id="e07337279837c08243349fd1812b45ad" category="list-text">Aggiornare l'inventario di Ansible se il nome host, l'IP, le mappature dell'interfaccia PCIe-to-logical o qualsiasi altra cosa è stata modificata in relazione al nuovo nodo del file. In genere, questo non è necessario se il nodo è stato sostituito con un hardware server identico e si sta utilizzando la configurazione di rete originale.</block>
  <block id="1092a09068da1d54ef98835a92b7ae93" category="list-text">Ad esempio, se il nome host è cambiato, creare (o rinominare) il file di inventario del nodo <block ref="68c99491876298ad1740f875d0009eb1" prefix="(" category="inline-code"></block>) Quindi nel file di inventario Ansible <block ref="d28e452e49fc926f32af1d87afcff3ce" prefix="(" category="inline-code"></block>), sostituire il nome del vecchio nodo con il nuovo nome del nodo:</block>
  <block id="4e77e3629d6cf2dd24d01cd0816444dc" category="list-text">Rimuovere il nodo precedente da uno degli altri nodi del cluster:<block ref="0b3c8b6f1b9e3417f6658a2d7bf57e50" prefix=" " category="inline-code"></block>.</block>
  <block id="80b3f35b9a09098f23ac89ae2b86b045" category="admonition">NON PROCEDERE PRIMA DI ESEGUIRE QUESTO PASSAGGIO.</block>
  <block id="b13bbcb9af62574d6f02dd11fb1e8467" category="list-text">Sul nodo di controllo Ansible:</block>
  <block id="bdd8d1913bd5c9a453285898025b96c3" category="list-text">Rimuovere la vecchia chiave SSH con:</block>
  <block id="357f3d871a04ba99dca4088160a070c7" category="list-text">Configurare SSH senza password nel nodo di sostituzione con:</block>
  <block id="7142a43bd39c703832e1dedd5cc1781d" category="list-text">Eseguire nuovamente il playbook Ansible per configurare il nodo e aggiungerlo al cluster:</block>
  <block id="cb6fdf37da197d680c43c0f6f18ad11d" category="list-text">A questo punto, eseguire<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> e verificare che il nodo sostituito sia ora elencato e che i servizi siano in esecuzione.</block>
  <block id="7728706b8b42de0081920e7246a76547" category="summary">Evitare che il cluster ha reagisca accidentalmente alle modifiche previste nell'ambiente.</block>
  <block id="e1fee8e589d1f622a7c4194531dd6d51" category="doc">Impostare il cluster in modalità di manutenzione</block>
  <block id="de51662eceb9c88ae773c201eb0345d1" category="paragraph">Impostando il cluster in modalità di manutenzione si disattiva il monitoraggio di tutte le risorse e si impedisce a Pacemaker di spostare o gestire in altro modo le risorse nel cluster. Tutte le risorse rimarranno in esecuzione sui nodi originali, indipendentemente dalla presenza di una condizione di guasto temporanea che ne impedirebbe l'accesso. Gli scenari in cui questo è consigliato/utile includono:</block>
  <block id="ea4d028cbc39da373f2405d19e55ab0f" category="list-text">Manutenzione della rete che potrebbe interrompere temporaneamente le connessioni tra i nodi di file e i servizi BeeGFS.</block>
  <block id="fb9f2ee248fa11ccfb854f09fcda2a80" category="list-text">Aggiornamenti del nodo a blocchi.</block>
  <block id="92a6e3227dfe7be15777e64043fb613f" category="list-text">File Node per aggiornamenti di sistemi operativi, kernel o altri pacchetti.</block>
  <block id="6c1cf36b91fdf2375e857652291bab2e" category="paragraph">In genere, l'unico motivo per attivare manualmente la modalità di manutenzione è impedire che il cluster reagisca alle modifiche esterne dell'ambiente. Se un singolo nodo del cluster richiede una riparazione fisica, non utilizzare la modalità di manutenzione e posizionare semplicemente tale nodo in standby seguendo la procedura descritta in precedenza. Si noti che la riesecuzione di Ansible attiva automaticamente la modalità di manutenzione del cluster, facilitando la maggior parte della manutenzione del software, inclusi aggiornamenti e modifiche alla configurazione.</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="section-title">Fasi</block>
  <block id="bbf6745fae83e12806200feeb795f0ef" category="paragraph">Per verificare se il cluster è in modalità di manutenzione, eseguire:</block>
  <block id="4a6b1ae7d59c5bf02b1b5759e9f9b8e7" category="paragraph">Questo restituisce false quando il cluster funziona normalmente. Per attivare la modalità di manutenzione, eseguire:</block>
  <block id="4ecbc8384cde54344112e6ab08db42be" category="paragraph">Puoi verificare eseguendo lo stato dei PC e assicurandoti che tutte le risorse mostrino "(unmanaged)". Per uscire dalla modalità di manutenzione del cluster, eseguire:</block>
  <block id="9afe1c93907babebeb4d7a466e216a3e" category="summary">Aggiungere o rimuovere i building block dal cluster.</block>
  <block id="da82c1c93eafcb34930ae3da89361e1e" category="doc">Espandere o ridurre il cluster</block>
  <block id="c8fb5d104008cab3ab8a229181f5dfac" category="paragraph">Questa sezione descrive varie considerazioni e opzioni per regolare le dimensioni del cluster BeeGFS ha. In genere, la dimensione del cluster viene regolata aggiungendo o rimuovendo gli elementi di base, che in genere sono due nodi di file configurati come coppia ha. È inoltre possibile aggiungere o rimuovere singoli nodi di file (o altri tipi di nodi di cluster), se necessario.</block>
  <block id="711c6d6edaed786b4dc0203b75460778" category="section-title">Aggiunta di un building block al cluster</block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">Considerazioni</block>
  <block id="f29b9abf87c880782cf8c378e24a1668" category="paragraph">La crescita del cluster mediante l'aggiunta di ulteriori building block è un processo semplice. Prima di iniziare, tenere presenti le restrizioni relative al numero minimo e massimo di nodi del cluster in ciascun cluster ha singolo e determinare se è necessario aggiungere nodi al cluster ha esistente o creare un nuovo cluster ha. In genere, ciascun building block è costituito da due nodi di file, ma tre nodi sono il numero minimo di nodi per cluster (per stabilire il quorum) e dieci sono il numero massimo consigliato (testato). Per gli scenari avanzati è possibile aggiungere un singolo nodo "Tiebreaker" che non esegue alcun servizio BeeGFS durante l'implementazione di un cluster a due nodi. Contatta il supporto NetApp se stai prendendo in considerazione un'implementazione di questo tipo.</block>
  <block id="662a466b951b1af4fe3b4c3fd2e0370c" category="paragraph">Quando si decide come espandere il cluster, tenere presente queste restrizioni e qualsiasi crescita futura prevista del cluster. Ad esempio, se si dispone di un cluster a sei nodi e si desidera aggiungere altri quattro nodi, si consiglia di avviare un nuovo cluster ha.</block>
  <block id="2b988a3f29ebee8dccd80147a22c1bc6" category="admonition">Tenere presente che un singolo file system BeeGFS può essere costituito da più cluster ha indipendenti. Ciò consente ai file system di continuare a scalare oltre i limiti consigliati/rigidi dei componenti del cluster ha sottostanti.</block>
  <block id="c9e209235fa71f94c6ca46692bb327a3" category="inline-link-macro">Utilizzare architetture personalizzate</block>
  <block id="0a9e15a6a510b24d4e6ac91c02152457" category="paragraph">Dopo aver creato i file corretti, è sufficiente eseguire nuovamente l'automazione utilizzando il comando:</block>
  <block id="8d695d37ced4690199d537aed9d4bd55" category="section-title">Rimozione di un Building Block dal cluster</block>
  <block id="b68ea55d7263db6f96db88774fb7b864" category="paragraph">È necessario tenere presente una serie di considerazioni quando è necessario dismettere un building block, ad esempio:</block>
  <block id="c26cc9593863fbf09a98a7c1809d4501" category="list-text">Quali servizi BeeGFS vengono eseguiti in questo building block?</block>
  <block id="64e344a53d6a50c0b641de71dcc0d0e6" category="list-text">I nodi di file vengono ritirati e i nodi di blocco devono essere collegati ai nuovi nodi di file?</block>
  <block id="de3bc01ba61503e7b8699b9318d0fd0b" category="list-text">Se l'intero building block viene ritirato, i dati devono essere spostati in un nuovo building block, dispersi in nodi esistenti nel cluster o spostati in un nuovo file system BeeGFS o in un altro sistema storage?</block>
  <block id="b6bb45be6629ebff573a5364d6abba3e" category="list-text">Questo può accadere durante un'interruzione o dovrebbe essere fatto senza interruzioni?</block>
  <block id="9b0ed7965704c34f1d45d89e7afe7bfc" category="list-text">Il building block è attivamente in uso o contiene principalmente dati che non sono più attivi?</block>
  <block id="2f1f874ab85cc95aedb0e31639ddd1be" category="paragraph">A causa dei diversi possibili punti di partenza e degli stati finali desiderati, contatta il supporto NetApp in modo da poter identificare e implementare la strategia migliore in base al tuo ambiente e ai tuoi requisiti.</block>
  <block id="9cdd9805effd30bec624c806fd980309" category="summary">Spostamento dei servizi BeeGFS tra nodi cluster.</block>
  <block id="f6054493b235622c6d85c56597db1eb1" category="doc">Servizi di failover e failback</block>
  <block id="2c053c4f4aa73d509803b712a335712b" category="paragraph">I servizi BeeGFS possono eseguire il failover tra i nodi del cluster per garantire che i client possano continuare ad accedere al file system in caso di guasto di un nodo o se è necessario eseguire una manutenzione pianificata. In questa sezione vengono descritti i vari modi in cui gli amministratori possono riparare il cluster dopo il ripristino da un errore o spostare manualmente i servizi tra i nodi.</block>
  <block id="07216bb55061288a2fa29cda954742e3" category="section-title">Failover e failover</block>
  <block id="23709dbf750335ca35bb098cb16932f2" category="section-title">Failover (pianificato)</block>
  <block id="805e61a2ff2aebdab58587660993241c" category="paragraph">In genere, quando si deve portare un singolo nodo di file offline per la manutenzione, si desidera spostare (o svuotare) tutti i servizi BeeGFS da quel nodo. Per eseguire questa operazione, mettere il nodo in standby:</block>
  <block id="ecbf8d7e7d9f1eb0a529231cebd2199c" category="paragraph"><block ref="45235c2d84b11e465f5ed5176cc9fc73" prefix="" category="inline-code"></block></block>
  <block id="badd2ea7f58914039bb51471883e3461" category="paragraph">Dopo aver verificato l'utilizzo<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> tutte le risorse sono state riavviate sul nodo di file alternativo, è possibile chiudere o apportare altre modifiche al nodo in base alle necessità.</block>
  <block id="1343bdd328b646934d900b04ee8ba9bd" category="section-title">Failback (dopo un failover pianificato)</block>
  <block id="746bffd8542d5a995ff4e29343881c45" category="paragraph">Quando si è pronti a ripristinare i servizi BeeGFS sul nodo preferito, eseguire prima<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> E verificare in "Node List" (elenco nodi) che lo stato sia standby. Se il nodo è stato riavviato, viene visualizzato offline fino a quando non si mettono in linea i servizi del cluster:</block>
  <block id="91e6580245db1e731f9ba78076973736" category="paragraph">Una volta che il nodo è online, portarlo fuori dallo standby con:</block>
  <block id="040901cb649ee5383b238c42c7746fca" category="paragraph">Infine, ricollocare tutti i servizi BeeGFS nei nodi preferiti con:</block>
  <block id="6ebfd7088ae3d5d766caee83ef99e7bc" category="section-title">Failback (dopo un failover non pianificato)</block>
  <block id="e09245effc62059e51f926fad603e413" category="inline-link-macro">risoluzione dei problemi</block>
  <block id="364ed45bbda2e3fd57309efe24fc0d55" category="paragraph">Quando un nodo viene avviato in seguito a un riavvio non pianificato (o pianificato), i servizi cluster non vengono impostati per avviarsi automaticamente, quindi è necessario prima portare il nodo online con:</block>
  <block id="f00b2994ca5cfc6ab0328a63736caa02" category="paragraph">Quindi, ripulire gli eventuali errori delle risorse e reimpostare la cronologia delle scherma del nodo:</block>
  <block id="ac161f403f36186463574a43968aa121" category="paragraph">Verificare in<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> il nodo è online e integro. Per impostazione predefinita, i servizi BeeGFS non eseguono automaticamente il failback per evitare di spostare accidentalmente le risorse in un nodo non integro. Quando si è pronti, restituire tutte le risorse del cluster ai nodi preferiti con:</block>
  <block id="a65e0cef92147365de773d870438a30d" category="section-title">Spostamento di singoli servizi BeeGFS in nodi di file alternativi</block>
  <block id="606a28acf3a90904d7e27f3497573da7" category="section-title">Spostare in modo permanente un servizio BeeGFS in un nuovo nodo di file</block>
  <block id="8f56c19ef179745c1437a4f477337649" category="paragraph">Se si desidera modificare in modo permanente il nodo di file preferito per un singolo servizio BeeGFS, regolare l'inventario Ansible in modo che il nodo preferito venga elencato per primo ed eseguire nuovamente il playbook Ansible.</block>
  <block id="346788f496d57b1e768d1dfaccdb3660" category="section-title">Spostare temporaneamente un servizio BeeGFS in un nodo di file alternativo</block>
  <block id="bad9cbcf702b276e1564c24e67ad301c" category="paragraph">In genere, se un nodo è in fase di manutenzione, utilizzare i [passi di failover e failback] (failover e failback) per spostare tutti i servizi da quel nodo.</block>
  <block id="0a51cf78eac085426260a02c70378519" category="paragraph">Se per qualche motivo è necessario spostare un singolo servizio in un nodo di file diverso, eseguire:</block>
  <block id="15bda9336e0e061125e3b40fe7bfbb0f" category="paragraph">Per spostare di nuovo un servizio BeeGFS nel nodo preferito, eliminare prima i vincoli di risorsa temporanei (ripetendo questa operazione in base alle necessità per più servizi):</block>
  <block id="d5c46792adbb43a012cbc1e858dc8bf4" category="paragraph">Quindi, quando si è pronti a spostare di nuovo i servizi sui nodi preferiti, eseguire:</block>
  <block id="05ccfd1bb05ec0cb0ad0dbc5cfa2b32d" category="paragraph">Nota: Questo comando consente di spostare i servizi che non hanno più vincoli di risorse temporanee e che non si trovano nei nodi preferiti.</block>
  <block id="0532f63b7151a82cb4b5e3351e2371d0" category="summary">Arresto e avvio del cluster ha senza problemi.</block>
  <block id="7479b021f04933331bfad4de007ca0c2" category="doc">Arrestare e avviare il cluster</block>
  <block id="2b884da4a956e42f63bc07b5d20c50b1" category="paragraph">In questa sezione viene descritto come arrestare e riavviare il cluster BeeGFS. Esempi di scenari in cui ciò potrebbe essere necessario includono la manutenzione elettrica o la migrazione tra datacenter o rack.</block>
  <block id="c61d5048d10a534a03e7687782b475e2" category="paragraph">Se per qualsiasi motivo è necessario arrestare l'intero cluster BeeGFS e arrestare tutti i servizi eseguiti:</block>
  <block id="3ad6e9988864aeae2ef386345946dc6d" category="inline-link-macro">failover</block>
  <block id="9e94ba8f70ed52b0ae6c2a8725f97a9f" category="paragraph">Per avviare i servizi e le risorse del cluster su tutti i nodi eseguire:</block>
  <block id="80bd5673b361d19dc46e6b882f98b061" category="paragraph">Oppure avviare i servizi su un nodo specifico con:</block>
  <block id="56ad9ec5396c5f035697d1e62c4b0926" category="paragraph">A questo punto eseguire<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> Verificare inoltre che i servizi del cluster e BeeGFS vengano avviati su tutti i nodi e che i servizi siano in esecuzione sui nodi previsti.</block>
  <block id="f2cc0b0e79d5eccda5009e593729ce23" category="admonition">A seconda delle dimensioni del cluster, l'interruzione dell'intero cluster può richiedere alcuni minuti (da secondi a minuti) o la visualizzazione avviata in<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block>. Se<block ref="88f9ea6da6d01a3e529f8aa41e0e4643" prefix=" " category="inline-code"></block> Si blocca per più di cinque minuti, prima di eseguire "Ctrl+C" per annullare il comando, accedere a ciascun nodo del cluster e utilizzare<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> Per verificare se i servizi cluster (Corosync/Pacemaker) sono ancora in esecuzione su quel nodo. Da qualsiasi nodo in cui il cluster è ancora attivo, è possibile controllare quali risorse bloccano il cluster. Risolvere manualmente il problema e il comando dovrebbe essere completo o può essere rieseguito per interrompere eventuali servizi rimanenti.</block>
  <block id="1819205ce38618cd2752bb84e2b73e58" category="summary">Risoluzione dei problemi di un cluster BeeGFS ha.</block>
  <block id="d60c463bb4096f3ed4bd1618626dfe10" category="doc">Risolvere i problemi</block>
  <block id="b162a91192a0936d7593cb252c65dfd8" category="paragraph">Questa sezione illustra come analizzare e risolvere i problemi di vari guasti e altri scenari che potrebbero verificarsi quando si utilizza un cluster BeeGFS ha.</block>
  <block id="40327cd11d60bd1f114b3e4566f94e50" category="section-title">Guide per la risoluzione dei problemi</block>
  <block id="e1c58302972da23d09a5ab5fe221a170" category="section-title">Analisi di guasti imprevisti</block>
  <block id="4fbaa99fc13cc42ed40e8b05969de8fb" category="paragraph">Quando un nodo viene inaspettatamente recintato e i relativi servizi vengono spostati in un altro nodo, il primo passo dovrebbe essere vedere se il cluster indica eventuali guasti alle risorse nella parte inferiore di<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block>. In genere, se la scherma è stata completata correttamente e le risorse sono state riavviate su un altro nodo, non sarà presente nulla.</block>
  <block id="31288ba37f67baa9a96377c197fd16b4" category="paragraph">In genere, il passaggio successivo consiste nell'eseguire una ricerca nei log di sistema utilizzando<block ref="eed23a3d2310f43954a09887cb36b398" prefix=" " category="inline-code"></block> Su uno qualsiasi dei nodi di file rimanenti (i registri di pacemaker sono sincronizzati su tutti i nodi). Se si conosce l'ora in cui si è verificato l'errore, è possibile avviare la ricerca poco prima che si sia verificato l'errore (generalmente si consiglia di almeno dieci minuti prima):</block>
  <block id="adc8528fced336e7a819071c746b5738" category="paragraph">Le sezioni seguenti mostrano il testo comune che è possibile inserire nei registri per restringere ulteriormente l'analisi.</block>
  <block id="a6dea15cd908ef20a94b7b92df902f0b" category="section-title">Procedure per investigare/risolvere</block>
  <block id="d418f50c5ddea28b4ca856017b36cb20" category="section-title">Fase 1: Controllare se il monitor BeeGFS ha rilevato un guasto:</block>
  <block id="a0d295ceecafcdade2e77c52fee836e0" category="paragraph">Se il failover è stato attivato dal monitor BeeGFS, viene visualizzato un errore (in caso contrario, passare alla fase successiva).</block>
  <block id="ba35f78b5ee9757310a818131880e7ba" category="admonition">A differenza dei registri di Pacemaker, i registri dei servizi BeeGFS non vengono distribuiti a tutti i nodi del cluster. Per analizzare questi tipi di errori, sono necessari i log del nodo originale in cui si è verificato l'errore.</block>
  <block id="e7ed0a662a65a2b9a77688262294bdeb" category="paragraph">I possibili problemi che potrebbero essere segnalati dal monitor includono:</block>
  <block id="7cdeb72a25ab193e904385b516b1b346" category="list-text">Destinazioni non accessibili.</block>
  <block id="b5937b98653f70b6902650183cf4ec74" category="list-text">Descrizione: Indica che i volumi a blocchi non erano accessibili.</block>
  <block id="2fe85519f178203eb9e17cd7d958eff5" category="list-text">Risoluzione dei problemi:</block>
  <block id="a337b1ea21fcd18ca666a6d53d5d43cd" category="list-text">Se anche il servizio non è stato avviato sul nodo di file alternativo, verificare che il nodo di blocco sia integro.</block>
  <block id="1a92a4c3328c821522ae4b4f7b7939f4" category="list-text">Verificare l'eventuale presenza di problemi fisici che impediscano l'accesso ai nodi di blocco da questo nodo di file, ad esempio adattatori o cavi InfiniBand difettosi.</block>
  <block id="07d73b1c441d1587365e83eab249cc0e" category="list-text">Rete non raggiungibile.</block>
  <block id="640de5e4317b2b6b4cdfc75056c11dc1" category="list-text">Descrizione: Nessuno degli adattatori utilizzati dai client per connettersi a questo servizio BeeGFS era in linea.</block>
  <block id="a6fe0c48e93a5942e6a707553dc58b72" category="list-text">In caso di impatto su più/tutti i nodi di file, controllare se si è verificato un errore nella rete utilizzata per collegare i client BeeGFS e il file system.</block>
  <block id="89af81e10eaa132cd26657feb6c0255d" category="list-text">Verificare l'eventuale presenza di problemi fisici che impediscano l'accesso ai client da questo nodo di file, ad esempio cavi o adattatori InfiniBand difettosi.</block>
  <block id="74a668540699bf39afc1015b6ce839e7" category="list-text">Servizio BeeGFS non attivo.</block>
  <block id="d297ccf512793d172de0cfd4051e2e96" category="list-text">Descrizione: Un servizio BeeGFS si è arrestato inaspettatamente.</block>
  <block id="4937184e80e5bebefae7244965d351b9" category="list-text">Nel nodo del file che ha riportato l'errore, controllare i log del servizio BeeGFS interessato per verificare se ha rilevato un blocco. In questo caso, aprire un caso con il supporto NetApp per poter indagare sul crash.</block>
  <block id="feec20659fe99c02d4979b8ad026cc97" category="list-text">Se non vengono segnalati errori nel log di BeeGFS, controllare i log del journal per verificare se systemd ha registrato un motivo per cui il servizio è stato arrestato. In alcuni scenari, il servizio BeeGFS potrebbe non aver avuto la possibilità di registrare alcun messaggio prima che il processo venisse terminato (ad esempio, se qualcuno ha eseguito<block ref="c287e2fa9b978b64df6b25bc14f4ebad" prefix=" " category="inline-code"></block>).</block>
  <block id="6c187654c83a0705225e629e5ef0e690" category="section-title">Fase 2: Controllare se il nodo ha lasciato inaspettatamente il cluster</block>
  <block id="48de5b8ba61031259301e7dcfed5f30f" category="paragraph">Nel caso in cui il nodo abbia subito un guasto hardware catastrofico (ad esempio, la scheda di sistema è morta) o si sia verificato un problema di kernel panic o software simile, il monitor BeeGFS non segnala alcun errore. Cercare invece il nome host e dovrebbero essere visualizzati messaggi da Pacemaker che indicano che il nodo è stato perso inaspettatamente:</block>
  <block id="e2c890774d7c7d0dbdd940e9e70a6e38" category="section-title">Fase 3: Verificare che il pacemaker sia in grado di individuare il nodo</block>
  <block id="233ac49c948b907a2f3ece7ba249837e" category="paragraph">In tutti gli scenari si dovrebbe vedere il tentativo di pacemaker di recinzione del nodo per verificare che sia effettivamente offline (i messaggi esatti possono variare a seconda della causa del recinzione):</block>
  <block id="43878a52c3fd9ee95d536dd53db82be8" category="paragraph">Se l'azione di scherma viene completata correttamente, vengono visualizzati messaggi come:</block>
  <block id="c9fc2871ff88666659a1639b7bc7a907" category="paragraph">Se l'azione di scherma non è riuscita per qualche motivo, i servizi BeeGFS non potranno essere riavviati su un altro nodo per evitare il rischio di corruzione dei dati. Si tratta di un problema da analizzare separatamente, ad esempio se il dispositivo di scherma (PDU o BMC) non fosse accessibile o non fosse configurato correttamente.</block>
  <block id="824b5f569e1c282ba489e1d3fe24611f" category="section-title">Address Failed Resource Actions (azioni risorsa indirizzo non riuscito) (trovato in fondo allo stato di pcs)</block>
  <block id="ac9c4f2d9dc79954795119e7ac4da835" category="inline-link-macro">failback dopo un failover non pianificato</block>
  <block id="afdd1f65895e11b4a9ab295926e39116" category="paragraph">In caso contrario, dovrebbero essere presenti solo due scenari in cui verranno visualizzate le "azioni delle risorse non riuscite".</block>
  <block id="43c78de0154f6f48f749527f62bfd41c" category="section-title">Scenario 1: È stato rilevato un problema temporaneo o permanente con un agente di scherma che è stato riavviato o spostato in un altro nodo.</block>
  <block id="b06e37c96b80ada3e042c0997f9d54a6" category="paragraph">Alcuni agenti di scherma sono più affidabili di altri e ciascuno implementerà il proprio metodo di monitoraggio per garantire che il dispositivo di scherma sia pronto. In particolare, l'agente Redfish scherma ha rilevato azioni di risorse non riuscite come le seguenti, anche se continuerà a mostrare avviato:</block>
  <block id="13ff1974a31501c1a357c51cda2ff685" category="paragraph">Un agente di scherma che segnala azioni di risorse non riuscite su un nodo particolare non dovrebbe attivare un failover dei servizi BeeGFS in esecuzione su quel nodo. Dovrebbe semplicemente essere riavviato automaticamente sullo stesso nodo o su un altro nodo.</block>
  <block id="549252a4b6f49c6993519d622a3e9c5d" category="paragraph">Procedura per la risoluzione:</block>
  <block id="51f376a71f801714c5dbbdfa83541a86" category="list-text">Se l'agente di scherma rifiuta costantemente di essere eseguito su tutti i nodi o su un sottoinsieme di nodi, controllare se tali nodi sono in grado di connettersi all'agente di scherma e verificare che l'agente di scherma sia configurato correttamente nell'inventario Ansible.</block>
  <block id="1ae58017c838c0e0ed1e3299e7c683d5" category="list-text">Ad esempio, se un agente di scherma Redfish (BMC) è in esecuzione sullo stesso nodo in cui è responsabile della scherma e la gestione del sistema operativo e gli IP BMC si trovano sulla stessa interfaccia fisica, alcune configurazioni dello switch di rete non consentono la comunicazione tra le due interfacce (per evitare loop di rete). Per impostazione predefinita, il cluster ha tenterà di evitare di posizionare gli agenti di scherma sul nodo che sono responsabili della scherma, ma questo può accadere in alcuni scenari/configurazioni.</block>
  <block id="217b4320fb1b29ae95bb478645ec6ba8" category="list-text">Una volta risolti tutti i problemi (o se il problema sembrava essere effimero), eseguire<block ref="b292ce60014c1c0e30e4db1f177243d3" prefix=" " category="inline-code"></block> per ripristinare le azioni delle risorse non riuscite.</block>
  <block id="5e2b597167eb07cb64833681dcd53f6f" category="section-title">Scenario 2: Il monitor BeeGFS ha rilevato un problema e ha attivato un failover, ma per qualche motivo le risorse non sono state avviate su un nodo secondario.</block>
  <block id="cf41377d64715247d22bef68c671d9dc" category="paragraph">A condizione che sia attivata la funzione di scherma e che la risorsa non sia stata bloccata dall'arresto sul nodo originale (vedere la sezione relativa alla risoluzione dei problemi per "standby (on-fail)"), i motivi più probabili includono problemi di avvio della risorsa su un nodo secondario perché:</block>
  <block id="ecbc2fa36aa8e4ccfd535f315ff5a1bc" category="list-text">Il nodo secondario era già offline.</block>
  <block id="9fc9f95992286a812b388e7c2def3cde" category="list-text">Un problema di configurazione fisica o logica ha impedito al secondario di accedere ai volumi di blocco utilizzati come destinazioni BeeGFS.</block>
  <block id="1ffc42a5bdee5039a96dffea4901017d" category="list-text">Per ogni voce nelle azioni delle risorse non riuscite:</block>
  <block id="fb6dc7c10276db82fd903122c9aa6780" category="list-text">Confermare che l'azione della risorsa non riuscita era un'operazione di avvio.</block>
  <block id="6ec17a9b3e2983ef695c793467180ed8" category="list-text">In base alla risorsa indicata e al nodo specificato nelle azioni delle risorse non riuscite:</block>
  <block id="15cdec9d63ec68e3300810746f7c66c5" category="list-text">Cercare e correggere eventuali problemi esterni che impediscano al nodo di avviare la risorsa specificata. Ad esempio, se l'indirizzo IP BeeGFS (floating IP) non si avvia, verificare che almeno una delle interfacce richieste sia connessa/online e cablata allo switch di rete corretto. Se una destinazione BeeGFS (dispositivo a blocchi / volume e-Series) non funziona, verificare che le connessioni fisiche ai nodi di blocco back-end siano collegate come previsto e verificare che i nodi di blocco siano integri.</block>
  <block id="66f0528ed6c9cd01b92486aef88bca25" category="list-text">Se non ci sono problemi esterni evidenti e si desidera una causa principale per questo incidente, si consiglia di aprire un caso con il supporto NetApp per indagare prima di procedere, in quanto i seguenti passaggi potrebbero rendere difficile/impossibile l'analisi della causa principale (RCA).</block>
  <block id="3f79d63c01f8e573f1485641a01784f5" category="list-text">Dopo aver risolto eventuali problemi esterni:</block>
  <block id="0fc5581e5e588d921d0659c6725c8bb7" category="list-text">Commentare eventuali nodi non funzionali dal file Ansible inventory.yml ed eseguire nuovamente il playbook Ansible completo per assicurarsi che tutte le configurazioni logiche siano configurate correttamente sui nodi secondari.</block>
  <block id="837bc4d502bb7c6e4bb1557e18c0d778" category="list-text">Nota: Non dimenticare di rimuovere il commento da questi nodi e di eseguire nuovamente il playbook una volta che i nodi sono in buono stato e sei pronto per il failback.</block>
  <block id="7198cccc6bdd4a3f49c6f73aecb797e3" category="list-text">In alternativa, è possibile tentare di ripristinare manualmente il cluster:</block>
  <block id="6db4e0b9e5f080b1d47896ae71390476" category="list-text">Posizionare di nuovo online i nodi offline utilizzando:<block ref="2e6a9bc781ade1dd9ff94654afbc34bd" prefix=" " category="inline-code"></block></block>
  <block id="0292b418af30a3106696db822913b4fd" category="list-text">Cancellare tutte le azioni delle risorse non riuscite utilizzando:<block ref="b292ce60014c1c0e30e4db1f177243d3" prefix=" " category="inline-code"></block></block>
  <block id="8177fac49f20d8c76b3afe0ead42fe89" category="list-text">Eseguire lo stato dei PC e verificare che tutti i servizi inizano come previsto.</block>
  <block id="0a584da0f19f70578ae419f6c3de1804" category="list-text">Se necessario, eseguire<block ref="31b8a2d98f4312a9e7b7ac373d9cca6a" prefix=" " category="inline-code"></block> per spostare nuovamente le risorse nel nodo preferito (se disponibile).</block>
  <block id="b34551a00d39152d67273fc8e1fc4a52" category="section-title">Problemi comuni</block>
  <block id="e728c5fcf9b4ab50066868a6b637a709" category="section-title">I servizi BeeGFS non eseguono il failover o il failback quando richiesto</block>
  <block id="07f7fa9ba2b669bb79d185d75b136e12" category="paragraph">*Probabile problema:* il<block ref="960b2f261f11ad1988eea18a4ecc34c9" prefix=" " category="inline-code"></block> il comando run è stato eseguito, ma non è mai stato completato correttamente.</block>
  <block id="844f68b15c1713a6baa4b0ec6aa225df" category="paragraph">*Come controllare:* Esegui<block ref="5a4892b5d40be89d668321c86afd400b" prefix=" " category="inline-code"></block> E verificare la presenza di eventuali vincoli di posizione con un ID di<block ref="2fcf6d99d76b884a404fa4e359bf2b59" prefix=" " category="inline-code"></block>.</block>
  <block id="9e43dd5b3ec5864eaeb73e8dc9a4a445" category="paragraph">*Come risolvere:* Esegui<block ref="3132f7183339b30b65d4c94ec98e59c6" prefix=" " category="inline-code"></block> quindi rieseguire<block ref="5a4892b5d40be89d668321c86afd400b" prefix=" " category="inline-code"></block> per verificare che i vincoli aggiuntivi vengano rimossi.</block>
  <block id="1950007e622fca4ac1ecb2dca5c5b0ca" category="section-title">Un nodo nello stato di PC mostra "standby (on-fail)" quando la scherma è disattivata</block>
  <block id="7f73632b6cb42dac5be42f899b8f3075" category="paragraph">*Probabile problema:* pacemaker non è riuscito a confermare che tutte le risorse sono state interrotte sul nodo che ha avuto esito negativo.</block>
  <block id="62e46498125737c7dea16f67e65f663b" category="paragraph">*Come risolvere:*</block>
  <block id="2443318955c1e9ac3d484a3a95366847" category="list-text">Eseguire<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> e verificare la presenza di risorse che non sono "avviate" o che mostrano errori nella parte inferiore dell'output e risolvere eventuali problemi.</block>
  <block id="fde999fddc7a609f9b1112a0d74b811e" category="list-text">Per riportare il nodo in linea eseguire<block ref="22c6d25b4cef458448bf6ec7b072cfdc" prefix=" " category="inline-code"></block>.</block>
  <block id="0b566700630488a9f296399143b71b21" category="section-title">Dopo un failover imprevisto, le risorse mostrano "Started (on-fail)" (avviato (on-fail)) in stato PC quando la scherma è attivata</block>
  <block id="d82216004991d1ee26d8a39d995fd037" category="paragraph">*Probabile problema:* si è verificato Un problema che ha attivato un failover, ma Pacemaker non è riuscito a verificare che il nodo sia stato recintato. Questo potrebbe verificarsi a causa di una configurazione errata del recinto o di un problema con l'agente di recinzione (ad esempio: La PDU è stata disconnessa dalla rete).</block>
  <block id="d9377bb89128ecc3849d522366a1bc0e" category="list-text">Verificare che il nodo sia effettivamente spento.</block>
  <block id="26cf4911b5df9522d0b71ba51aa2797f" category="admonition">Se il nodo specificato non è effettivamente disattivato, ma esegue risorse o servizi cluster, si VERIFICHERÀ un danneggiamento dei dati o un errore del cluster.</block>
  <block id="eb7adca6805c8d7130032cd721d69726" category="list-text">Confermare manualmente la scherma con:<block ref="5448b9bc8364c2b3f706918cda259325" prefix=" " category="inline-code"></block></block>
  <block id="1c0ee784ecf6c6dae18bd342462b0460" category="paragraph">A questo punto i servizi dovrebbero terminare il failover e essere riavviati su un altro nodo integro.</block>
  <block id="144c35532a298805242b9831523175df" category="section-title">Attività comuni di risoluzione dei problemi</block>
  <block id="e78d742ead1e3187a4781d20c9f53692" category="section-title">Riavviare i singoli servizi BeeGFS</block>
  <block id="5bd968465c3ccdeb171ce7ade4907d6f" category="paragraph">In genere, se un servizio BeeGFS deve essere riavviato (ad esempio per facilitare una modifica della configurazione), questa operazione deve essere eseguita aggiornando l'inventario Ansible e rieseguendo il manuale. In alcuni scenari potrebbe essere consigliabile riavviare singoli servizi per facilitare la risoluzione dei problemi più rapida, ad esempio per modificare il livello di registrazione senza dover attendere l'esecuzione dell'intero playbook.</block>
  <block id="57f3d071d972e615cf2b21fc580b3981" category="admonition">A meno che non vengano aggiunte modifiche manuali all'inventario Ansible, queste verranno ripristinate alla prossima esecuzione del playbook Ansible.</block>
  <block id="e6ec687230170238fbff13af150aac11" category="section-title">Opzione 1: Riavvio controllato dal sistema</block>
  <block id="8bd682031ba8c79bdc3518a66ecb5f1d" category="paragraph">Se esiste il rischio che il servizio BeeGFS non si riavvii correttamente con la nuova configurazione, impostare innanzitutto il cluster in modalità di manutenzione per evitare che il monitor BeeGFS rilevi che il servizio è stato arrestato e che venga attivato un failover indesiderato:</block>
  <block id="e445f63138e0cf42d48b191e7212fba5" category="paragraph">Se necessario, apportare eventuali modifiche alla configurazione dei servizi all'indirizzo<block ref="7b2e56941196b9587e16891bfbec2093" prefix=" " category="inline-code"></block> (esempio:<block ref="e3cb2c4f0757837b4a51b638bed0ec4d" prefix=" " category="inline-code"></block>) quindi utilizzare systemd per riavviarlo:</block>
  <block id="fc618f42db9108f58f9c7fc76181a551" category="paragraph">Esempio:<block ref="d1adfe915ae154bb103f4a2e2d28183d" prefix=" " category="inline-code"></block></block>
  <block id="b8a88c45f80fb4ad388f6cfe0958b272" category="section-title">Opzione 2: Riavvio controllato da pacemaker</block>
  <block id="b28d67df7faeb6762f0262ed21fd5c44" category="paragraph">Se non si è preoccupati per la nuova configurazione, il servizio potrebbe arrestarsi in modo imprevisto (ad esempio, semplicemente cambiando il livello di registrazione) oppure ci si trova in una finestra di manutenzione e non si è preoccupati per i tempi di inattività, è sufficiente riavviare il monitor BeeGFS per il servizio che si desidera riavviare:</block>
  <block id="1ea90ec9ad2232dc8536efa244b502cd" category="paragraph">Ad esempio, per riavviare il servizio di gestione BeeGFS:<block ref="19191ce739dde363bc25ef750853010b" prefix=" " category="inline-code"></block></block>
  <block id="d60c67e58f8b774cb2aa20f043f8db60" category="summary">Utilizzare Ansible per aggiornare BeeGFS e il cluster ha.</block>
  <block id="51e0180a7b3c2158984fbbe6e8f869a0" category="paragraph">Ansible deve essere utilizzato per tutti gli aggiornamenti di BeeGFS, incluso il passaggio tra le versioni principali, minori e patch di BeeGFS. Per aggiornare BeeGFS, è necessario innanzitutto aggiornare la raccolta BeeGFS Ansible, che include anche le correzioni e i miglioramenti più recenti all'automazione della distribuzione/gestione e al cluster ha sottostante. Anche dopo l'aggiornamento alla versione più recente della raccolta, BeeGFS non verrà aggiornato fino a.<block ref="6afa1ad605a4192ba2e50e8be9966e68" prefix=" " category="inline-code"></block> viene eseguito con<block ref="1c5a0082b7b70fba66dc89c5dcadda70" prefix=" " category="inline-code"></block> impostare.</block>
  <block id="c647c561b083b3d7395174f66f8631ea" category="inline-link-macro">Documentazione sull'aggiornamento di BeeGFS</block>
  <block id="c24ac53eed3b244d067e62d9a64dfd49" category="admonition">Per ulteriori informazioni sulle versioni di BeeGFS, vedere <block ref="8574fc3a2a061b998ddd0369208f121a" category="inline-link-macro-rx"></block>.</block>
  <block id="47d550a414d88378d8af3a8ee7202f43" category="paragraph">Ogni versione dell'insieme BeeGFS viene testata con versioni specifiche di BeeGFS per garantire l'interoperabilità tra tutti i componenti. Viene inoltre eseguito un test per garantire che gli aggiornamenti possano essere eseguiti dalle versioni di BeeGFS supportate dall'ultima versione della raccolta a quelle supportate nell'ultima release.</block>
  <block id="898fd772d03120abb80bc290103408c1" category="cell">Versione originale</block>
  <block id="6b109fe64fc40b0f8653da2a76f4622d" category="cell">Versione dell'aggiornamento</block>
  <block id="4805ea9349955c3f72d0d2a6e29e9599" category="cell">Multirrail</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">Dettagli</block>
  <block id="9197ec103d780b6779cb78eec6afce31" category="cell">7.2.6</block>
  <block id="0cbcbda5109bcde6b94054595b5c2163" category="cell">7.3.2</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="cell">Sì</block>
  <block id="80af1bca395a5729dba29bf239d414de" category="cell">Aggiornamento della raccolta beegfs da v3.0.1 a v3.1.0, aggiunta di multi-rail</block>
  <block id="cd0d3c01d5de47172fb0980b9e484085" category="cell">7.2.8</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="cell">No</block>
  <block id="f8c6df0b95129e4f957da4faa69e9a95" category="cell">Aggiornamento della raccolta beegfs da v3.0.1 a v3.1.0</block>
  <block id="90e738eca301c4d89366b1a4d15fe37f" category="cell">7.3.1</block>
  <block id="37ee8dee8daa5fa1f91e93f31f1e4548" category="cell">Aggiornamento con la raccolta beegfs v3.1.0, aggiunta di multi-rail</block>
  <block id="35aee211b7a94a90469b8820e9b58379" category="cell">Eseguire l'aggiornamento utilizzando la raccolta beegfs v3.1.0</block>
  <block id="733ba000742537e7a4435573aca51393" category="inline-link-macro">Ansible Galaxy</block>
  <block id="2f4c1ac28e39c823ee4c1a07b7cd93aa" category="paragraph">Per gli aggiornamenti del ritiro con accesso a. <block ref="d8617fd1dfbd628e2360b843d6070e54" category="inline-link-macro-rx"></block>, eseguire il seguente comando:</block>
  <block id="c199206a11a9882502e88de065338656" category="paragraph">Per gli aggiornamenti offline della raccolta, scarica la raccolta da <block ref="d8617fd1dfbd628e2360b843d6070e54" category="inline-link-macro-rx"></block> facendo clic sul pulsante desiderato<block ref="5ab34c986ae1945ee0c548bc8d6ac4a8" prefix=" " category="inline-code"></block> e poi<block ref="80af28150f2ffd9a902b18cd4e9b6656" prefix=" " category="inline-code"></block>. Trasferire il tarball al nodo di controllo Ansible ed eseguire il seguente comando.</block>
  <block id="dd26fb41f43f69172e0099b87c9d0732" category="inline-link-macro">Installazione delle raccolte</block>
  <block id="6aa260cc14fabe54e7e9f6efd513b871" category="paragraph">Vedere <block ref="78e19afa50f5104f13264e857fffab2b" category="inline-link-macro-rx"></block> per ulteriori informazioni.</block>
  <block id="e6811430a0324887ba2ad63393a262e1" category="inline-link-macro">Note sull'aggiornamento della versione</block>
  <block id="800371603b58ee549a4a9674cd231cfd" category="inline-link-macro">Implementare il cluster BeeGFS ha</block>
  <block id="5c349c42761230bd8e50fff98f6e7508" category="paragraph">Per applicare l'aggiornamento BeeGFS:</block>
  <block id="a2dd7653f3025e7feb8e282bcc0bde84" category="paragraph">Dietro le quinte, il ruolo di BeeGFS ha gestirà:</block>
  <block id="2d304ec0e0fbeec292dc41145e2eecb0" category="list-text">Assicurarsi che il cluster si trovi in uno stato ottimale con ciascun servizio BeeGFS situato sul nodo preferito.</block>
  <block id="5f143f3872f8df75b9266e40b2272406" category="list-text">Impostare il cluster in modalità di manutenzione.</block>
  <block id="400df38ef11abbe30ea67fa8e7200a0d" category="list-text">Aggiornare i componenti del cluster ha (se necessario).</block>
  <block id="33421319eb71c7eeb0ce5b0e4a6e4b8f" category="list-text">Aggiornare ciascun nodo di file uno alla volta come segue:</block>
  <block id="e8e28076de7654eb24e044afdf734b1a" category="list-text">Metterlo in standby e eseguire il failover dei servizi sul nodo secondario.</block>
  <block id="428a1ecc41f6178248f2f8dadec2f62b" category="list-text">Aggiornare i pacchetti BeeGFS.</block>
  <block id="8a1d7e8d1dce93a3d4fb9150570283c2" category="list-text">Servizi di fallback.</block>
  <block id="f4a4c394b32e613eb518abe373f40c37" category="list-text">Spostare il cluster fuori dalla modalità di manutenzione.</block>
  <block id="2e5a7ec61feb5cc6bfdf6e50d5cc9a86" category="section-title">Aggiornamento da BeeGFS versione 7.2.6 o 7.3.0</block>
  <block id="7202d449c02688973a53bb72a0090f19" category="inline-link-macro">Autenticazione basata su connessione BeeGFS</block>
  <block id="334d537e5273e4291972dbb772133d23" category="paragraph">Le versioni di BeeGFS rilasciate dopo la 7.3.1 non consentono più l'avvio dei servizi senza specificare un<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block> o impostazione<block ref="194193db6aa10dc83a871ef82dae32ce" prefix=" " category="inline-code"></block> nel file di configurazione del servizio. Si consiglia vivamente di attivare la protezione dell'autenticazione basata sulla connessione. Vedere <block ref="f745eac1796bcd7c76bb4ab7bb03be5b" category="inline-link-macro-rx"></block> per ulteriori informazioni.</block>
  <block id="37075250adff19201f1f54be05b5a07a" category="paragraph">Per impostazione predefinita, il<block ref="59544be57ace17b034c14f8d12510eee" prefix=" " category="inline-code"></block> I ruoli genereranno e distribuiranno questo file, aggiungendolo anche al nodo di controllo Ansible all'indirizzo<block ref="d60ea3ba7610ba191573b69dca307efb" prefix=" " category="inline-code"></block>. Il<block ref="84f7933b4ff9fefcfc60fd5fff4b3b54" prefix=" " category="inline-code"></block> role verificherà anche la presenza di questo file e lo fornirà ai client, se disponibili.</block>
  <block id="1ea32c7c84666a27c0f0add65b2c620e" category="admonition">Se il<block ref="84f7933b4ff9fefcfc60fd5fff4b3b54" prefix=" " category="inline-code"></block> il ruolo non è stato utilizzato per configurare i client; questo file deve essere distribuito manualmente a ciascun client e a.<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block> configurazione in<block ref="1b33ed41c854e3144951352c24ab4653" prefix=" " category="inline-code"></block> file impostato per utilizzarlo. Quando si esegue l'aggiornamento da una versione precedente di BeeGFS in cui l'autenticazione basata sulla connessione non era abilitata, i client perderanno l'accesso a meno che l'autenticazione basata sulla connessione non sia disattivata come parte dell'aggiornamento mediante l'impostazione<block ref="2ff6bdfeb6b3a41d28029b9ff7bdb93c" prefix=" " category="inline-code"></block> poll<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> (sconsigliato).</block>
  <block id="cb584c33a4eae31ed6d0c6ae575a915c" category="inline-link-macro">Specificare la configurazione del nodo file comune</block>
  <block id="c94162d41104b03145716ac6946bd39a" category="summary">Utilizzare Ansible per riconfigurare il cluster.</block>
  <block id="388a6dd09725cda0da5d81c2d32f9c19" category="doc">Riconfigurare il cluster ha e BeeGFS</block>
  <block id="f7f37d848a0be4caeb97d6886778dc2a" category="paragraph">Per ulteriori informazioni sulle opzioni di configurazione selezionate di cui gli amministratori devono essere a conoscenza durante la manutenzione o la manutenzione del cluster, vedere di seguito.</block>
  <block id="d876616b83b1231cc28d82f157ed29c5" category="section-title">Come disattivare e attivare la funzione di scherma</block>
  <block id="22228968b8b77db0d4e57d7cb284feb3" category="paragraph">Per impostazione predefinita, la funzione di scherma viene attivata/richiesta durante la configurazione del cluster. In alcuni casi, potrebbe essere consigliabile disattivare temporaneamente la scherma per garantire che i nodi non vengano accidentalmente arrestati durante determinate operazioni di manutenzione (ad esempio l'aggiornamento del sistema operativo). Anche se questa funzione può essere disattivata manualmente, gli amministratori devono tenere presente che esistono compromessi.</block>
  <block id="bdb2b6bd7635150b7e92a51e70612e12" category="section-title">OPZIONE 1: Disattiva scherma utilizzando Ansible (consigliato).</block>
  <block id="619a84cba5006df3e436e2a726ca2871" category="paragraph">Quando la funzione di scherma viene disattivata utilizzando Ansible, l'azione on-fail del monitor BeeGFS passa da "fence" a "standby". Ciò significa che se il monitor BeeGFS rileva un errore, tenterà di mettere il nodo in standby e di eseguire il failover di tutti i servizi BeeGFS. Al di fuori del troubleshooting/test attivo, questo è in genere più desiderabile dell'opzione 2. Lo svantaggio è che se una risorsa non si ferma sul nodo originale, viene impedita l'avvio da un'altra parte (motivo per cui la scherma è generalmente richiesta per i cluster di produzione).</block>
  <block id="0809fe829e193f81980e79631c9c15cc" category="list-text">Nel tuo inventario Ansible all'indirizzo<block ref="24eab3114da61057c831607cf391b3b9" prefix=" " category="inline-code"></block> aggiungere la seguente configurazione:</block>
  <block id="d73646db1bf30029f2486d5b7462cde5" category="list-text">Rieseguire il manuale Ansible per applicare le modifiche al cluster.</block>
  <block id="50a460b97c563d3429b629b6911db7d5" category="section-title">OPZIONE 2: Disattiva manualmente la funzione di scherma.</block>
  <block id="28850c63d2fb8db15eeb1664c121e11b" category="paragraph">In alcuni casi, potrebbe essere necessario disattivare temporaneamente la scherma senza eseguire nuovamente Ansible, ad esempio per facilitare la risoluzione dei problemi o il test del cluster.</block>
  <block id="e0740d4e01fcc73df3a73294627cd292" category="admonition">In questa configurazione, se il monitor BeeGFS rileva un errore, il cluster tenta di arrestare il gruppo di risorse corrispondente. Non attiverà un failover completo né tenterà di riavviare o spostare il gruppo di risorse interessato in un altro host. Per risolvere il problema, risolvere i problemi che si verificano in seguito<block ref="b292ce60014c1c0e30e4db1f177243d3" prefix=" " category="inline-code"></block> oppure mettere manualmente il nodo in standby.</block>
  <block id="99f83169540f1c3e08a1e696707dcbee" category="list-text">Per determinare se la scherma (stonith) è attivata o disattivata globalmente, eseguire:<block ref="f9bc36eebaadfbe3971849dbb1a7a291" prefix=" " category="inline-code"></block></block>
  <block id="88653da28715cbac123466935349c7b2" category="list-text">Per disattivare la funzione di scherma:<block ref="d3749d5705f2a9af97f05b0c5c91b235" prefix=" " category="inline-code"></block></block>
  <block id="79c811c32be072ba96828f7eaf67e191" category="list-text">Per attivare la funzione di scherma:<block ref="65795833f6c4653caabc1cbacafe84d8" prefix=" " category="inline-code"></block></block>
  <block id="54dfcc160f4c7fc21df07ee9c7df6f86" category="paragraph">Nota: Questa impostazione verrà ignorata alla prossima esecuzione del playbook Ansible.</block>
  <block id="c8c3d1dbab26a87a3652e84d9f35d37f" category="summary">Quando si deve utilizzare Ansible rispetto allo strumento della riga di comando di PC per gestire il cluster ha?</block>
  <block id="932c5a738d1d867e858cd1dbc1391b1a" category="doc">Quando utilizzare Ansible rispetto allo strumento PC</block>
  <block id="272d3f535988cc62fbddd197f2ce0477" category="paragraph">Tutte le attività di implementazione e riconfigurazione del cluster devono essere completate utilizzando Ansible da un nodo di controllo Ansible esterno. Le modifiche temporanee nello stato del cluster (ad esempio, l'inserimento e l'uscita dei nodi in standby) vengono eseguite in genere accedendo a un nodo del cluster (preferibilmente uno che non è degradato o che sta per essere sottoposto a manutenzione) e utilizzando la riga di comando di PC.</block>
  <block id="5b94af0d2c18b35c22f5cfa622f91a3c" category="paragraph">La modifica di qualsiasi configurazione del cluster, incluse risorse, vincoli, proprietà e i servizi BeeGFS stessi, deve essere eseguita sempre utilizzando Ansible. La manutenzione di una copia aggiornata dell'inventario e del playbook Ansible (idealmente nel controllo del codice sorgente per tenere traccia delle modifiche) fa parte della manutenzione del cluster. Quando è necessario apportare modifiche alla configurazione, aggiornare l'inventario ed eseguire nuovamente il playbook Ansible che importa il ruolo BeeGFS ha.</block>
  <block id="636c6afe41e34a0f4dc30a8fee8de25c" category="paragraph">Il ruolo ha gestirà il posizionamento del cluster in modalità di manutenzione e l'esecuzione delle modifiche necessarie prima di riavviare BeeGFS o i servizi cluster per applicare la nuova configurazione. Poiché i riavvii completi dei nodi non sono generalmente necessari al di fuori dell'implementazione iniziale, il rerunning di Ansible è generalmente considerato una procedura "sicura", ma è sempre consigliato durante le finestre di manutenzione o fuori orario nel caso in cui sia necessario riavviare qualsiasi servizio BeeGFS. In genere, questi riavvii non dovrebbero causare errori nelle applicazioni, ma potrebbero compromettere le prestazioni (che alcune applicazioni potrebbero gestire meglio di altre).</block>
  <block id="cfe79eee27daf73a913f7b76cbb46461" category="paragraph">Il rerunning di Ansible è anche un'opzione quando si desidera riportare l'intero cluster a uno stato completamente ottimale e in alcuni casi potrebbe essere in grado di ripristinare lo stato del cluster più facilmente rispetto all'utilizzo di PC. Soprattutto in caso di emergenza in cui il cluster non è attivo per qualche motivo, una volta eseguito il backup di tutti i nodi, Ansible può ripristinare il cluster in modo più rapido e affidabile rispetto al tentativo di utilizzare i PC.</block>
  <block id="647328604bd666deba44b0caaea998a2" category="summary">Scopri come amministrare i cluster BeeGFS ha dopo che sono stati implementati.</block>
  <block id="0aa1ffb15625f418cfc560deda2535bb" category="doc">Panoramica, concetti chiave e terminologia</block>
  <block id="d051e95d54ee33ed5c79e05f582bab59" category="paragraph">Questa sezione è destinata agli amministratori dei cluster che devono gestire i cluster BeeGFS ha dopo la loro implementazione. Anche coloro che hanno familiarità con i cluster ha Linux dovrebbero leggere attentamente questa guida, poiché esistono diverse differenze nella gestione del cluster, in particolare per quanto riguarda la riconfigurazione dovuta all'utilizzo di Ansible.</block>
  <block id="612b7c650263f39248b97e7e57b35a77" category="section-title">Concetti chiave</block>
  <block id="db7e5dec439a7c83d48d86330a62e954" category="inline-link-macro">termini e concetti</block>
  <block id="8961c26dabe98c278717f1cb0fc25fdc" category="paragraph">**Nodo cluster:** un server che esegue i servizi Pacemaker e Corosync e che partecipa al cluster ha.</block>
  <block id="e0a3a06b3c015009967896eb40327e82" category="paragraph">**Nodo file:** nodo cluster utilizzato per eseguire uno o più servizi di gestione, metadati o storage BeeGFS.</block>
  <block id="1985ebdeb71d83b6b551914e77b2b178" category="paragraph">**Nodo a blocchi:** un sistema storage NetApp e-Series che fornisce storage a blocchi ai nodi di file. Questi nodi non fanno parte del cluster BeeGFS ha in quanto offrono funzionalità ha standalone proprie. Ciascun nodo è costituito da due storage controller che forniscono alta disponibilità al livello di blocco.</block>
  <block id="31a3205f29074295100fad4351661826" category="paragraph">**Servizio BeeGFS:** Un servizio di gestione, metadati o storage BeeGFS. Ogni nodo di file eseguirà uno o più servizi che utilizzeranno i volumi sul nodo di blocco per memorizzare i propri dati.</block>
  <block id="495f4cf25a1d9d4e5a1258aafbbf0c8d" category="paragraph">**Building Block:** implementazione standardizzata di file node BeeGFS, nodi a blocchi e-Series e servizi BeeGFS in esecuzione su di essi che semplifica la scalabilità di un cluster/file system BeeGFS ha in base a un'architettura verificata di NetApp. Sono supportati anche i cluster ha personalizzati, ma spesso seguono un approccio simile a building block per semplificare la scalabilità.</block>
  <block id="f1816719094f9c5af3f9f2666c1c5666" category="paragraph">**Cluster BeeGFS ha:** un numero scalabile di nodi di file utilizzati per eseguire i servizi BeeGFS supportati da nodi a blocchi per memorizzare i dati BeeGFS in modo altamente disponibile. Basato su componenti open-source collaudati nel settore, Pacemaker e Corosync utilizzano Ansible per il packaging e l'implementazione.</block>
  <block id="830f6f39f3eb0533714fc986605bb0fc" category="paragraph">**Servizi cluster:** si riferisce ai servizi Pacemaker e Corosync in esecuzione su ciascun nodo che partecipa al cluster. Nota è possibile che un nodo non esegua alcun servizio BeeGFS e partecipi al cluster come nodo "Tiebreaker" nel caso in cui vi sia solo la necessità di due nodi di file.</block>
  <block id="ac47f8eb4b50e1f3fefe94fafff761c2" category="paragraph">**Risorse del cluster:** per ogni servizio BeeGFS in esecuzione nel cluster vengono visualizzate una risorsa di monitoraggio BeeGFS e un gruppo di risorse contenente risorse per destinazioni BeeGFS, indirizzi IP (IP mobili) e il servizio BeeGFS stesso.</block>
  <block id="25d0c377de7b7699ce796352723a7a41" category="paragraph">**Ansible:** Uno strumento per il provisioning del software, la gestione della configurazione e l'implementazione delle applicazioni, che consente l'infrastruttura come codice. È il modo in cui i cluster BeeGFS ha vengono confezionati per semplificare il processo di implementazione, riconfigurazione e aggiornamento di BeeGFS su NetApp.</block>
  <block id="53ece6444fc3a7adacd61f55a3d5e410" category="paragraph">**Pcs:** interfaccia a riga di comando disponibile da qualsiasi nodo di file nel cluster utilizzato per eseguire query e controllare lo stato dei nodi e delle risorse nel cluster.</block>
  <block id="1ed63b060fea1b0497535f402b308312" category="section-title">Terminologia comune</block>
  <block id="d3d43886ce330c5bc1abf87c9da84517" category="paragraph">**Failover:** ciascun servizio BeeGFS dispone di un nodo di file preferito su cui verrà eseguito, a meno che tale nodo non si guasti. Quando un servizio BeeGFS viene eseguito su un nodo di file non preferito/secondario, si dice che sia in failover.</block>
  <block id="360fc740d5a934107e93d720053a8a24" category="paragraph">**Failover:** l'atto di spostare i servizi BeeGFS da un nodo di file non preferito al nodo preferito.</block>
  <block id="1687b43e3f76609bd3a5dda1cdbd29b3" category="paragraph">**Coppia ha:** due nodi di file che possono accedere allo stesso insieme di nodi a blocchi sono talvolta indicati come coppia ha. Si tratta di un termine comune utilizzato in NetApp per fare riferimento a due controller o nodi storage che possono "assumere" l'uno con l'altro.</block>
  <block id="3663bc32267b225ac55e52a4e99f2b3c" category="inline-link-macro">modalità di manutenzione</block>
  <block id="e7f8a11794ad2275f244bec012ef84de" category="paragraph">**Cluster ha:** uno o più file node che eseguono servizi BeeGFS che possono eseguire il failover tra più nodi nel cluster per creare un file system BeeGFS ad alta disponibilità. Spesso i file node sono configurati in coppie ha in grado di eseguire un sottoinsieme dei servizi BeeGFS nel cluster.</block>
  <block id="23bc11ca7e09a55b459ef424efb98c36" category="summary">Utilizzare i PC per visualizzare lo stato del cluster.</block>
  <block id="d4c39d91a1df6c7a7094c35722ec3ed5" category="doc">Esaminare lo stato del cluster</block>
  <block id="b6330a3d35150021353dc39d5bf1899a" category="paragraph">In esecuzione<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> Da qualsiasi nodo del cluster è il modo più semplice per visualizzare lo stato complessivo del cluster e lo stato di ciascuna risorsa (ad esempio i servizi BeeGFS e le relative dipendenze). In questa sezione vengono illustrate le informazioni disponibili nell'output di<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> comando.</block>
  <block id="a58022af0d3ce83b3b4031643fcdb7be" category="section-title">Comprendere l'output di<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block></block>
  <block id="24b70b7dc179eb742a98eca1b4c954b3" category="paragraph">Eseguire<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> Su qualsiasi nodo del cluster in cui vengono avviati i servizi del cluster (pacemaker e Corosync). La parte superiore dell'output mostra un riepilogo del cluster:</block>
  <block id="9e1d70fa0d8e4964c3bd135b73fa8375" category="paragraph">La sezione seguente elenca i nodi nel cluster:</block>
  <block id="ce0c86ab66a5ecdcc820da60194c7abc" category="paragraph">Ciò indica in particolare i nodi in standby o offline. I nodi in standby partecipano ancora al cluster ma sono contrassegnati come non idonei per l'esecuzione delle risorse. I nodi offline indicano che i servizi cluster non sono in esecuzione su quel nodo, a causa di un arresto manuale o perché il nodo è stato riavviato/arrestato.</block>
  <block id="39dd7b2f17eda84e2e8059bb568493c9" category="admonition">Quando i nodi si avviano per la prima volta, i servizi del cluster vengono arrestati e devono essere avviati manualmente per evitare il failover accidentale delle risorse su un nodo non integro.</block>
  <block id="cbc566d6b815d43dd99c76ca8f2fd4f8" category="paragraph">Se i nodi sono in standby o non in linea a causa di un motivo non amministrativo (ad esempio un errore), accanto allo stato del nodo viene visualizzato un testo aggiuntivo tra parentesi. Ad esempio, se la funzione di scherma è disattivata e una risorsa rileva un errore, viene visualizzato<block ref="1db3c4bcbb494ae3b1b2e86c57842a69" prefix=" " category="inline-code"></block>. Un altro stato possibile è<block ref="3fd6d1573d7af30709095c1a01f1fdd9" prefix=" " category="inline-code"></block>, che sarà visto brevemente come un nodo è in fase di recintamento, ma continuerà se la scherma non è riuscita, indicando che il cluster non può confermare lo stato del nodo (questo può bloccare l'avvio delle risorse su altri nodi).</block>
  <block id="56cfcb8bfa2e43de0547ffbf4a2edd0e" category="paragraph">La sezione successiva mostra un elenco di tutte le risorse del cluster e dei relativi stati:</block>
  <block id="45caf63eb71a242bf4ef160a8aeeb2a4" category="paragraph">In modo simile ai nodi, viene visualizzato un testo aggiuntivo accanto allo stato della risorsa tra parentesi in caso di problemi con la risorsa. Ad esempio, se il pacemaker richiede un arresto della risorsa e non riesce a completarlo entro il tempo assegnato, il pacemaker tenterà di individuare il nodo. Se la funzione di scherma è disattivata o l'operazione di scherma non riesce, lo stato della risorsa sarà<block ref="bb38152bf8b813a142650a06ad87363e" prefix=" " category="inline-code"></block> E Pacemaker non sarà in grado di avviarlo su un nodo diverso.</block>
  <block id="028c86c0d3bdc4a78f8123e9fad41847" category="paragraph">Vale la pena notare che i cluster BeeGFS ha utilizzano diversi agenti di risorse OCF personalizzati ottimizzati per BeeGFS. In particolare, il monitor BeeGFS è responsabile dell'attivazione di un failover quando le risorse BeeGFS su un nodo specifico non sono disponibili.</block>
  <block id="2260cb128d87141c6a0a2c06c043def7" category="summary">Dopo aver definito la struttura generale di inventario Ansible, definire la configurazione per ciascun building block nel file system BeeGFS.</block>
  <block id="c8f38adfaba8270e793616e0556571c7" category="doc">Definire l'inventario Ansible per gli elementi di base BeeGFS</block>
  <block id="b8bb1668a8a0007267670827d99f76b5" category="paragraph">Queste istruzioni di implementazione mostrano come implementare un file system costituito da un building block di base che include servizi di gestione, metadati e storage, un secondo building block con metadati e servizi di storage e un terzo building block di solo storage.</block>
  <block id="bc4ca1def58917532e653ebf4c3c5f15" category="paragraph">Questi passaggi hanno lo scopo di mostrare l'intera gamma di profili di configurazione tipici che è possibile utilizzare per configurare gli elementi di base di NetApp BeeGFS in modo da soddisfare i requisiti del file system generale BeeGFS.</block>
  <block id="053cdc4e7aa5884fba5be0b7e80bcb5c" category="admonition">In questa e nelle sezioni successive, modificare in base alle necessità per creare l'inventario che rappresenta il file system BeeGFS che si desidera implementare. In particolare, utilizzare i nomi host Ansible che rappresentano ciascun nodo di file o blocco e lo schema di indirizzamento IP desiderato per la rete di storage per garantire che possa scalare in base al numero di nodi di file e client BeeGFS.</block>
  <block id="e00187948ca315221e5e284a4312f83f" category="section-title">Fase 1: Creare il file di inventario Ansible</block>
  <block id="cbdf4dddad7bf23198edcbf2c8721659" category="list-text">Creare un nuovo<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> quindi inserire i seguenti parametri, sostituendo gli host in<block ref="0b41e1ef1f01592b0f6a7174f0010e75" prefix=" " category="inline-code"></block> in base alle necessità per rappresentare i nodi a blocchi nell'implementazione. I nomi devono corrispondere al nome utilizzato per<block ref="6ebd598dbc59122afdf4763cac1ed550" prefix=" " category="inline-code"></block>.</block>
  <block id="742c9db30f264a7d33e72383a817b4f5" category="paragraph">Nelle sezioni successive, verranno creati ulteriori gruppi Ansible in<block ref="2325c19457d6105d5d5f3837fa282ef7" prefix=" " category="inline-code"></block> Che rappresentano i servizi BeeGFS che si desidera eseguire nel cluster.</block>
  <block id="066251bf9494493f76299f6f40a80df6" category="section-title">Fase 2: Configurare l'inventario per un building block di gestione, metadati e storage</block>
  <block id="5320d481bd8442fec42afcaded2a8d49" category="paragraph">Il primo building block nel cluster o nel building block di base deve includere il servizio di gestione BeeGFS insieme ai metadati e ai servizi di storage:</block>
  <block id="a54299a446e0a2e17f57383db8e31dc6" category="list-text">Poll<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block>, compilare i seguenti parametri in<block ref="47488094171904d309860f2ab8f8eb63" prefix=" " category="inline-code"></block>:</block>
  <block id="fd84d0d4501e2eca409dc18043cf1492" category="list-text">Creare il file<block ref="096c36ebf1ab8bf90e099d6808eb57d0" prefix=" " category="inline-code"></block> e includere quanto segue:</block>
  <block id="bcc9cdaf60435f4d091a1bfdac879201" category="list-text">Sotto<block ref="14681f191ffa04a9b3cfd0d1d62d0b7c" prefix=" " category="inline-code"></block>, creare i file per i gruppi di risorse<block ref="9a2a6271435751311d49f29af321e54c" prefix=" " category="inline-code"></block> attraverso<block ref="71fcdde6efe08cd30c14cff19fe12017" prefix=" " category="inline-code"></block> utilizzando il seguente modello, inserire i valori segnaposto per ogni servizio che fa riferimento alla tabella seguente:</block>
  <block id="3df790a0a0a3be54d9cbac91d4bc35e1" category="inline-link">Introduzione all'array NetApp EF600</block>
  <block id="4ada98602970473e524def1d48723bd6" category="admonition">Le dimensioni del volume vengono specificate come percentuale del pool di storage complessivo (definito anche gruppo di volumi). NetApp consiglia vivamente di lasciare una certa capacità libera in ogni pool per consentire lo spazio necessario per l'overprovisioning SSD (per ulteriori informazioni, vedere<block ref="dfc1025f9a756c10e6b0cbe0f4bc500a" category="inline-link-rx"></block>). Il pool di storage,<block ref="7ef878b8d47cf2658a8b7e4c1b8f133d" prefix=" " category="inline-code"></block>, alloca inoltre l'1% della capacità del pool per il servizio di gestione. Pertanto, per i volumi di metadati nel pool di storage,<block ref="7ef878b8d47cf2658a8b7e4c1b8f133d" prefix=" " category="inline-code"></block>, Se si utilizzano dischi da 1,92 TB o 3,84 TB, impostare questo valore su<block ref="6950471ad34ba84d94045961d34ad16b" prefix=" " category="inline-code"></block>; Per dischi da 7,65 TB, impostare questo valore su<block ref="6d61e9b2e679326dd5a7a5a155cce414" prefix=" " category="inline-code"></block>; E per i dischi da 15,3 TB, impostare questo valore su<block ref="c350ffebb2160c4726034bf20ba7520f" prefix=" " category="inline-code"></block>.</block>
  <block id="34082694d21dbdcfc31e6e32d9fb2b9f" category="cell">Nome del file</block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">Porta</block>
  <block id="b1cddc6c78e92a26b8976dc97327d412" category="cell">IP mobili</block>
  <block id="72159601fc6c3d952cc9825d610ddd68" category="cell">Zona NUMA</block>
  <block id="d7f9ab96aecba4fb98ecf8831eb0a462" category="cell">Nodo del blocco</block>
  <block id="40cf615dcacf5ec5faf6a3cdf1ff5a6e" category="cell">Pool di storage</block>
  <block id="cdd25d91a2d0aca59a80f91cfe9af9de" category="cell">Controller proprietario</block>
  <block id="f4d0c8022be4f31d06814c33705037ff" category="cell">meta_01.yml</block>
  <block id="1f7aa6705d5b742085538c627f6f9c2b" category="cell">8015</block>
  <block id="cfcd208495d565ef66e7dff9f98764da" category="cell">0</block>
  <block id="7ef878b8d47cf2658a8b7e4c1b8f133d" category="cell">beegfs_m1_m2_m5_m6</block>
  <block id="7fc56270e7a70fa81a5935b72eacbe29" category="cell">R</block>
  <block id="60b1afbaab870bf5621ed87ae12559fe" category="cell">meta_02.yml</block>
  <block id="62d2b7ba91f34c0ac08aa11c359a8d2c" category="cell">8025</block>
  <block id="9d5ed678fe57bcca610140957afab571" category="cell">B</block>
  <block id="3ce592406a461bfadfa5ab1f08c5c506" category="cell">meta_03.yml</block>
  <block id="a2b8a85a29b2d64ad6f47275bf1360c6" category="cell">8035</block>
  <block id="c4ca4238a0b923820dcc509a6f75849b" category="cell">1</block>
  <block id="c229ea898f8c27aeb40c65332e30db3f" category="cell">beegfs_m3_m4_m7_m8</block>
  <block id="7f6482de225123824ca5b23c1cf79f05" category="cell">meta_04.yml</block>
  <block id="704cddc91e28d1a5517518b2f12bc321" category="cell">8045</block>
  <block id="833a23c43dc9c206a593873d80d04903" category="cell">meta_05.yml</block>
  <block id="444b0d9a802792791bb9a2da568b463d" category="cell">8055</block>
  <block id="38774c8cd9de3fd76c7df6b0746f2f2b" category="cell">meta_06.yml</block>
  <block id="320e4df890a1a620573db8170f39a093" category="cell">8065</block>
  <block id="5a681b3e1f7ad2d965284e36f4f6b7d3" category="cell">meta_07.yml</block>
  <block id="ede529dfcbb2907e9760eea0875cdd12" category="cell">8075</block>
  <block id="a9cc3f3ebc7a8daedf369af06faba518" category="cell">meta_08.yml</block>
  <block id="5011bf6d8a37692913fce3a15a51f070" category="cell">8085</block>
  <block id="89f0938aa83de82ca99f8b06297ed69c" category="list-text">Sotto<block ref="14681f191ffa04a9b3cfd0d1d62d0b7c" prefix=" " category="inline-code"></block>, creare i file per i gruppi di risorse<block ref="204798ade8b6ac861bd335e908dea445" prefix=" " category="inline-code"></block> attraverso<block ref="febac7a5dad8d84a1faa80d56d8a70cb" prefix=" " category="inline-code"></block> utilizzando il seguente modello, inserire i valori segnaposto per ciascun servizio che fa riferimento all'esempio:</block>
  <block id="9b62ac6b206ab6cafe8dafa0990559c7" category="inline-link-macro">Percentuali consigliate di overprovisioning del pool di storage</block>
  <block id="ab2ec57b0e9afdc73bcc69a962ee35c4" category="admonition">Per le dimensioni corrette da utilizzare, vedere <block ref="152d8bea233357f34ffa00ccf219bae3" category="inline-link-macro-rx"></block>.</block>
  <block id="b627976db3394ccf24342632cef6f4f1" category="cell">stor_01.yml</block>
  <block id="40f4da34bbe180214c23b9e55da4f772" category="cell">8013</block>
  <block id="5ef33d06ff783e8453c10b95db8c1253" category="cell">beegfs_s1_s2</block>
  <block id="70963f6e36ca66556bef5f6ae74ad0ad" category="cell">stor_02.yml</block>
  <block id="1ecdec353419f6d7e30857d00d0312d1" category="cell">8023</block>
  <block id="a4253b13d64a7017467d335c0c147ed3" category="cell">stor_03.yml</block>
  <block id="fc5b3186f1cf0daece964f78259b7ba0" category="cell">8033</block>
  <block id="a3cc9ef3e643fd2d2e1b6c2672b1c361" category="cell">beegfs_s3_s4</block>
  <block id="d471f1c4be4f658b822b7cfcfc808efa" category="cell">stor_04.yml</block>
  <block id="5bd529d5b07b647a8863cf71e98d651a" category="cell">8043</block>
  <block id="6a0625f228a1c5802a3d0ca970c7ebac" category="cell">stor_05.yml</block>
  <block id="dfccdb8b1cc7e4dab6d33db0fef12b88" category="cell">8053</block>
  <block id="2ac54a6d92aca96fef8d0eac5b813f34" category="cell">beegfs_s5_s6</block>
  <block id="09da1a861f10d113069c5e1da9d2decd" category="cell">stor_06.yml</block>
  <block id="8d1f1aac0dd8a76b49e8bbdda0c7c98c" category="cell">8063</block>
  <block id="cf124e58023b3726106af9c8718a48ed" category="cell">stor_07.yml</block>
  <block id="ffa9b486ad206c638c657b7ed335635c" category="cell">8073</block>
  <block id="3e96e523215f928a3915e79e1451e2e7" category="cell">beegfs_s7_s8</block>
  <block id="0e4b036746af52a755e4b546698b2b61" category="cell">stor_08.yml</block>
  <block id="20ef119e812e178ecb44efa448b57ebc" category="cell">8083</block>
  <block id="80e0c052ed9f2bde54c56adb04f880f1" category="section-title">Fase 3: Configurare l'inventario per un building block di metadati + storage</block>
  <block id="9e701ac8f2dd669a0e51464b4d8e3331" category="paragraph">Questi passaggi descrivono come configurare un inventario Ansible per un building block di storage + metadati BeeGFS.</block>
  <block id="ff1cbf3210fb9b21912445c6ea8cb9f6" category="list-text">Poll<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block>, inserire i seguenti parametri nella configurazione esistente:</block>
  <block id="628d1b90e1a21bbcec24af78377f8297" category="list-text">Sotto<block ref="14681f191ffa04a9b3cfd0d1d62d0b7c" prefix=" " category="inline-code"></block>, creare i file per i gruppi di risorse<block ref="f7f236466904f5e4828a0db580764b62" prefix=" " category="inline-code"></block> attraverso<block ref="20581f314f77bcf174d5bf0da0f87668" prefix=" " category="inline-code"></block> utilizzando il seguente modello, inserire i valori segnaposto per ciascun servizio che fa riferimento all'esempio:</block>
  <block id="bc5e8003da73758b95c46194672943bb" category="admonition">Per le dimensioni corrette da utilizzare, vedere <block ref="152d8bea233357f34ffa00ccf219bae3" category="inline-link-macro-rx"></block>.</block>
  <block id="9c6de3c786b8c9c409de2fd8070e5072" category="cell">meta_09.yml</block>
  <block id="2ea9f3181dbee99d651a0d6c53be4a36" category="cell">beegfs_m9_m10_m13_m14</block>
  <block id="f370a281056494e99bcade5ddef17b26" category="cell">meta_10.yml</block>
  <block id="27f563eed2131061540c21a6239b43d8" category="cell">meta_11.yml</block>
  <block id="7c335ef1ce51db644c52518580d45d49" category="cell">beegfs_m11_m12_m15_m16</block>
  <block id="a2a3007e91ab84d40e9453997468f1ad" category="cell">meta_12.yml</block>
  <block id="14c79c2a227a377885225e0f4dcf53b0" category="cell">meta_13.yml</block>
  <block id="07e72a8a343c421129dc3a92902de565" category="cell">meta_14.yml</block>
  <block id="d4d36ef3d915a0d2eaac8c62f1d8eff6" category="cell">meta_15.yml</block>
  <block id="b465a4b4c591a6f2e44fedac80e726d0" category="cell">meta_16.yml</block>
  <block id="91e38d134a7ca4a23006b0cf023d9011" category="list-text">Sotto<block ref="648847925d2f67d0e9aff6f86a7141c1" prefix=" " category="inline-code"></block> creare file per gruppi di risorse<block ref="e82765740642d7caa6320c506be59565" prefix=" " category="inline-code"></block> attraverso<block ref="26d2d73c912baae339181423e2a8cf85" prefix=" " category="inline-code"></block> utilizzando il seguente modello, inserire i valori segnaposto per ciascun servizio che fa riferimento all'esempio:</block>
  <block id="ca61951791cd6f4d50294a908b9eee76" category="admonition">Per le dimensioni corrette da utilizzare, vedere <block ref="152d8bea233357f34ffa00ccf219bae3" category="inline-link-macro-rx"></block>..</block>
  <block id="71c1385fcc844d118e8b2688b0cfd2d6" category="cell">stor_09.yml</block>
  <block id="9282f3f43896f146dcbcc2d03d530b59" category="cell">beegfs_s9_s10</block>
  <block id="8f72ae1bf7ca7b8218a4bf9e719f5e7d" category="cell">stor_10.yml</block>
  <block id="e5a3d4f42adb756f3b3c2e3ed045e4a8" category="cell">stor_11.yml</block>
  <block id="6e4cec4b32bddd9c9a3574aacee223b6" category="cell">beegfs_s11_s12</block>
  <block id="05fd4833433a12b38d11d8045aebddff" category="cell">stor_12.yml</block>
  <block id="437037bccd34f3db0b238843b50fe65a" category="cell">stor_13.yml</block>
  <block id="7db433542754f496e2d707f51bf00c05" category="cell">beegfs_s13_s14</block>
  <block id="b3c4ed6c5b5c833713923f9e9bdfb9b9" category="cell">stor_14.yml</block>
  <block id="4871ef58b7b91db78d33bb4d95e4bf27" category="cell">stor_15.yml</block>
  <block id="b1a9c1cb2640dd5bc9fb4e80dda30200" category="cell">beegfs_s15_s16</block>
  <block id="b02a9cdb541eba39e680a1da9c6299c7" category="cell">stor_16.yml</block>
  <block id="dea1f079dcd8c8280e07dcd96ea8c075" category="section-title">Fase 4: Configurare l'inventario per un building block di solo storage</block>
  <block id="711be1acedea341e1f5455f007cdb22b" category="paragraph">Questi passaggi descrivono come configurare un inventario Ansible per un building block BeeGFS solo storage. La differenza principale tra l'impostazione della configurazione per un metadata + storage rispetto a un building block solo storage è l'omissione di tutti i gruppi di risorse di metadati e la modifica<block ref="4c7b810e50ba611dcdc51295c4338bf0" prefix=" " category="inline-code"></block> da 10 a 12 per ogni pool di storage.</block>
  <block id="5b6fe069463b7f5581a1864de036e765" category="list-text">Sotto<block ref="14681f191ffa04a9b3cfd0d1d62d0b7c" prefix=" " category="inline-code"></block>, creare i file per i gruppi di risorse<block ref="24a4e7d8beea152fbef989b5391e857b" prefix=" " category="inline-code"></block> attraverso<block ref="4df0910e4828ce9c7f4218f92cf86499" prefix=" " category="inline-code"></block> utilizzando il seguente modello, inserire i valori segnaposto per ciascun servizio che fa riferimento all'esempio:</block>
  <block id="80f4c22d8a78e5d96cdf5bef28444426" category="admonition">Per le dimensioni corrette da utilizzare, vedere <block ref="152d8bea233357f34ffa00ccf219bae3" category="inline-link-macro-rx"></block>.</block>
  <block id="f9838993bed3d0e550ae346ed2e4355e" category="cell">stor_17.yml</block>
  <block id="8cf4aacf94a115dfc0190ee6782190d3" category="cell">beegfs_s17_s18</block>
  <block id="7876b49b042d07da9a565db780a9b186" category="cell">stor_18.yml</block>
  <block id="291847ab33dfc1d81beed13f4d7a0519" category="cell">stor_19.yml</block>
  <block id="6a972920f626e0b0b8d505315beaf38b" category="cell">beegfs_s19_s20</block>
  <block id="943a4f354a2af18dac1fe2a6e14fe880" category="cell">stor_20.yml</block>
  <block id="a5aadbbde2e0b66fc661a126f5a1ce1e" category="cell">stor_21.yml</block>
  <block id="9c82263beb960ece0e5b6ac0604bb4d9" category="cell">beegfs_s21_s22</block>
  <block id="4879e56fe4d161ba3e4df67f961c483a" category="cell">stor_22.yml</block>
  <block id="316b3c9a6656c51b87a725bf1f678a52" category="cell">stor_23.yml</block>
  <block id="2404c81b13915ef9d59e0ac6328f4c10" category="cell">beegfs_s23_s24</block>
  <block id="47662afeeaa16771e7d516dd96ade0b7" category="cell">stor_24.yml</block>
  <block id="1d62eb925570a160f6a58cd18984f578" category="summary">La soluzione BeeGFS include consigli per il dimensionamento delle performance e della capacità basati su test di verifica.</block>
  <block id="137e4d3e0bc5586af6fc7ca9441511e1" category="doc">Linee guida per il dimensionamento</block>
  <block id="6166a42aac4e50811124dbb35631ea78" category="paragraph">L'obiettivo di un'architettura building-block è creare una soluzione semplice da dimensionare aggiungendo più building block per soddisfare i requisiti di un particolare sistema BeeGFS. Utilizzando le linee guida riportate di seguito, è possibile stimare la quantità e i tipi di blocchi di base BeeGFS necessari per soddisfare i requisiti del proprio ambiente.</block>
  <block id="a752ca5f8ca9bd168c12fc180ff734e3" category="paragraph">Tenere presente che queste stime sono le migliori performance del caso. Le applicazioni di benchmarking sintetico vengono scritte e utilizzate per ottimizzare l'utilizzo dei file system sottostanti in modi diversi dalle applicazioni reali.</block>
  <block id="800f4a301937e5493aaaddfe77e10dd5" category="section-title">Dimensionamento delle performance</block>
  <block id="6875300666b544ca98e406bd6ca73da1" category="paragraph">La seguente tabella fornisce il dimensionamento delle performance consigliato.</block>
  <block id="83d4567aaaf81ff58ab394c3ad02accc" category="cell">Profilo di configurazione</block>
  <block id="58a15ea9e5c981b498a5c119456b9dd9" category="cell">1 MIB letture</block>
  <block id="968dfca19c742301bc400a7c883b1594" category="cell">1MiB scrive</block>
  <block id="8cf5b688a1a209b630cab18001501c76" category="cell">Metadati + storage</block>
  <block id="5d44d1f7b753dee2968cad82eef2f1dd" category="cell">62GiBps</block>
  <block id="a5a649e4dec54d9f61f1cfc632dab412" category="cell">21 GiBps</block>
  <block id="dfab8e8b566f2d091e7ecb4b4d65060b" category="cell">Solo storage</block>
  <block id="1d955116a3bafb864bcf6755485fce7e" category="cell">64 GiBps</block>
  <block id="419cfc02b324dc7d8faefa90ed608fb0" category="inline-link">Requisiti di sistema</block>
  <block id="e618e38f89f153e374a90674c51efb8f" category="paragraph">Le stime di dimensionamento della capacità dei metadati si basano sulla "regola generale" secondo cui 500 GB di capacità sono sufficienti per circa 150 milioni di file in BeeGFS. Per ulteriori informazioni, consultare la documentazione di BeeGFS per<block ref="d422b619831c270410797364c04b1fb2" category="inline-link-rx"></block>.)</block>
  <block id="903cd75262aca9ec0b3a831bccc18869" category="paragraph">L'utilizzo di funzionalità come gli elenchi di controllo degli accessi e il numero di directory e file per directory influisce anche sulla velocità di utilizzo dello spazio dei metadati. Le stime della capacità dello storage tengono conto della capacità utilizzabile del disco insieme all'overhead di RAID 6 e XFS.</block>
  <block id="9490db12574d3954607c7e9d91d28809" category="section-title">Dimensionamento della capacità per metadati + building block dello storage</block>
  <block id="015d2cd8138605f0cec20c9dffe04a93" category="paragraph">La seguente tabella fornisce il dimensionamento della capacità consigliato per i metadati e gli elementi di base dello storage.</block>
  <block id="b897bc1ea15940ab83faf02e07b143bf" category="cell">Dimensioni del disco (2+2 RAID 1) gruppi di volumi di metadati</block>
  <block id="fa4beb4be6de6614b0cd1460e8d33b1f" category="cell">Capacità dei metadati (numero di file)</block>
  <block id="070e4137f478af27755d228dba080d41" category="cell">Dimensioni del disco (8+2 RAID 6) gruppi di volumi di storage</block>
  <block id="785d80cc95b60fc3365e05e3ae013331" category="cell">Capacità dello storage (contenuto del file)</block>
  <block id="be3ca1ec15ca4657e5ca3ec84a561090" category="cell">1,92 TB</block>
  <block id="119c6b2e3908d75335ad13f9fead045a" category="cell">1,938,577,200</block>
  <block id="753b107ce954fb125f0557af947a86c5" category="cell">51,77 TB</block>
  <block id="71839d6e6fb59e239ad941d08b5e2519" category="cell">3,84 TB</block>
  <block id="bb586a502f621b433b3966d68c887364" category="cell">3,880,388,400</block>
  <block id="8b2e1597e74fb68a87ef415a1ce004fc" category="cell">103,55 TB</block>
  <block id="a98c228c0d8903ba6926546f64321cc4" category="cell">7,68 TB</block>
  <block id="9c0aa8a6ddcfe00cef8951f0edd99c58" category="cell">8,125,278,000</block>
  <block id="b0baa6e5c027744d7e7f2a93d8686bf5" category="cell">216,74 TB</block>
  <block id="1f04a7c587f50d269f44d43229c966ac" category="cell">15,3 TB</block>
  <block id="edd8590257b34c7c6f57e06f28bb9460" category="cell">17,269,854,000</block>
  <block id="0d9c02ec5b1f4c4a835073aa142d0b7f" category="cell">460,60 TB</block>
  <block id="a966f153f6f429bbd39c3ac2390ef970" category="admonition">Quando si ridimensionano i metadati e gli elementi di base dello storage, è possibile ridurre i costi utilizzando unità più piccole per i gruppi di volumi di metadati rispetto ai gruppi di volumi di storage.</block>
  <block id="f9fb1e607e840d5610c34a9f15da540e" category="section-title">Dimensionamento della capacità per gli elementi di base solo per lo storage</block>
  <block id="cd9db38cfde636fa7c304f8e67d8708d" category="paragraph">La seguente tabella fornisce il dimensionamento della capacità a regola d'uso per gli elementi di base solo per lo storage.</block>
  <block id="bc893b2686532fc683cb056beffd08aa" category="cell">Dimensioni del disco (10+2 RAID 6) gruppi di volumi di storage</block>
  <block id="4f7d0f08c61d0cc981b973ba853e2c6f" category="cell">59,89 TB</block>
  <block id="22f3cf273453d70fdc724d513005c81d" category="cell">119,80 TB</block>
  <block id="e4c2850d67996ecfe5e0b56e9637a470" category="cell">251,89 TB</block>
  <block id="f7c8918f0c24047e89e5842785e7b8ef" category="cell">538,55 TB</block>
  <block id="3cf8b9e44b7a1eb7154f2b777094e670" category="admonition">L'overhead di performance e capacità dell'inclusione del servizio di gestione nel building block di base (primo) è minimo, a meno che non sia attivato il blocco globale dei file.</block>
  <block id="c38012b2187d10d4a33d168693918570" category="summary">Ciascun building block è costituito da due nodi di file x86 validati collegati direttamente tramite HDR (200 GB) InfiniBand a due nodi di blocco NetApp.</block>
  <block id="abd55e01ead6dac45d997ad9c82c8019" category="doc">Implementare l'hardware</block>
  <block id="0893812920a9268362b89a618b2f05c4" category="paragraph">Ciascun building block è costituito da due nodi di file x86 validati collegati direttamente a due nodi a blocchi utilizzando cavi HDR (200 GB) InfiniBand.</block>
  <block id="9df6f3b087eea6552beb54d44653501a" category="list-text">Configurare ciascun nodo a blocchi BeeGFS con una scheda HIC (host Interface Card) da 200 GB a doppia porta e installare l'HIC in ciascuno dei due controller storage.</block>
  <block id="9e5081bbd0a64102ab8844f96776d6ea" category="admonition">La configurazione dell'alimentatore per i casi di utilizzo in produzione dovrebbe in genere utilizzare PSU ridondanti.</block>
  <block id="cf31d049daa8cd238cb4238371f2e5d0" category="list-text">Se necessario, installare i dischi in ciascuno dei nodi a blocchi BeeGFS.</block>
  <block id="eb86aba8f900c8f076cdcddafcf7271f" category="list-text">Se il building block verrà utilizzato per eseguire i metadati e i servizi di storage BeeGFS e le unità più piccole verranno utilizzate per i volumi di metadati, verificare che siano popolate negli slot più esterni, come mostrato nella figura seguente.</block>
  <block id="c448ee45144a8930f2211d0a4edb7b91" category="list-text">Per tutte le configurazioni di building block, se un enclosure di dischi non è completamente popolato, assicurarsi che negli slot 0–11 e 12–23 venga inserito un numero uguale di dischi per ottenere prestazioni ottimali.</block>
  <block id="7fd5b7ef2a561c49e1b59a838397af45" category="admonition">I nodi di più building block non sono mai connessi direttamente. Ogni building block deve essere trattato come un'unità standalone e tutte le comunicazioni tra building block avvengono tramite switch di rete.</block>
  <block id="57f799feabdc3b75aa704ff51e74f4c1" category="list-text">Se necessario, assemblare gli elementi di base aggiuntivi seguendo le stesse linee guida per il cablaggio.</block>
  <block id="6a2ae129e5b77fd39f068e6cdee42d2a" category="admonition">Il numero totale di building block implementabili in un singolo rack dipende dall'alimentazione e dal raffreddamento disponibili in ogni sito.</block>
  <block id="1b6582c92d5f0e47bd102f2e16686662" category="summary">Prima di iniziare l'implementazione, assicurati di comprendere come utilizzare Ansible per configurare e implementare la soluzione BeeGFS su NetApp utilizzando la progettazione di blocchi di costruzione BeeGFS di seconda generazione.</block>
  <block id="4aa1cf90ffa01d3b63825bad839d9e29" category="doc">Scopri di più sull'inventario Ansible</block>
  <block id="91177a5a4b0c27f810e6deb9395eef4a" category="inline-link">NetApp e-Series BeeGFS GitHub</block>
  <block id="489a8841f96385c3fca8ff239dc24250" category="paragraph">L'inventario Ansible definisce la configurazione per i nodi di file e blocchi e rappresenta il file system BeeGFS che si desidera implementare. L'inventario include host, gruppi e variabili che descrivono il file system BeeGFS desiderato. Gli inventari di esempio possono essere scaricati da<block ref="5f5a4f2bb780d1d47d6a1c5865c757e8" category="inline-link-rx"></block>.</block>
  <block id="2b030b2e370bebb88648070cda0b66eb" category="section-title">Moduli e ruoli Ansible</block>
  <block id="27633c2a48532dabf935531ba52193df" category="paragraph">Ogni ruolo nella raccolta NetApp e-Series Ansible è un'implementazione end-to-end completa della soluzione BeeGFS su NetApp. I ruoli utilizzano le raccolte NetApp e-Series SANtricity, host e BeeGFS che consentono di configurare il file system BeeGFS con ha (alta disponibilità). È quindi possibile eseguire il provisioning e il mapping dello storage, assicurandosi che lo storage del cluster sia pronto per l'uso.</block>
  <block id="ca467fdffa66288bc6eeca1d49467e2e" category="paragraph">Sebbene i ruoli siano corredati da una documentazione approfondita, le procedure di implementazione descrivono come utilizzare il ruolo per implementare un'architettura verificata di NetApp utilizzando la progettazione di blocchi di costruzione BeeGFS di seconda generazione.</block>
  <block id="7c1be9d0f9dc743e2a1540004da3eb1d" category="admonition">Anche se le fasi di implementazione tentano di fornire dettagli sufficienti per evitare che l'esperienza precedente con Ansible sia un prerequisito, si dovrebbe avere una certa familiarità con Ansible e la terminologia correlata.</block>
  <block id="e9b6dfb59ebbe3c2a8e47b9bec2ada24" category="section-title">Layout dell'inventario per un cluster BeeGFS ha</block>
  <block id="5585bfe6d81b9366f1160e16fcf3464f" category="paragraph">Utilizzare la struttura di inventario Ansible per definire un cluster BeeGFS ha.</block>
  <block id="ea969b9d9b8b0a66432c22ea23412c18" category="paragraph">Chiunque abbia esperienza precedente con Ansible deve essere consapevole del fatto che il ruolo BeeGFS ha implementa un metodo personalizzato per scoprire quali variabili (o fatti) si applicano a ciascun host. Ciò è necessario per semplificare la creazione di un inventario Ansible che descriva le risorse che possono essere eseguite su più server.</block>
  <block id="fcf695220ea603b6d461ed9aaa63c323" category="paragraph">Un inventario Ansible è costituito in genere dai file in<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> e.<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block>e un<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> file che assegna host a gruppi specifici (e potenzialmente gruppi ad altri gruppi).</block>
  <block id="927527f499c87b83ee052f9a293c0293" category="admonition">Non creare alcun file con il contenuto di questa sottosezione, che è da intendersi solo come esempio.</block>
  <block id="a7a48a32496dcd14ea6f94f7d89ab599" category="paragraph">Sebbene questa configurazione sia predeterminata in base al profilo di configurazione, è necessario avere una comprensione generale del modo in cui tutto viene presentato come inventario Ansible, come segue:</block>
  <block id="9d92e1d6c46a5db6f99457758b8c71dc" category="paragraph">Per ogni servizio, viene creato un file aggiuntivo in<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block> descrizione della configurazione:</block>
  <block id="7c98bb1c0d887b40b12614cc2cce909e" category="inline-link">NetApp accelera l'implementazione di ha per BeeGFS con Ansible</block>
  <block id="2c3ce0f08dbef62630d61052bdd46f20" category="paragraph">Questo layout consente di definire la configurazione del servizio, della rete e dello storage BeeGFS per ciascuna risorsa in un'unica posizione. Dietro le quinte, il ruolo BeeGFS aggrega la configurazione necessaria per ogni nodo di file e blocchi in base a questa struttura di inventario. Per ulteriori informazioni, consulta questo post del blog:<block ref="500a149f08c7164c80066a24197a4f46" category="inline-link-rx"></block>.</block>
  <block id="bab8955d49a06dc041f1cf99ae3c65aa" category="admonition">L'ID del nodo BeeGFS numerico e stringa per ciascun servizio viene configurato automaticamente in base al nome del gruppo. Pertanto, oltre al requisito generale Ansible per l'univoci nome di gruppo, i gruppi che rappresentano un servizio BeeGFS devono terminare con un numero univoco per il tipo di servizio BeeGFS rappresentato dal gruppo. Ad esempio, sono consentiti meta_01 e stor_01, ma i metadati_01 e meta_01 non lo sono.</block>
  <block id="730b718214a170296ed598158264e021" category="summary">La soluzione BeeGFS include consigli per l'ottimizzazione delle performance basati su test di verifica.</block>
  <block id="9db3ca538820d0cfb7b44ef80f16ca98" category="doc">Tuning delle performance</block>
  <block id="a49e13cf9bc8e242e7b828e3c9016699" category="paragraph">Sebbene BeeGFS fornisca performance ragionevoli, NetApp ha sviluppato una serie di parametri di tuning consigliati per massimizzare le performance. Questi parametri tengono conto delle funzionalità dei nodi a blocchi e-Series sottostanti e di eventuali requisiti speciali necessari per eseguire BeeGFS in un'architettura ha a disco condiviso.</block>
  <block id="6900084f28039c00033899865271a4b5" category="section-title">Ottimizzazione delle performance per i file node</block>
  <block id="7ed4e287a78a4cc348d1e60d143ceda8" category="paragraph">I parametri di tuning disponibili che è possibile configurare includono:</block>
  <block id="d8eb1bf5eeddb34869fa0aee2c5c3be0" category="list-text">*Impostazioni di sistema in UEFI/BIOS dei nodi di file.* per massimizzare le prestazioni, si consiglia di configurare le impostazioni di sistema sul modello di server utilizzato come nodi di file. È possibile configurare le impostazioni di sistema quando si impostano i nodi di file utilizzando il programma di configurazione del sistema (UEFI/BIOS) o le API Redfish fornite dal controller di gestione della baseboard (BMC).</block>
  <block id="bb2fcb1abe8d0829558e398d9acb4589" category="inline-link-macro">Ottimizzare le impostazioni del sistema del nodo di file per le performance</block>
  <block id="adecdfd501fe0c9f7674b95abecb661b" category="paragraph">Le impostazioni di sistema variano a seconda del modello di server utilizzato come nodo di file. Le impostazioni devono essere configurate manualmente in base al modello di server in uso. Per informazioni su come configurare le impostazioni di sistema per i nodi di file Lenovo SR665 validati, vedere <block ref="891cfd1f8dbb99c09432be0144a5be81" category="inline-link-macro-rx"></block>.</block>
  <block id="6721128d9ea380f9965cc220f28619e1" category="list-text">*Impostazioni predefinite per i parametri di configurazione richiesti.* i parametri di configurazione richiesti influiscono sulla modalità di configurazione dei servizi BeeGFS e sulla modalità di formattazione e montaggio dei volumi e-Series (dispositivi a blocchi) da parte di Pacemaker. Questi parametri di configurazione richiesti includono:</block>
  <block id="93de4dab2e303d649f94f0880095e6ef" category="list-text">Parametri di configurazione del servizio BeeGFS</block>
  <block id="c5b3473e89672cc155d0436c6e60bd52" category="inline-link">Parametri di configurazione del servizio BeeGFS</block>
  <block id="334a50f926a902a241ecfae54f3cce32" category="list-text">I parametri di montaggio e formattazione del volume sono impostati sui valori predefiniti consigliati e devono essere regolati solo in caso di utilizzo avanzato. I valori predefiniti sono i seguenti:</block>
  <block id="4b9b870ed7f3db8f28c2ddcf4d3bd986" category="list-text">Ottimizza la formattazione iniziale del volume in base al tipo di destinazione (ad esempio gestione, metadati o storage), oltre alla configurazione RAID e alle dimensioni dei segmenti del volume sottostante.</block>
  <block id="9f641b3b08e18d35b2219dee293e2038" category="list-text">Regolare il modo in cui pacemaker monta ciascun volume per assicurarsi che le modifiche vengano immediatamente applicate ai nodi a blocchi e-series. In questo modo si evita la perdita di dati quando i nodi di file non funzionano con scritture attive in corso.</block>
  <block id="72247689b02927b1ceac4fb69e6c9954" category="inline-link">formattazione dei volumi e parametri di configurazione del montaggio</block>
  <block id="2903652ee31835883feeb469228b4406" category="inline-link-macro">Creare l'inventario Ansible</block>
  <block id="c5d80eb8c0726de2a9804385295dc0e3" category="paragraph">Le impostazioni predefinite sono state utilizzate per validare la soluzione BeeGFS su NetApp, ma è possibile modificarle per adattarle ai carichi di lavoro o ai casi di utilizzo specifici. Di seguito sono riportati alcuni esempi delle impostazioni di sistema del sistema operativo Linux che è possibile modificare:</block>
  <block id="b56281fe1e5f14da49b6d1d4c6ad0cd9" category="list-text">Code i/o su dispositivi a blocchi e-Series.</block>
  <block id="43a8170c4aebbb467c4d4b59d77a7662" category="paragraph">È possibile configurare le code i/o sui dispositivi a blocchi e-Series utilizzati come destinazioni BeeGFS per:</block>
  <block id="ce0213a2bd6755f2eacf9574b2b56dda" category="list-text">Regolare l'algoritmo di scheduling in base al tipo di dispositivo (NVMe, HDD e così via).</block>
  <block id="c78d3d0bdafa5fc5623e3d56a9cc33ce" category="list-text">Aumentare il numero di richieste in sospeso.</block>
  <block id="b785a1945e736aa8340d2e4bde128b82" category="list-text">Regolare le dimensioni della richiesta.</block>
  <block id="a9a2c451a0c5c7939a07afe7cd297216" category="list-text">Ottimizza il comportamento di Read ahead.</block>
  <block id="f39721f45b17814f0740b3c066ca0b66" category="list-text">Impostazioni della memoria virtuale.</block>
  <block id="552afad9cf059c34e2ed8d24ff34fc12" category="paragraph">È possibile regolare le impostazioni della memoria virtuale per ottenere performance di streaming ottimali e costanti.</block>
  <block id="aa8e8d4d1817c4e08c70cd3c1b4c89b9" category="list-text">Impostazioni della CPU.</block>
  <block id="423dd652f980ba19cb7fb7f577576270" category="paragraph">È possibile regolare il regolatore di frequenza della CPU e altre configurazioni della CPU per ottenere le massime prestazioni.</block>
  <block id="eb2cf8d186779ea110100038f3ec2e90" category="list-text">Dimensione richiesta di lettura.</block>
  <block id="ba4dcc8d5b46a4c30176506ef828aea4" category="section-title">Ottimizzazione delle performance per i nodi a blocchi</block>
  <block id="4f59030dbd3da04d4b74738f5149fffb" category="paragraph">In base ai profili di configurazione applicati a un particolare building block BeeGFS, i gruppi di volumi configurati sui nodi a blocchi cambiano leggermente. Ad esempio, con un nodo a blocchi EF600 a 24 dischi:</block>
  <block id="841fc343eee01328e222ebada200ca5d" category="list-text">Per il singolo building block di base, inclusi i servizi di gestione, metadati e storage BeeGFS:</block>
  <block id="bbea55f4794f89e45fe7c40eaf8ca3ee" category="list-text">1 gruppo di volumi RAID 10 2+2 per la gestione di BeeGFS e i servizi di metadati</block>
  <block id="92f2b7b47db52c081f552bd884a78ae7" category="list-text">2 gruppi di volumi 8+2 RAID 6 per i servizi di storage BeeGFS</block>
  <block id="4f4960028dfd13311a5679d2450101d1" category="list-text">Per i metadati BeeGFS + building block di storage:</block>
  <block id="fdd7b1bdaea27f32d5925fd1a957fce4" category="list-text">1 gruppo di volumi RAID 10 2+2 per i servizi di metadati BeeGFS</block>
  <block id="196fdf9280847a2a4a9ddd0b8520bdfb" category="list-text">Solo per lo storage BeeGFS building block:</block>
  <block id="632ac8eccac17a8789dd33202130e509" category="list-text">2 gruppi di volumi RAID 6 da 10+2 per i servizi di storage BeeGFS</block>
  <block id="014e85e7f3bbdad1ad6f193e82d21755" category="inline-link-macro">istruzioni per l'implementazione</block>
  <block id="39b751cb17d740944bc5071eba1abda2" category="admonition">Poiché BeeGFS ha bisogno di una quantità di spazio di storage significativamente inferiore per la gestione e i metadati rispetto allo storage, un'opzione è quella di utilizzare dischi più piccoli per i gruppi di volumi RAID 10. I dischi più piccoli devono essere inseriti negli slot più esterni. Per ulteriori informazioni, consultare <block ref="92eed053ec15880d36275e60ab80275b" category="inline-link-macro-rx"></block>.</block>
  <block id="1708794637b71b8aadfa80d503ccc505" category="paragraph">Questi sono tutti configurati dall'implementazione basata su Ansible, insieme a diverse altre impostazioni generalmente consigliate per ottimizzare performance/comportamento, tra cui:</block>
  <block id="b02fbba0a56e144e15b688980d01275a" category="list-text">Regolare le dimensioni del blocco della cache globale a 32 KiB e regolare il vampate della cache basato sulla domanda al 80%.</block>
  <block id="c70b65aef502812d5a0e8a4b173334d9" category="list-text">Disattivazione del bilanciamento del carico automatico (per garantire che le assegnazioni dei volumi dei controller rimvengano come previsto).</block>
  <block id="94966bf9df1a2fb2442d06d53723f28e" category="list-text">Abilitare il caching in lettura e disabilitare il caching Read-ahead.</block>
  <block id="65f3cbabf1e92d0ce2d27d87d85a3c5a" category="list-text">Abilitare il caching in scrittura con mirroring e richiedere il backup della batteria, in modo che le cache persistano in caso di guasto di un controller di nodi a blocchi.</block>
  <block id="dfb95cf8b58d92dcb47401bae0964c5d" category="list-text">Specifica dell'ordine in cui i dischi vengono assegnati ai gruppi di volumi, bilanciando i/o tra i canali di disco disponibili.</block>
  <block id="bea1a33800109358727c67f41cd01d07" category="summary">L'implementazione e la gestione della configurazione implica l'esecuzione di uno o più playbook contenenti le attività che Ansible deve eseguire e portare il sistema nello stato desiderato.</block>
  <block id="40184afe39cc9f2361b3b73e0695976d" category="doc">Implementare BeeGFS</block>
  <block id="a5cd3ed116608dac017f14c046ea56bf" category="inline-link">Ruoli</block>
  <block id="d0dbcd7fcc2b33ea218a58e2364a462a" category="paragraph">Anche se tutte le attività possono essere incluse in un singolo playbook, per i sistemi complessi, ciò diventa rapidamente poco pratico da gestire. Ansible consente di creare e distribuire i ruoli come metodo per il packaging di playbook riutilizzabili e contenuti correlati (ad esempio: Variabili predefinite, attività e gestori). Per ulteriori informazioni, consultare la documentazione Ansible per<block ref="68a1974ca8634592518191ca9775617f" category="inline-link-rx"></block>.</block>
  <block id="63d74efd13802381ddc8b8a65a3a5000" category="paragraph">I ruoli vengono spesso distribuiti come parte di un insieme Ansible contenente ruoli e moduli correlati. Pertanto, questi playbook importano principalmente solo diversi ruoli distribuiti nelle varie raccolte NetApp e-Series Ansible.</block>
  <block id="3fb2d69a2432fdcecc09bb3418ad3ace" category="admonition">Attualmente, per implementare BeeGFS sono necessari almeno due building block (quattro nodi di file), a meno che un dispositivo di quorum separato non sia configurato come un interruttore a più livelli per mitigare eventuali problemi quando si stabilisce il quorum con un cluster a due nodi.</block>
  <block id="2ab028f46312dfd58cd64798fc7cbf9e" category="list-text">Creare un nuovo<block ref="2f78c4e27feaf25ffb33d97e8ff7e7a6" prefix=" " category="inline-code"></block> archiviare e includere quanto segue:</block>
  <block id="26a3e9e044d0e5b372c4803d6bdeefbd" category="admonition">Questo playbook ne fa parte<block ref="c14192fc9675e5023582b237e885e10d" prefix=" " category="inline-code"></block> Verificare che Python 3 sia installato sui nodi di file e che i tag Ansible forniti siano supportati.</block>
  <block id="7cf59981bd844e32610404655f205256" category="list-text">Utilizzare<block ref="6afa1ad605a4192ba2e50e8be9966e68" prefix=" " category="inline-code"></block> Controlla con i file di inventario e playbook quando sei pronto per implementare BeeGFS.</block>
  <block id="f73890e8771abfa1abdc045ab1b722ef" category="paragraph">L'implementazione verrà eseguita completamente<block ref="c14192fc9675e5023582b237e885e10d" prefix=" " category="inline-code"></block>, Quindi richiedere la conferma dell'utente prima di procedere con l'effettiva implementazione di BeeGFS.</block>
  <block id="efd5cfa405ebe66e35820b347b961b90" category="paragraph">Eseguire il seguente comando, regolando il numero di forche secondo necessità (vedere la nota seguente):</block>
  <block id="2485710fb8c15237f98f63beae48b455" category="inline-link">Controllo dell'esecuzione del playbook</block>
  <block id="e5e4c2e4c004bc7dbd4a04d4b0971e53" category="paragraph">A seconda delle dimensioni dell'implementazione e delle prestazioni di rete tra il nodo di controllo Ansible e i nodi di blocco e file BeeGFS, il tempo di implementazione potrebbe variare.</block>
  <block id="39f54b8b12af6ae0edd74b4db43d9959" category="summary">La configurazione hardware per BeeGFS su NetApp include nodi di file e cablaggio di rete.</block>
  <block id="a80f40a4cf172e4461c613d2afc0bade" category="doc">Configurazione dell'hardware</block>
  <block id="a6f76304e97d4b2df31a130d24073f88" category="section-title">Configurazione del nodo del file</block>
  <block id="8e9473694bc8ee293e1f6c4f730ab4ed" category="paragraph">I file node hanno due socket CPU configurati come zone NUMA separate, che includono l'accesso locale a un numero uguale di slot PCIe e memoria.</block>
  <block id="81fb4a697d99bad44c068f68db513e26" category="paragraph">Gli adattatori InfiniBand devono essere inseriti nei riser o negli slot PCI appropriati, in modo da bilanciare il carico di lavoro sulle corsie PCIe e sui canali di memoria disponibili. Il carico di lavoro viene bilanciato isolando completamente il lavoro per i singoli servizi BeeGFS in un nodo NUMA specifico. L'obiettivo è quello di ottenere performance simili da ogni nodo di file come se si trattasse di due server a socket singolo indipendenti.</block>
  <block id="26dc1928abfabc3027cfa2e4f0b2f57f" category="paragraph">La figura seguente mostra la configurazione NUMA del nodo del file.</block>
  <block id="cc560c8656cb52d0c2376a0dbb2ac436" category="paragraph">I processi BeeGFS vengono bloccati in una particolare zona NUMA per garantire che le interfacce utilizzate si trovino nella stessa zona. Questa configurazione evita la necessità di un accesso remoto sulla connessione tra socket. La connessione tra socket è talvolta nota come collegamento QPI o GMI2; anche nelle moderne architetture di processore, può essere un collo di bottiglia quando si utilizza una rete ad alta velocità come HDR InfiniBand.</block>
  <block id="037505dd545df2577c95982dd52a9497" category="section-title">Configurazione del cablaggio di rete</block>
  <block id="2efc6e5efcfc3424383b80badbc6f2f8" category="paragraph">All'interno di un building block, ogni nodo di file è connesso a due nodi a blocchi utilizzando un totale di quattro connessioni InfiniBand ridondanti. Inoltre, ciascun nodo di file dispone di quattro connessioni ridondanti alla rete di storage InfiniBand.</block>
  <block id="c2b0d4abc479963299ef11f7007b04d9" category="paragraph">Nella figura seguente, notare che:</block>
  <block id="ccebd32ee2768501ecf2042e521d090c" category="list-text">Tutte le porte dei nodi di file delineate in verde vengono utilizzate per la connessione al fabric di storage; tutte le altre porte dei nodi di file sono le connessioni dirette ai nodi di blocco.</block>
  <block id="01be869a64586dc6df5d40be148742a7" category="list-text">Due porte InfiniBand in una zona NUMA specifica si collegano ai controller A e B dello stesso nodo a blocchi.</block>
  <block id="92d102b77ed7526653d6ed77bc5f9297" category="list-text">Le porte nel nodo NUMA 0 si connettono sempre al primo nodo a blocchi.</block>
  <block id="41d34f3f75f0a6f23825fec8c1f6b167" category="list-text">Le porte nel nodo NUMA 1 si connettono al secondo nodo a blocchi.</block>
  <block id="1109e0767ef0b323f02f85cdaa9a589d" category="paragraph">La configurazione del cablaggio illustrata nella figura consente a ciascun servizio BeeGFS di:</block>
  <block id="12e9ec8c0cb3aa87bfb400a73712d79b" category="list-text">Viene eseguito nella stessa zona NUMA indipendentemente dal nodo del file che esegue il servizio BeeGFS.</block>
  <block id="488f6220ee8bab2e1e3621f7f99b598c" category="list-text">Disporre di percorsi secondari ottimali per la rete di storage front-end e per i nodi a blocchi back-end, indipendentemente da dove si verifica un guasto.</block>
  <block id="e2ae85c4e917fafc3b545710dcc3fdf1" category="list-text">Ridurre al minimo gli effetti delle performance se un nodo di file o un controller in un nodo a blocchi richiede manutenzione.</block>
  <block id="53c31a8ba69af9d096629948d271d34d" category="paragraph-title">Cablaggio per sfruttare la larghezza di banda</block>
  <block id="33f3e0c9879fd051eb380c62267a24cf" category="paragraph">La figura seguente mostra il design del cablaggio utilizzato per sfruttare l'intera larghezza di banda bidirezionale PCIe.</block>
  <block id="e366b0b441e75fcafac2db7ff979a799" category="inline-link-macro">Configurazione del software</block>
  <block id="1a72dacfce92d062255a929bbb18fc8d" category="paragraph">Per ogni servizio BeeGFS, utilizzare lo stesso adattatore per connettere la porta preferita utilizzata per il traffico client con il percorso al controller dei nodi a blocchi che è il principale proprietario di tali volumi di servizi. Per ulteriori informazioni, vedere <block ref="1ce6299bc86692b3e97783bdba904848" category="inline-link-macro-rx"></block>.</block>
  <block id="d8ca15234a274a841f06a1d429141054" category="summary">Configurare la rete sul BMC (Baseboard Management Controller) di ciascun server e configurare la porta di gestione su ciascun controller.</block>
  <block id="1cfd8029b1372ddacb436890446b43fd" category="doc">Impostare nodi di file e nodi di blocco</block>
  <block id="d900235d99f416c3bfda0461cbb71f26" category="paragraph">Sebbene la maggior parte delle attività di configurazione del software sia automatizzata utilizzando le raccolte Ansible fornite da NetApp, è necessario configurare il networking sul BMC (Baseboard Management Controller) di ciascun server e configurare la porta di gestione su ciascun controller.</block>
  <block id="02f510b4f0f01c83fb0898c7c21472f3" category="section-title">Configurare i nodi di file</block>
  <block id="58ee770c560ec650edbb0731c6882d53" category="list-text">Configurare il networking sul BMC (Baseboard Management Controller) di ciascun server.</block>
  <block id="75ae096871a25daf3dcd5da902c66ecf" category="inline-link">Documentazione di Lenovo ThinkSystem</block>
  <block id="0c112c89dd8c3ce2b92d5e4844ea4641" category="admonition">Un BMC (Baseboard Management Controller), a volte chiamato Service Processor, è il nome generico della funzionalità di gestione out-of-band integrata in varie piattaforme server che possono fornire accesso remoto anche se il sistema operativo non è installato o accessibile. I vendor in genere commercializzano questa funzionalità con un proprio marchio. Ad esempio, su Lenovo SR665, il BMC viene definito _Lenovo XClarity Controller (XCC)_.</block>
  <block id="290a84841d7341364c4abf862a74583f" category="list-text">Configurare le impostazioni di sistema per ottenere le massime prestazioni.</block>
  <block id="04c7f6322804081c61ca0d88cef85904" category="paragraph">È possibile configurare le impostazioni di sistema utilizzando il setup UEFI (precedentemente noto come BIOS) o le API Redfish fornite da molti BMC. Le impostazioni di sistema variano in base al modello di server utilizzato come nodo di file.</block>
  <block id="51d961299f8aa9bb882574aae2a219eb" category="inline-link-macro">Ottimizzare le impostazioni di sistema per le prestazioni</block>
  <block id="354f37da23eacae1fc163775964a0a2e" category="paragraph">Per informazioni su come configurare le impostazioni di sistema per i nodi di file Lenovo SR665 validati, vedere <block ref="dbe1843153b6696d3dd846d3a25ea7b2" category="inline-link-macro-rx"></block>.</block>
  <block id="63b34e32fcac1724c46edd575672332b" category="paragraph">Non configurare gli IP su nessuna delle porte InfiniBand in questo momento.</block>
  <block id="e9074e57167186919a163cd099187dd0" category="admonition">Sebbene non sia strettamente necessario, le sezioni successive presumono che i nomi host siano numerati in sequenza (ad esempio h1-HN) e si riferiscono alle attività che devono essere completate su host con numero pari o dispari.</block>
  <block id="0123fb5bcbcd68deb7c43ec913e70705" category="inline-link">Come registrarsi e sottoscrivere un sistema RHEL</block>
  <block id="29f7e22c9a0b8d15ea802eee7a5e07cf" category="inline-link">Come limitare gli aggiornamenti</block>
  <block id="577885e812bad7e4780317a271722339" category="list-text">Abilitare il repository Red Hat contenente i pacchetti richiesti per l'alta disponibilità.</block>
  <block id="3c438be737391744e2fed6f73c418638" category="inline-link-macro">Requisiti tecnologici</block>
  <block id="33abf34a1ac99d306f38ad532ed75170" category="inline-link-macro">guida per l'utente</block>
  <block id="de2787072a70ede6b3c4b90ff28fe789" category="inline-link">Mlxup - Utility di aggiornamento e query</block>
  <block id="febfb51b621938c49980eee52ab6a373" category="section-title">Impostare i nodi a blocchi</block>
  <block id="1dab115fdeed11b46ad9a32f690cfc8a" category="paragraph">Configurare i nodi a blocchi EF600 configurando la porta di gestione su ciascun controller.</block>
  <block id="0631592349fc286da7627270b9c9b359" category="list-text">Configurare la porta di gestione su ciascun controller EF600.</block>
  <block id="3f7c08d9f511dbd36a44bc681e25e3bf" category="inline-link">Centro di documentazione e-Series</block>
  <block id="83398f0ded44dc933df951171f29b604" category="paragraph">Per istruzioni sulla configurazione delle porte, consultare<block ref="4719a190e5f3bfbda84ab0e6295af1ef" category="inline-link-rx"></block>.</block>
  <block id="a1cdd0715dd7993c1664eea6d7f39810" category="list-text">Facoltativamente, impostare il nome dell'array di storage per ciascun sistema.</block>
  <block id="6c8f452018d59ce25e69f9d3f8851b32" category="paragraph">L'impostazione di un nome può semplificare il riferimento a ciascun sistema nelle sezioni successive. Per istruzioni sull'impostazione del nome dell'array, consultare<block ref="4719a190e5f3bfbda84ab0e6295af1ef" category="inline-link-rx"></block>.</block>
  <block id="561abcc4bd5f30a9d5ee1e4c64d9a10d" category="admonition">Sebbene non sia strettamente necessario, gli argomenti successivi presumono che i nomi degli array di storage siano numerati in sequenza (ad esempio c1 - CN) e fanno riferimento ai passaggi da completare sui sistemi con numero pari o dispari.</block>
  <block id="7042a03d018b94aee36197baf79897b2" category="summary">Per massimizzare le performance, si consiglia di configurare le impostazioni di sistema sul modello di server utilizzato come nodi di file.</block>
  <block id="e95c3b26aabb0242b0a38d72568b125a" category="paragraph">Per massimizzare le performance, si consiglia di configurare le impostazioni di sistema sul modello di server utilizzato come nodi di file.</block>
  <block id="291e90fb83bca326d06b5479d0ae7197" category="paragraph">Le impostazioni di sistema variano a seconda del modello di server utilizzato come nodo di file. In questo argomento viene descritto come configurare le impostazioni di sistema per i nodi file del server Lenovo ThinkSystem SR665 validati.</block>
  <block id="cfa9d7ef51eae23751a0ea54765b99fd" category="section-title">Utilizzare l'interfaccia UEFI per regolare le impostazioni di sistema</block>
  <block id="7afe745e5e5ded0e0cf311f6ab05ce41" category="paragraph">Il firmware di sistema del server Lenovo SR665 contiene numerosi parametri di tuning che possono essere impostati tramite l'interfaccia UEFI. Questi parametri di tuning possono influire su tutti gli aspetti del funzionamento del server e sulle prestazioni del server.</block>
  <block id="01d5e77f89697d310442aa744d5c4068" category="paragraph">In *UEFI Setup &gt; System Settings* (Configurazione UEFI &gt; Impostazioni di sistema), regolare le seguenti impostazioni di sistema:</block>
  <block id="6e2e169ab41f56781f3cd65629914fc6" category="section-title">Menu Operating Mode (modalità operativa)</block>
  <block id="f7adfd4c98207b1161c7b693c16fa9ea" category="cell">*Impostazioni di sistema*</block>
  <block id="a3fb412bb8de9718b8510aa99340221a" category="cell">*Cambia in*</block>
  <block id="1c2631aa94b6d5e1cc826b0cb76a87ba" category="paragraph">Modalità operativa</block>
  <block id="90589c47f06eb971d548591f23c285af" category="paragraph">Personalizzato</block>
  <block id="43e16592d1b7c57c68cdf68bcd7f2fbd" category="paragraph">CTDP</block>
  <block id="e1ba155a9f2e8c3be94020eef32a0301" category="paragraph">Manuale</block>
  <block id="db0877bc3fbb4ce0ffd2f36fa5470581" category="paragraph">Manuale di cTDP</block>
  <block id="9de6d14fff9806d4bcd1ef555be766cd" category="paragraph">350</block>
  <block id="43287f46609a4dc60f40223b99452814" category="paragraph">Limite di potenza del pacchetto</block>
  <block id="8bec16a6c589939ad9d0a3c20f7dd8dc" category="paragraph">Modalità di efficienza</block>
  <block id="bcfaccebf745acfd5e75351095a5394a" category="paragraph">Disattiva</block>
  <block id="50a4d260500229aae705dffbef792499" category="paragraph">Global-Cstate-Control</block>
  <block id="bbb8600e28b07b4e7765ccb37c8ba72d" category="paragraph">P-states SOC</block>
  <block id="16a2e561c536a77cbfd10490ea398be6" category="paragraph">P0</block>
  <block id="f7d2d14860cfdee82e8cf9418c1ec624" category="paragraph">C-States DF</block>
  <block id="9c1a39470ba5d6a8856c5e813e20ef6b" category="paragraph">Abilitazione spegnimento memoria</block>
  <block id="3011761cbf6a8eb38a41f6b38210c119" category="paragraph">Nodi NUMA per socket</block>
  <block id="4142a6b2c0ac3aaf643751457e9aad6a" category="paragraph">NPS1</block>
  <block id="cdceaf6498461c15ce1ae0800bf60c66" category="section-title">Menu Devices and i/O.</block>
  <block id="fb31ba7c369028665e7e1a20bd645da6" category="paragraph">IOMMU</block>
  <block id="ada62bbe41ae187c3f0f777ffbd44d28" category="section-title">Menu di alimentazione</block>
  <block id="e7dc1149b98b9a234419b52cb65c86eb" category="paragraph">PCIe Power Brake</block>
  <block id="a4fb96bd64d4ecceb3f0f416f7032bb9" category="section-title">Menu processori</block>
  <block id="78ee21f7e9d290c773c1aa6ae0d03303" category="paragraph">Controllo C-state globale</block>
  <block id="dc8a824c345b5e3bbaa79fce219830c2" category="paragraph">Modalità SMT</block>
  <block id="28fb70bc7fdb441f9e6550205a24c92c" category="paragraph">CPPC</block>
  <block id="83ed73e76e0c1cfe38ef9627b7ae0fe0" category="section-title">Utilizzare l'API Redfish per regolare le impostazioni di sistema</block>
  <block id="2bfb51b6fb78d5540135d28668652ab6" category="paragraph">Oltre a utilizzare la configurazione UEFI, è possibile utilizzare l'API Redfish per modificare le impostazioni di sistema.</block>
  <block id="33e221e2cea2342a6bae3c4c24f33827" category="inline-link">Sito Web DMTF</block>
  <block id="d96afe3ab332c2cc42ac69c811923ba7" category="paragraph">Per informazioni dettagliate sullo schema Redfish, vedere<block ref="108ef396f9aef1d6bcaea08379b877eb" category="inline-link-rx"></block>.</block>
  <block id="b11764419626b2eff6352f3d8e6022e3" category="summary">Per impostare un nodo di controllo Ansible, identificare una macchina virtuale o fisica con accesso di rete alle porte di gestione di tutti i nodi di file e blocchi che possono essere utilizzati per configurare la soluzione.</block>
  <block id="14f10d91a4d4d076d9f025fdb6134949" category="doc">Impostare un nodo di controllo Ansible</block>
  <block id="bfcf60c321d0d2cb85402c7a22d208b9" category="paragraph">Per impostare un nodo di controllo Ansible, è necessario identificare una macchina virtuale o fisica con accesso di rete alle porte di gestione di tutti i nodi di file e blocchi che possono essere utilizzati per configurare la soluzione.</block>
  <block id="c3ee5ddf91e65773d3e9d27f9e627350" category="inline-link">Documentazione Ansible</block>
  <block id="e7a81038c18b15bf5d97b77fb110af03" category="list-text">Installare i pacchetti Python richiesti dalle raccolte NetApp BeeGFS.</block>
  <block id="de65efa2c0698ededf4229cafcca2d08" category="inline-link-macro">Requisiti tecnici</block>
  <block id="7f883f5609524995f000fc99b8f5691a" category="admonition">Per assicurarsi di installare una versione supportata di Ansible e tutti i pacchetti Python richiesti, fare riferimento al file Readme della raccolta BeeGFS. Le versioni supportate sono indicate anche nella <block ref="786d34f336ab7f462feb4fe8776c8670" category="inline-link-macro-rx"></block>.</block>
  <block id="a36d9a848f44be3e2b8d092a5861995a" category="list-text">Verificare che siano installate le versioni corrette di Ansible e Python.</block>
  <block id="4ac0a4015ebef3209a5f3acb61110dd9" category="list-text">Memorizzare gli inventari Ansible utilizzati per descrivere l'implementazione di BeeGFS nei sistemi di controllo del codice sorgente come Git o BitBucket, quindi installare Git per interagire con tali sistemi.</block>
  <block id="f2f38616eaf6d21846071c00e89109b4" category="list-text">Impostare SSH senza password. Questo è il modo più semplice per consentire ad Ansible di accedere ai nodi di file BeeGFS remoti dal nodo di controllo Ansible.</block>
  <block id="3087af73e5990976755e4c56b6e7c754" category="list-text">Nel nodo di controllo Ansible, se necessario, generare una coppia di chiavi pubbliche utilizzando<block ref="5356c138de038f32891acc3ddf8f3ed6" prefix=" " category="inline-code"></block></block>
  <block id="c5d36867af8fc130f7a6b6bd87d51d23" category="list-text">Impostare SSH senza password su ciascuno dei nodi di file utilizzando<block ref="db16ae2d4f692829fd5e7722c57dc5ff" prefix=" " category="inline-code"></block></block>
  <block id="c4e4fc85a76d5e87beac70d1fa166882" category="paragraph">Non impostare * SSH senza password sui nodi di blocco. Questo non è supportato né richiesto.</block>
  <block id="03f38aac08b6c6c3e6e3afc965fedbcc" category="list-text">Utilizzare Ansible Galaxy per installare la versione della raccolta BeeGFS elencata nella <block ref="786d34f336ab7f462feb4fe8776c8670" category="inline-link-macro-rx"></block>.</block>
  <block id="b113449496b52721b53dc04e5120a57b" category="paragraph">Questa installazione include dipendenze Ansible aggiuntive, come il software NetApp SANtricity e le raccolte host.</block>
  <block id="ce0a47ccdc84e9c90b9185aea530a07b" category="summary">Per supportare la soluzione BeeGFS su NetApp, che combina il file system parallelo BeeGFS con i sistemi storage NetApp EF600, sono necessarie apparecchiature, cablaggi e configurazioni specifiche.</block>
  <block id="fb7e8abee0ed4186f8c4b871d0ea6ac3" category="doc">Panoramica del design</block>
  <block id="7cac973d2abc65a232606799a99be23c" category="paragraph">Scopri di più:</block>
  <block id="6ee419ed5a936cfed45771da0b746c94" category="list-text"><block ref="6ee419ed5a936cfed45771da0b746c94" category="inline-link-macro-rx"></block></block>
  <block id="1ce6299bc86692b3e97783bdba904848" category="list-text"><block ref="1ce6299bc86692b3e97783bdba904848" category="inline-link-macro-rx"></block></block>
  <block id="57448c4b7cf64af279b612502ae49c08" category="inline-link-macro">Verifica del progetto</block>
  <block id="2c39c30b16a5c14e4b3bd73361f541c5" category="list-text"><block ref="2c39c30b16a5c14e4b3bd73361f541c5" category="inline-link-macro-rx"></block></block>
  <block id="b7f5b93ad68dd5ab95107b85145443e8" category="list-text"><block ref="b7f5b93ad68dd5ab95107b85145443e8" category="inline-link-macro-rx"></block></block>
  <block id="a51906ad0f905e303cf3b09d82ec1db0" category="list-text"><block ref="a51906ad0f905e303cf3b09d82ec1db0" category="inline-link-macro-rx"></block></block>
  <block id="585389cefc924819e7ab6d5b7eba5f03" category="paragraph">Architetture derivate con variazioni di design e performance:</block>
  <block id="2e93d3c37349d17095fd0dca7d6fe097" category="inline-link-macro">Building Block ad alta capacità</block>
  <block id="8a43f7c3e77834cf43b5398c116033e3" category="list-text"><block ref="8a43f7c3e77834cf43b5398c116033e3" category="inline-link-macro-rx"></block></block>
  <block id="e95081b0e85f690a9bdcb41ea940c186" category="summary">Per implementare la soluzione BeeGFS su NetApp, assicurati che il tuo ambiente soddisfi i requisiti tecnologici.</block>
  <block id="47dee50ad0138b8f5ca70e40e86e6c04" category="section-title">Requisiti hardware</block>
  <block id="16cc6ce48a597aebb8ab5132cb3523dc" category="cell">Componente hardware</block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="cell">Requisiti</block>
  <block id="c81e728d9d4c2f636f067f89cc14862c" category="paragraph">2</block>
  <block id="a631c0a4a9b408ccc2559c2a3323af51" category="paragraph">*Varie:*</block>
  <block id="c9f0f895fb98ab9159f51fd0297e236d" category="cell">8</block>
  <block id="7ddb33edf227a18eb76201fcb9e2c9db" category="section-title">Requisiti software</block>
  <block id="440907229edb210984831982728c0047" category="paragraph">Per ottenere performance e affidabilità prevedibili, le release della soluzione BeeGFS su NetApp vengono testate con versioni specifiche dei componenti software necessari per implementare la soluzione.</block>
  <block id="5fea6233624bde259c99b82e6d7de3c6" category="section-title">Requisiti di implementazione del software</block>
  <block id="699b33acca98ab1d3eb0d684f59f1c98" category="paragraph">La seguente tabella elenca i requisiti software implementati automaticamente nell'ambito dell'implementazione di Ansible-Based BeeGFS.</block>
  <block id="719d067b229178f03bcfa1da4ac4dede" category="cell">Software</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">Versione</block>
  <block id="eb57eb77389d7d4e71c5790c9c6ec1a7" category="cell">BeeGFS</block>
  <block id="51cf7c858a71d06ee12a42cfbff97da7" category="cell">Corosync</block>
  <block id="d95adee972ae170512bd3bdbce557054" category="cell">Pacemaker</block>
  <block id="0a0d34e3921098e12d40efeb9e5b64ff" category="cell">Opensm</block>
  <block id="13f2a3097f055e043d74b20940df2658" category="section-title">Requisiti dei nodi di controllo Ansible</block>
  <block id="83d32979307efd813f41ef5070206fd3" category="paragraph">La soluzione BeeGFS su NetApp viene implementata e gestita da un nodo di controllo Ansible. Per ulteriori informazioni, consultare<block ref="4410f583cbabaee2389115371eb2ab02" category="inline-link-rx"></block>.</block>
  <block id="158a122309f0454b31e4853755a5962a" category="paragraph">I requisiti software elencati nelle tabelle seguenti sono specifici della versione della raccolta NetApp BeeGFS Ansible elencata di seguito.</block>
  <block id="d51d5ee15f404c2f4f7863bebcde1fac" category="cell">Ansible</block>
  <block id="a7f5f35426b927411fc9231b56382173" category="cell">Python</block>
  <block id="d35d779fe31977939a0a72c5c962d2af" category="cell">Pacchetti Python aggiuntivi</block>
  <block id="5510cedb08df4208db0688e41cea716f" category="section-title">Requisiti del nodo del file</block>
  <block id="eae2868fd17cac4569887ad9ccca42c2" category="paragraph">RedHat Enterprise Linux</block>
  <block id="1f8b1bc6c0a349e88a3353e347489a9a" category="admonition">I file node richiedono un abbonamento valido a RedHat Enterprise Linux Server e Red Hat Enterprise Linux High Availability Add-on.</block>
  <block id="2488fead2064d4aeb886afc1a0010ee7" category="cell">Kernel Linux</block>
  <block id="f6883581bd882ffdf705127738982586" category="cell">Driver InfiniBand/RDMA</block>
  <block id="fbc534ed33feffdfe8fc56e7cde13e6e" category="section-title">Requisiti dei nodi a blocchi EF600</block>
  <block id="e791d47d690cbc6aa7c7f9434ebd2fa1" category="cell">Sistema operativo SANtricity</block>
  <block id="b384b3cf4ffa3a81a88e8687dd6ca028" category="cell">NVSRAM</block>
  <block id="b89cb5f38b54c6181858af1281dcaeef" category="cell">Firmware del disco</block>
  <block id="df4607ba320342072b2dc12271b08d2f" category="cell">Più recente disponibile per i modelli di unità in uso.</block>
  <block id="2bf773d42bef6909b232e854a16b3ec1" category="summary">Configurare Pacemaker e Corosync per scalare oltre cinque blocchi costitutivi.</block>
  <block id="22892d2f5bfdfba001a02572258cca62" category="doc">Scala oltre cinque elementi di base</block>
  <block id="cfd24c157d6cd9f200eb8c3cf68ee7ed" category="paragraph">È possibile configurare Pacemaker e Corosync per scalare oltre cinque blocchi costitutivi (10 nodi di file). Tuttavia, i cluster più grandi presentano alcuni inconvenienti e, alla fine, Pacemaker e Corosync impongono un massimo di 32 nodi.</block>
  <block id="9e59383f4d4ca677923852ae81323178" category="paragraph">NetApp ha testato solo i cluster BeeGFS ha per un massimo di 10 nodi; la scalabilità dei singoli cluster oltre questo limite non è consigliata o supportata. Tuttavia, i file system BeeGFS devono ancora scalare ben oltre 10 nodi, e NetApp lo ha considerato nella soluzione BeeGFS su NetApp.</block>
  <block id="72799e21cef92db3ad98f7c0a923e398" category="paragraph">Implementando più cluster ha contenenti un sottoinsieme dei blocchi costitutivi in ciascun file system, è possibile scalare il file system BeeGFS globale indipendentemente da qualsiasi limite consigliato o limite massimo sui meccanismi di clustering ha sottostanti. In questo scenario, procedere come segue:</block>
  <block id="5c3bc488def3e9ba17589e3a75fdd5c0" category="list-text">Creare un nuovo inventario Ansible che rappresenti i cluster ha aggiuntivi, quindi omettere la configurazione di un altro servizio di gestione. Puntare invece il<block ref="58d2053fd85feeb270797993bb67b146" prefix=" " category="inline-code"></block> variabile in ogni cluster aggiuntivo<block ref="3cd295e6aaa39e2510aff65b801cc5ab" prefix=" " category="inline-code"></block> All'IP per il primo servizio di gestione BeeGFS.</block>
  <block id="321f3f6b80bc5f9c02e358e120fa74b0" category="list-text">Quando si aggiungono cluster ha aggiuntivi allo stesso file system, assicurarsi di quanto segue:</block>
  <block id="32e66ce3c599bce3fc21c5a5943b6f4d" category="list-text">Gli ID del nodo BeeGFS sono univoci.</block>
  <block id="50b9a2f3bd2dc22b582e6e66d12bf0ff" category="list-text">I nomi dei file corrispondenti a ciascun servizio in<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block> è unico in tutti i cluster.</block>
  <block id="6219a68f7552d8328f7fc5df8510ffc3" category="list-text">Gli indirizzi IP del client e del server BeeGFS sono univoci in tutti i cluster.</block>
  <block id="16d3c50a6b84c7701cadfdf721b74007" category="list-text">Il primo cluster ha contenente il servizio di gestione BeeGFS è in esecuzione prima di tentare di implementare o aggiornare altri cluster.</block>
  <block id="6f94cb93f82c2013e179dc630a5dd715" category="list-text">Gestire gli inventari per ciascun cluster ha separatamente nel proprio albero di directory.</block>
  <block id="079e1a9e099799d390c677577618ecce" category="paragraph">Il tentativo di combinare i file di inventario per più cluster in un unico albero di directory potrebbe causare problemi con il modo in cui il ruolo BeeGFS ha aggrega la configurazione applicata a un determinato cluster.</block>
  <block id="f4250b17c613a290cad4edf8e2bab3fd" category="admonition">Non è necessario che ogni cluster ha si adatti a cinque building block prima di crearne uno nuovo. In molti casi, l'utilizzo di un numero inferiore di building block per cluster è più semplice da gestire. Un approccio consiste nel configurare gli elementi di base in ogni singolo rack come cluster ha.</block>
  <block id="d1da0cd6852302b521f35aeee065f5ea" category="summary">Seguire le linee guida delle Best practice per l'implementazione della soluzione BeeGFS su NetApp.</block>
  <block id="38b622e4d5c9d918330c81663f61a4e3" category="doc">Esaminare le Best practice</block>
  <block id="d780de93793370946b2449b88a29b5ea" category="section-title">Convenzioni standard</block>
  <block id="b4d19c971bd6ad93985147c0ce9477c8" category="list-text">I nomi host dei nodi di file sono numerati in sequenza (h01-HN) con numeri inferiori nella parte superiore del rack e numeri superiori nella parte inferiore.</block>
  <block id="7bf4bcec78c083e165c31432234ebef8" category="list-text">Ciascun nodo a blocchi è composto da due controller di storage, ciascuno con il proprio nome host.</block>
  <block id="1d6d5c920cb7d130fd45d8ced35ebec2" category="paragraph">Il nome di un array di storage viene utilizzato per fare riferimento all'intero sistema di storage a blocchi come parte di un inventario Ansible. I nomi degli array di storage devono essere numerati in sequenza (a01 - AN) e i nomi host dei singoli controller derivano da tale convenzione di naming.</block>
  <block id="a902add826ee667d7f067acb8b49432f" category="list-text">I nodi di file e blocchi all'interno dello stesso building block condividono lo stesso schema di numerazione e sono adiacenti l'uno all'altro nel rack con entrambi i nodi di file in cima ed entrambi i nodi di blocco direttamente sotto di essi.</block>
  <block id="2761f73c104511b8aaeef2eb6c84f3d3" category="paragraph">Ad esempio, nel primo building block, i nodi di file h01 e h02 sono entrambi collegati direttamente ai nodi di blocco a01 e a02. Dall'alto verso il basso, i nomi host sono h01, h02, a01 e a02.</block>
  <block id="33324ee77729f51ada2c5446c9c21488" category="list-text">I building block vengono installati in ordine sequenziale in base ai nomi host, in modo che i nomi host con numero inferiore si trovino nella parte superiore del rack e i nomi host con numero superiore nella parte inferiore.</block>
  <block id="afdf73d1fa37280d63c602fa6be27740" category="paragraph">L'obiettivo è ridurre al minimo la lunghezza del cavo che va verso la parte superiore degli switch rack e definire una pratica di implementazione standard per semplificare la risoluzione dei problemi. Per i datacenter in cui ciò non è consentito a causa di problemi relativi alla stabilità del rack, è certamente consentito l'inverso, popolando il rack dal basso verso l'alto.</block>
  <block id="b4c0fb3649e4f85d78611d90d2d2d308" category="section-title">Configurazione della rete storage InfiniBand</block>
  <block id="815b2630d684df2f4894bd753d3a1fcb" category="paragraph">Metà delle porte InfiniBand su ciascun nodo di file vengono utilizzate per connettersi direttamente ai nodi di blocco. L'altra metà è collegata agli switch InfiniBand e viene utilizzata per la connettività client-server BeeGFS. Quando si determinano le dimensioni delle subnet IPoIB utilizzate per client e server BeeGFS, è necessario considerare la crescita prevista del cluster di calcolo/GPU e del file system BeeGFS. Se si deve discostarsi dagli intervalli IP consigliati, tenere presente che ogni connessione diretta in un singolo building block ha una subnet univoca e non esiste alcuna sovrapposizione con le subnet utilizzate per la connettività client-server.</block>
  <block id="a4f2d907e6fd183bbbc4d275c08b7a9a" category="section-title">Connessioni dirette</block>
  <block id="07a0544547e3cceec6f669bd25c6a605" category="paragraph">I nodi di file e blocchi all'interno di ciascun building block utilizzano sempre gli IP nella tabella seguente per le loro connessioni dirette.</block>
  <block id="d9938c4beed355ac7387d03d8f191c9e" category="admonition">Questo schema di indirizzamento rispetta la seguente regola: Il terzo ottetto è sempre dispari o pari, a seconda che il nodo del file sia dispari o pari.</block>
  <block id="b55e37e80a68661366be8c4377b13489" category="cell">Nodo del file</block>
  <block id="90c8d508b315842cddaf605e8e068d6f" category="cell">Porta IB</block>
  <block id="75ba8d70e3692ba200f0e0df37b4d2ae" category="cell">Indirizzo IP</block>
  <block id="b9549a36d11b47e2d2f9389f6363ff8e" category="cell">IP fisico</block>
  <block id="0d01a155a448abaa8ab4b0bdd3ea5e54" category="cell">IP virtuale</block>
  <block id="e9813c434db44aa063e37598de3ed515" category="cell">Dispari (h1)</block>
  <block id="9d928738606162dca1d244ffcbdf0036" category="cell">i1a</block>
  <block id="8f337c973339dd7093883bd28ddb6588" category="cell">192.168.1.10</block>
  <block id="495cb471115cc2dbd5c60736f989aa8c" category="cell">Dispari (c1)</block>
  <block id="e36314e624d2b2ca257e1f1ecb381f93" category="cell">2a</block>
  <block id="d984a05fa268b7cc6ac052a38960aeb2" category="cell">192.168.1.100</block>
  <block id="80f8cac1e092ca14301921951cf77f91" category="cell">192.168.1.101</block>
  <block id="c7a617044afee64ec7d511879e8b194c" category="cell">i2a</block>
  <block id="d731a116ccfe40ce4a5adb1bf565d785" category="cell">192.168.3.10</block>
  <block id="a9aeb028763672267b98adb1e61f06ca" category="cell">192.168.3.100</block>
  <block id="868e778e153cfafee02c89678e31e3e4" category="cell">192.168.3.101</block>
  <block id="b723decd732b31d828ae939f8f8c81fb" category="cell">i3a</block>
  <block id="28013a9391888f81944ead3ec1401cb0" category="cell">192.168.5.10</block>
  <block id="cfb1a9d899157fd3919c08dceff7fe61" category="cell">Pari (c2)</block>
  <block id="8945c747c6a4da714083579891b2495a" category="cell">192.168.5.100</block>
  <block id="538f8a364ff4308c16dbf7a80a554b5f" category="cell">192.168.5.101</block>
  <block id="d4d9efce9a26c8551723c677f65e1284" category="cell">i4a</block>
  <block id="7e7269d72492d715bbd00efdcdec7e0a" category="cell">192.168.7.10</block>
  <block id="1fbf861a0f4d9494682cfff33756b7aa" category="cell">192.168.7.100</block>
  <block id="7a1a4e2ee2757f302d47c7e3cdc8fcc3" category="cell">192.168.7.101</block>
  <block id="1442135832b351ed9b2f3b91f2393ec7" category="cell">Pari (h2)</block>
  <block id="0522334c503ae8e87d77104f7b27ba17" category="cell">192.168.2.10</block>
  <block id="f8bc2fbe2c937ea5b5e8839cbea69491" category="cell">2b</block>
  <block id="28de33b5199547c2f026595b7175a940" category="cell">192.168.2.100</block>
  <block id="d006845bf7fd39e054131ca6f76c2c47" category="cell">192.168.2.101</block>
  <block id="3a1cc00317003b20386d92ca13328e3d" category="cell">192.168.4.10</block>
  <block id="ccce62893693ca1e63992fa77159dce3" category="cell">192.168.4.100</block>
  <block id="eab39d2ba2b7a903ccf8cef112e1d506" category="cell">192.168.4.101</block>
  <block id="02def76181eddeab3ec0492be002417d" category="cell">192.168.6.10</block>
  <block id="d4b42e0f0d80e9c910e062f49b48b5f5" category="cell">192.168.6.100</block>
  <block id="f23edf799227dfd20d80544836aad8e9" category="cell">192.168.6.101</block>
  <block id="5e0ca78bea1b6ed4af93b1b1c5d7c573" category="cell">192.168.8.10</block>
  <block id="3581177979a7b934a2accd3f5f999444" category="cell">192.168.8.100</block>
  <block id="49213c8f0e8758438d7a69e2789a8b7d" category="cell">192.168.8.101</block>
  <block id="5e98efce8292b94590f3ca502c1d8697" category="paragraph">Ogni nodo di file esegue più servizi server BeeGFS (gestione, metadati o storage). Per consentire a ciascun servizio di eseguire il failover in modo indipendente sull'altro nodo di file, ciascuno è configurato con indirizzi IP univoci che possono fluttuare tra entrambi i nodi (a volte definiti interfaccia logica o LIF).</block>
  <block id="4db8c0036deb36a38e4df4660af9ed06" category="paragraph">Sebbene non sia obbligatorio, questa implementazione presuppone che i seguenti intervalli di subnet IPoIB siano in uso per queste connessioni e definisce uno schema di indirizzamento standard che applica le seguenti regole:</block>
  <block id="8d41eefa8441a4ca177fe0f2676a9512" category="list-text">Il secondo ottetto è sempre dispari o pari, a seconda che la porta InfiniBand del nodo del file sia pari o dispari.</block>
  <block id="6482f8ef9c5ff1d8a971601fcad837d6" category="list-text">Gli IP del cluster BeeGFS sono sempre<block ref="4e125a0674be9f13c20781458a4b0f90" prefix=" " category="inline-code"></block> oppure<block ref="282f5359a5438e5159fd6bcdbe731731" prefix=" " category="inline-code"></block>.</block>
  <block id="3aed58e1cc4af0e5cda8b7e10e2fd863" category="admonition">Oltre all'interfaccia utilizzata per la gestione del sistema operativo in-band, Corosync può utilizzare interfacce aggiuntive per la sincronizzazione e il battito cardiaco del cluster. In questo modo, la perdita di una singola interfaccia non riduce l'intero cluster.</block>
  <block id="d95a2f19c705379e32f8030de274d07e" category="list-text">Il servizio BeeGFS Management è sempre attivo<block ref="770ab4aed0623ab2da7c6d93d36e1626" prefix=" " category="inline-code"></block> oppure<block ref="89232954d2214028ecaa11033c8e7a25" prefix=" " category="inline-code"></block>.</block>
  <block id="29cd1587ba2833db9af29eac16f0d72b" category="list-text">I servizi di metadati BeeGFS sono sempre attivi<block ref="8e899642f9ef8d71ee877d1780467578" prefix=" " category="inline-code"></block> oppure<block ref="57a55b99bfac8ec35796e4ae40f5540c" prefix=" " category="inline-code"></block>.</block>
  <block id="be092b10130fe0c97dd9358f0c131935" category="list-text">Indirizzi compresi nell'intervallo<block ref="202a0146090f5e2d4eabc0b9ffeab50c" prefix=" " category="inline-code"></block> attraverso<block ref="d0757c31b357693695458d7f69f1db7d" prefix=" " category="inline-code"></block> sono riservati ai clienti.</block>
  <block id="aa00436c66c8456a1c9ef0a12178a4ab" category="paragraph-title">Subnet A: 100.127.0.0/16</block>
  <block id="3ac8c958d4c77187295fd53646229e9e" category="paragraph">La seguente tabella fornisce l'intervallo per la subnet A: 100.127.0.0/16.</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">Scopo</block>
  <block id="8433249cf732856c8ef7700f591da923" category="cell">Porta InfiniBand</block>
  <block id="5c43713485260d7759e7710e65d5b181" category="cell">Indirizzo IP o intervallo</block>
  <block id="32e90ecbd165097494e967a23490ee41" category="cell">IP cluster BeeGFS</block>
  <block id="16bfa5161249dae15f8c441a34126387" category="cell">i1b</block>
  <block id="fcb936b16dcf3c23dec73fa21c9c16f1" category="cell">100.127.100.1 - 100.127.100.255</block>
  <block id="ae709a18a45df821c97f171d87abda05" category="cell">Gestione di BeeGFS</block>
  <block id="ca46d9d01d96136b3bd1dea0bce8b99f" category="cell">100.127.101.0</block>
  <block id="c7725fe17ccf0fe6dfa72467bca22d07" category="cell">Metadati BeeGFS</block>
  <block id="2aaea2be17c5c489bc5ec00da30f01e0" category="cell">i1b o i3b</block>
  <block id="5474dd17966e980dee3133c4fdddcf29" category="cell">100.127.101.1 - 100.127.101.255</block>
  <block id="d01488abddf6343d229f4a687a740a9d" category="cell">Storage BeeGFS</block>
  <block id="43c64dcbdc9c36edb0a78b932e87b96c" category="cell">100.127.103.1 - 100.127.103.255</block>
  <block id="7b0215ed75674e2bc6f9d23b5db3a59a" category="cell">Client BeeGFS</block>
  <block id="12ad67de237d3ee3ee2ca3ed39a93826" category="cell">(varia in base al client)</block>
  <block id="88bd43ac89ad7875c3db7323b9879d13" category="cell">100.127.1.1 - 100.127.99.255</block>
  <block id="079e5887eeb92f6f17c9fa25fd464e2a" category="paragraph-title">Subnet B: 100.128.0.0/16</block>
  <block id="00ee8ecc0f95892eb58786ee6e94e4e7" category="paragraph">La seguente tabella fornisce l'intervallo per la subnet B: 100.128.0.0/16.</block>
  <block id="42e7db8b69b0d0451fe5e7e94d271956" category="cell">i4b</block>
  <block id="672e53647fb3fbb550b46ac1eaaad363" category="cell">100.128.100.1 - 100.128.100.255</block>
  <block id="50641838fba9970d18ab721f2d775331" category="cell">i2b</block>
  <block id="6240652cf0cb3a0056e31569edba6f3e" category="cell">100.128.102.0</block>
  <block id="6bbae520cb1416f9508d58010c4df4a0" category="cell">i2b o i4b</block>
  <block id="3ac8689fd677355ec3c1098b78d717dd" category="cell">100.128.102.1 - 100.128.102.255</block>
  <block id="61b0ff8b431abb2cad4481cab938c338" category="cell">100.128.104.1 - 100.128.104.255</block>
  <block id="83dc7e1fb9aa3660d2fc0ccb6e72bd1a" category="cell">100.128.1.1 - 100.128.99.255</block>
  <block id="cd42d4848d52f3ad668601f29b839282" category="admonition">Non tutti gli IP compresi negli intervalli sopra indicati vengono utilizzati in questa architettura verificata di NetApp. Dimostrano come gli indirizzi IP possono essere pre-allocati per consentire una facile espansione del file system utilizzando uno schema di indirizzamento IP coerente. In questo schema, i nodi di file BeeGFS e gli ID di servizio corrispondono al quarto ottetto di un intervallo ben noto di IP. Il file system potrebbe certamente scalare oltre 255 nodi o servizi, se necessario.</block>
  <block id="5b361b4897c4847c08b3d13bf3b66b8d" category="summary">Installare e configurare il client BeeGFS su tutti gli host che richiedono l'accesso al file system BeeGFS, ad esempio nodi di calcolo o GPU. Per questa attività, è possibile utilizzare Ansible e l'insieme BeeGFS.</block>
  <block id="096a6674c1f4ef681d88a6eb229299b7" category="doc">Configurare i client BeeGFS</block>
  <block id="c855016387ccd14e80b0628a2da5609b" category="paragraph">È necessario installare e configurare il client BeeGFS su tutti gli host che necessitano dell'accesso al file system BeeGFS, come i nodi di calcolo o GPU. Per questa attività, è possibile utilizzare Ansible e l'insieme BeeGFS.</block>
  <block id="f4bf34ee26e45437b7b34ee3858d3f39" category="list-text">Se necessario, impostare SSH senza password dal nodo di controllo Ansible a ciascuno degli host che si desidera configurare come client BeeGFS:</block>
  <block id="c9793ac6c6a163b585094181979efe25" category="paragraph"><block ref="e7e2ad4e663e4c4c31c38a9fc078873a" prefix="" category="inline-code"></block></block>
  <block id="05c8acf59a637c421ef21a4a37d674de" category="list-text">Sotto<block ref="4d729f58293c8a48f1f8d918cdd1d28f" prefix=" " category="inline-code"></block>, Creare un file per ogni client BeeGFS denominato<block ref="a0253f5b8f5dd7be8b02cda13da40729" prefix=" " category="inline-code"></block> con il seguente contenuto, inserendo il testo segnaposto con le informazioni corrette per il tuo ambiente:</block>
  <block id="ca6b4577e851d5587e19a3d017db68b1" category="list-text">Creare un nuovo file<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block>, quindi inserire i seguenti parametri nella parte superiore:</block>
  <block id="ec6e88f08b026e04d1ce5f5f31493b21" category="inline-link">Crittografia del contenuto con Ansible Vault</block>
  <block id="d424a4948912165baf5c9641ad4de044" category="admonition">Non memorizzare le password in testo normale. Utilizzare invece Ansible Vault (vedere la documentazione Ansible per<block ref="69d38d4b5deda302461f6461c5317006" category="inline-link-rx"></block>) o utilizzare<block ref="13d87b4892426ec19bdc58a4643d3104" prefix=" " category="inline-code"></block> quando si esegue il playbook.</block>
  <block id="8f27eda73b5d4e7594b05bed1b90a053" category="list-text">In<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> File, elenca tutti gli host che devono essere configurati come client BeeGFS in<block ref="fc2e11772a55c48ed2b4ec7bc5d94664" prefix=" " category="inline-code"></block> E specificare eventuali configurazioni aggiuntive richieste per creare il modulo del kernel del client BeeGFS.</block>
  <block id="42d868a1eb5776ce2eb9b95938bcc056" category="inline-link">Supporto RDMA</block>
  <block id="b9d3c4e1c18127cf36ad951b208d45bb" category="list-text">In<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> Elencare i file system BeeGFS che si desidera montare nella parte inferiore di qualsiasi file definito in precedenza<block ref="b63119da730344b345cdc8f62a4711e9" prefix=" " category="inline-code"></block>.</block>
  <block id="0ebb92016a1cd310802bb6e22bcd491c" category="admonition">Il<block ref="27fab87a2a74c73ddb3d1d20ce980c77" prefix=" " category="inline-code"></block> rappresenta le impostazioni testate. Consultare la documentazione fornita con<block ref="0a84ad3cea9815959f96e884069338f8" prefix=" " category="inline-code"></block> di raccolta<block ref="84f7933b4ff9fefcfc60fd5fff4b3b54" prefix=" " category="inline-code"></block> ruolo per una panoramica completa di tutte le opzioni. Sono inclusi i dettagli sul montaggio di più file system BeeGFS o sul montaggio dello stesso file system BeeGFS più volte.</block>
  <block id="853c95fff114a0396695a5a34c4f78f1" category="list-text">Creare un nuovo<block ref="34bd6e27c43e6508a64d0a1bf093c7d2" prefix=" " category="inline-code"></block> e compilare i seguenti parametri:</block>
  <block id="8ae73b3fcef5fc8f1a73e62c987915e6" category="admonition">Omettere l'importazione di<block ref="c37a16fb00a6cc95fe94f5468dfded54" prefix=" " category="inline-code"></block> raccolta e.<block ref="0247feeacea55a1e5efb40b0947dbbbe" prefix=" " category="inline-code"></block> Ruolo se sono già stati installati i driver IB/RDMA richiesti e gli IP configurati sulle interfacce IPoIB appropriate.</block>
  <block id="598ee1856218e19bf329d8bece215061" category="list-text">Per installare e creare il client e montare BeeGFS, eseguire il seguente comando:</block>
  <block id="999070faf3729384137acf10348ed589" category="list-text">Prima di mettere in produzione il file system BeeGFS, si consiglia di eseguire l'accesso a qualsiasi client<block ref="bf1d98441c05c8ee7dba10e241fa8122" prefix=" " category="inline-code"></block> per garantire che tutti i nodi siano raggiungibili e che non vi siano problemi segnalati.</block>
  <block id="fefc21957cc1bbb1f6a7704d95ad5e0d" category="summary">È possibile implementare BeeGFS su NetApp in nodi di file e blocchi validati utilizzando la progettazione di blocchi di costruzione BeeGFS di seconda generazione di NetApp.</block>
  <block id="42f8643eb52a942747937327c72c8361" category="doc">Panoramica dell'implementazione</block>
  <block id="ef200d7e9d983785df6b4e01fa65bf59" category="section-title">Raccolte e ruoli Ansible</block>
  <block id="31f2ceaa03965649e2e37df5634511e7" category="paragraph">La soluzione BeeGFS su NetApp viene implementata utilizzando Ansible, un noto motore DI automazione IT utilizzato per automatizzare le implementazioni delle applicazioni. Ansible utilizza una serie di file denominati collettivamente inventario, che modellano il file system BeeGFS che si desidera implementare.</block>
  <block id="87d27d52f7fc81e8a134f2e3d2a57ecf" category="inline-link">Raccolta NetApp e-Series BeeGFS</block>
  <block id="1325754275d5677e560f21035bc1ac47" category="paragraph">Per ulteriori informazioni, vedere <block ref="dd39ef1fcc2e17fe1fe509b7ac2d5dea" category="inline-link-macro-rx"></block>.</block>
  <block id="5b3ae76175242b9c0c63ba5668657f49" category="admonition">Poiché l'implementazione della soluzione BeeGFS su NetApp richiede numerosi passaggi, NetApp non supporta l'implementazione manuale della soluzione.</block>
  <block id="6201cef3e5bb8f42f2aa1876b8c1f544" category="section-title">Profili di configurazione per gli elementi di base BeeGFS</block>
  <block id="3c411e2f06cd1b5275d2be84bb18a641" category="paragraph">Le procedure di implementazione coprono i seguenti profili di configurazione:</block>
  <block id="3c1ad21a1c1a2804f8ace80b84822bfe" category="list-text">Un building block di base che include servizi di gestione, metadati e storage.</block>
  <block id="416ad52da618754efb3680e957b1a048" category="list-text">Un secondo building block che include metadati e servizi di storage.</block>
  <block id="11047a79bd1eab4d52ba658a48a430e8" category="list-text">Un terzo building block che include solo i servizi di storage.</block>
  <block id="886066871646e69724c15beede051aa6" category="paragraph">Questi profili mostrano l'intera gamma di profili di configurazione consigliati per gli elementi di base di NetApp BeeGFS. Per ogni implementazione, il numero di metadati e di building block dello storage o building block dei soli servizi di storage può variare nelle procedure, a seconda dei requisiti di capacità e performance.</block>
  <block id="20cf8ff34f34ae23669e586d1092a0f9" category="section-title">Panoramica delle fasi di implementazione</block>
  <block id="9d863a0564ad86180bde2b2a6c27a6ed" category="paragraph">L'implementazione prevede le seguenti attività di alto livello:</block>
  <block id="fd2f8c173ade715231c21c932686e38b" category="list-title">Implementazione dell'hardware</block>
  <block id="f08d36149d715ffbb8eca9f7159e0d27" category="list-text">Assemblare fisicamente ciascun blocco edificio.</block>
  <block id="65353eb96f13d02029086d1790108e3c" category="list-text">Hardware per rack e cavi. Per le procedure dettagliate, vedere <block ref="19367e6e5e194f2806703eb905741326" category="inline-link-macro-rx"></block>.</block>
  <block id="b9205e876aa43217d9358621cf2c6187" category="list-title">Implementazione del software</block>
  <block id="359f84c66084d8c8c9d4cb7ca3945bcd" category="inline-link-macro">Impostare i nodi di file e blocchi</block>
  <block id="f8367dab28e2315251df9dcf227916b5" category="list-text"><block ref="4cfaa56cb8da11f04e7ee8ae6dd86bcc" category="inline-link-macro-rx"></block>.</block>
  <block id="ee63db10faeceba4efb3b03145e0ec26" category="list-text">Configurare gli IP BMC sui nodi di file</block>
  <block id="aa51221099b00aa6e09e3cb6b1b03f47" category="list-text">Installare un sistema operativo supportato e configurare la rete di gestione sui nodi di file</block>
  <block id="a75b117cd8d7af9205b2185d8afb8537" category="list-text">Configurare gli IP di gestione sui nodi a blocchi</block>
  <block id="b81f7e6126c9f5040f05685e56e57af1" category="list-text"><block ref="6848fc9a1ed48359bab6d9326922d03c" category="inline-link-macro-rx"></block>.</block>
  <block id="9312585e52fd3b0a0898c7f73fdfd8cc" category="list-text"><block ref="dbe1843153b6696d3dd846d3a25ea7b2" category="inline-link-macro-rx"></block>.</block>
  <block id="914b8eb4568f7c438e1d415af01c2787" category="list-text"><block ref="dbbcb9482f49ee969cddb7f10864cbd0" category="inline-link-macro-rx"></block>.</block>
  <block id="2640957ad14de18b2d308da5e116b4a0" category="list-text"><block ref="56ee4018bb6227ffe39900ebf12f2472" category="inline-link-macro-rx"></block>.</block>
  <block id="d21cb96c35176f0f0ea13876f354d072" category="inline-link-macro">Implementare BeeGFS utilizzando Ansible</block>
  <block id="a8169193bd5718bbe78111b3a1f874d7" category="list-text"><block ref="dffbd1bc941e2f4395de7cba04c6653b" category="inline-link-macro-rx"></block>.</block>
  <block id="f159952d71e33cd0a1ffbb2bcc4ce2ad" category="list-text"><block ref="75197807ccb18c9f99e8f2a2a3443aea" category="inline-link-macro-rx"></block>.</block>
  <block id="d6dd015562e1d088d87d28007ecfa541" category="admonition">Le procedure di implementazione includono diversi esempi in cui il testo deve essere copiato in un file. Prestare particolare attenzione a eventuali commenti inline contrassegnati da " n." o "//" per qualsiasi elemento che debba o possa essere modificato per un'implementazione specifica. Ad esempio:<block ref="f791b43c55fc3520a5d297b1addbd507" prefix=" " category="inline-code"></block></block>
  <block id="02cf3373667b246c17c8d054c073a372" category="paragraph">Architetture derivate con variazioni nelle raccomandazioni di implementazione:</block>
  <block id="e69ebf3ec790efafa5cfc7b6502ccfe4" category="summary">La soluzione BeeGFS su NetApp include considerazioni di progettazione architetturale utilizzate per determinare le apparecchiature, il cablaggio e le configurazioni specifiche richieste per supportare i carichi di lavoro validati.</block>
  <block id="ebd8431a0b14e9588377860f5d21d80b" category="doc">Panoramica dell'architettura</block>
  <block id="dc3f25ceea15d952c20a612e806039b4" category="section-title">Architettura a blocchi</block>
  <block id="f968e1fab577166d28baa278b7fbec71" category="paragraph">Il file system BeeGFS può essere implementato e scalato in diversi modi, a seconda dei requisiti di storage. Ad esempio, i casi di utilizzo che includono principalmente numerosi file di piccole dimensioni trarranno beneficio da una maggiore capacità e performance dei metadati, mentre i casi di utilizzo che presentano meno file di grandi dimensioni potrebbero favorire una maggiore capacità di storage e performance per i contenuti dei file effettivi. Queste considerazioni multiple hanno un impatto sulle diverse dimensioni dell'implementazione del file system parallelo, che aggiunge complessità alla progettazione e all'implementazione del file system.</block>
  <block id="a0f56902d72268743383af795844da43" category="paragraph">Per affrontare queste sfide, NetApp ha progettato un'architettura standard basata su building block che consente di scalare ciascuna di queste dimensioni. In genere, gli elementi di base BeeGFS vengono implementati in uno dei tre profili di configurazione seguenti:</block>
  <block id="cbebd598c304febe3d9ce528a39f79ca" category="list-text">Un singolo building block di base, che include gestione BeeGFS, metadati e servizi di storage</block>
  <block id="f606793c59d48b54b2b3a18a70dd823d" category="list-text">Metadati BeeGFS e building block dello storage</block>
  <block id="5d36a489380874ed227d193957d972de" category="list-text">Un building block per lo storage BeeGFS</block>
  <block id="3679eaa30562d3f5040cb64c625a3455" category="paragraph">L'unica modifica hardware tra queste tre opzioni è l'utilizzo di dischi più piccoli per i metadati BeeGFS. In caso contrario, tutte le modifiche di configurazione vengono applicate tramite software. Inoltre, con Ansible come motore di implementazione, la configurazione del profilo desiderato per un particolare building block rende semplici le attività di configurazione.</block>
  <block id="0623572375a27997b16aa8f259513278" category="paragraph">Per ulteriori dettagli, vedere <block ref="27bdb301347b8d7fa8a057384825ba6a" category="inline-xref-macro-rx"></block>.</block>
  <block id="e3b101a8b62b6541bfde340117b3f92b" category="section-title">Servizi del file system</block>
  <block id="26e699f65c8724efd549a1445c4b9eb3" category="paragraph">Il file system BeeGFS include i seguenti servizi principali:</block>
  <block id="a9effde6a4743049a20cd75e19532999" category="list-text">*Servizio di gestione.* registra e monitora tutti gli altri servizi.</block>
  <block id="edd29dd37a407bf6bdd3dcefe97db0d5" category="list-text">*Servizio di storage.* Memorizza il contenuto del file utente distribuito, noto come file di blocco dei dati.</block>
  <block id="dc134a7a2e4d2cbe6789c47709b38b35" category="list-text">*Servizio metadati.* tiene traccia del layout del file system, della directory, degli attributi dei file e così via.</block>
  <block id="bfd4d1f28f912adef70ff502946f2d7a" category="list-text">*Servizio client.* consente di attivare il file system per accedere ai dati memorizzati.</block>
  <block id="94ab5c559c66cc4fc4b2e1c1ed4b00a3" category="paragraph">La figura seguente mostra i componenti della soluzione BeeGFS e le relazioni utilizzate con i sistemi NetApp e-Series.</block>
  <block id="9ac96964e53d6a8061e16551c85e7b05" category="paragraph">In qualità di file system parallelo, BeeGFS esegue lo striping dei propri file su più nodi server per massimizzare le performance di lettura/scrittura e la scalabilità. I nodi server lavorano insieme per fornire un singolo file system che può essere montato e accessibile contemporaneamente da altri nodi server, comunemente noti come _client_. Questi client possono visualizzare e utilizzare il file system distribuito in modo simile a un file system locale come NTFS, XFS o ext4.</block>
  <block id="2cd4f3c05097f81722656ab8de9b6a25" category="paragraph">I quattro servizi principali vengono eseguiti su un'ampia gamma di distribuzioni Linux supportate e comunicano tramite qualsiasi rete compatibile con TCP/IP o RDMA, tra cui InfiniBand (IB), Omni-Path (OPA) e RDMA over Converged Ethernet (RoCE). I servizi server BeeGFS (gestione, storage e metadati) sono daemon dello spazio utente, mentre il client è un modulo kernel nativo (senza patch). Tutti i componenti possono essere installati o aggiornati senza riavviare ed è possibile eseguire qualsiasi combinazione di servizi sullo stesso nodo.</block>
  <block id="006d93ef4f9eec646f24191298096ff5" category="section-title">Nodi verificati</block>
  <block id="18bc6212071e7cb1cca90788a40a9301" category="inline-link">Il sito Web di Lenovo</block>
  <block id="4b2aed7f56892904807d2a0dba262f91" category="section-title">Progettazione hardware verificata</block>
  <block id="6ec27f578410cadd1a5e4b274d75cdb2" category="inline-link">GitHub e-Series di NetApp</block>
  <block id="66136a118d01240429805a157ae4b538" category="summary">Quando si seguono le configurazioni standard dei quattro volumi per pool di storage per gli elementi di base di seconda generazione, fare riferimento a queste percentuali consigliate.</block>
  <block id="13d38edc52fe6e049aae05e6fce1573a" category="paragraph">Se si seguono le configurazioni standard dei quattro volumi per pool di storage per gli elementi di base di seconda generazione, fare riferimento alla tabella seguente.</block>
  <block id="2d115a94acc324947afb0abf7c47d665" category="paragraph">Questa tabella fornisce le percentuali consigliate da utilizzare come dimensione del volume in<block ref="8ca968d07b3817015da8919c700152f5" prefix=" " category="inline-code"></block> Per ogni destinazione di storage o metadati BeeGFS:</block>
  <block id="ec8691da9bf60fda22f12e08033d054b" category="cell">Dimensioni del disco</block>
  <block id="6f6cb72d544962fa333e2e34ce64f719" category="cell">Dimensione</block>
  <block id="6f4922f45568161a8cdf4ad2299f6d23" category="cell">18</block>
  <block id="d81fdeb5a429e85d04118048e4b3485d" category="cell">21.5</block>
  <block id="6303058eb2f22355195922bb9eeac265" category="cell">22.5</block>
  <block id="1ff1de774005f8da13f42943881c655f" category="cell">24</block>
  <block id="b6f404dc4372a8369386a51240b69703" category="admonition">Le indicazioni riportate sopra non si applicano al pool di storage contenente il servizio di gestione, che dovrebbe ridurre le dimensioni di cui sopra di .25% per allocare l'1% del pool di storage per i dati di gestione.</block>
  <block id="cede28c203641f70169adaabc10df9b6" category="inline-link">TR-4800: Appendice A: Comprensione della durata e dell'overprovisioning degli SSD</block>
  <block id="dab022c0b8356780eb602bc87effd71f" category="paragraph">Per capire come sono stati determinati questi valori, vedere<block ref="fa826cd698d934925bfe1b514e70b591" category="inline-link-rx"></block>.</block>
  <block id="0dfb05d4ea761122194fbafcd7f3a5eb" category="summary">La progettazione di seconda generazione per la soluzione BeeGFS su NetApp è stata verificata utilizzando tre profili di configurazione a blocchi.</block>
  <block id="dd444e75087c1912fb6b2f9435eec0ba" category="paragraph">I profili di configurazione includono quanto segue:</block>
  <block id="ba33770125b7249843843e3524e48e5e" category="list-text">Un singolo building block di base, che include gestione BeeGFS, metadati e servizi di storage.</block>
  <block id="dc0ae690014a6e4ed1d17d728fce2e3a" category="list-text">Metadati BeeGFS più un building block per lo storage.</block>
  <block id="f789cf74ad54c463cf1827c970b695c0" category="list-text">Un building block BeeGFS solo per lo storage.</block>
  <block id="f27d4d7620b1158ad830c498a6faf1c5" category="paragraph">La figura seguente mostra la configurazione BeeGFS utilizzata per validare la soluzione BeeGFS su NetApp.</block>
  <block id="dfa0c76fc554fa6837cfe216381eb3df" category="section-title">Striping del file BeeGFS</block>
  <block id="73bf7a09a102bdf9e2984ff15f2e62cc" category="paragraph">Un vantaggio dei file system paralleli è la capacità di eseguire lo striping di singoli file su più destinazioni di storage, che potrebbero rappresentare volumi sullo stesso sistema di storage sottostante o su sistemi di storage diversi.</block>
  <block id="f781a67c7f55c5a3d6d505e3569ff3c3" category="inline-link">Striping</block>
  <block id="0102b96fad09ea07b9b6c943ac48e706" category="inline-link">API di striping</block>
  <block id="be4c29766b20870006df2b27be87994e" category="paragraph">In BeeGFS, è possibile configurare lo striping per directory e per file per controllare il numero di destinazioni utilizzate per ogni file e per controllare la dimensione del blocco (o dimensione del blocco) utilizzata per ogni stripe di file. Questa configurazione consente al file system di supportare diversi tipi di carichi di lavoro e profili i/o senza dover riconfigurare o riavviare i servizi. È possibile applicare le impostazioni di stripe utilizzando<block ref="525acd7d8ba0c119c88006411faf1d89" prefix=" " category="inline-code"></block> Tool della riga di comando o con applicazioni che utilizzano l'API di striping. Per ulteriori informazioni, consultare la documentazione di BeeGFS per<block ref="d307c57bb94d8613bf23053de378d367" category="inline-link-rx"></block> e.<block ref="d53017212bcf8a78d44d2efbf061a88a" category="inline-link-rx"></block>.</block>
  <block id="706c7a765e77b694cee17941887ccaaf" category="paragraph">Per ottenere le migliori prestazioni, i modelli di stripe sono stati regolati durante l'intero test e vengono annotati i parametri utilizzati per ciascun test.</block>
  <block id="a40727fe75676638a1b87009fafed260" category="section-title">Test della larghezza di banda IOR: Client multipli</block>
  <block id="a4c77786e4208d299fbf0c491eb99106" category="inline-link">HPC GitHub</block>
  <block id="8b2e6032c8801b379e2fd75991ebb452" category="paragraph">I test della larghezza di banda IOR hanno utilizzato OpenMPI per eseguire lavori paralleli dello strumento IOR (Synthetic i/o Generator Tool), disponibile presso<block ref="323e2ec03a214c41088a20e514e0a41e" category="inline-link-rx"></block>) Su tutti i 10 nodi client a uno o più blocchi di base BeeGFS. Se non diversamente specificato:</block>
  <block id="219cae8db1869355f9c480a2fe2c5d6d" category="list-text">Tutti i test utilizzavano l'i/o diretto con una dimensione di trasferimento di 1 MiB.</block>
  <block id="de2223ae9c343f387e4a3549abf2a4fc" category="list-text">Lo striping dei file BeeGFS è stato impostato su una dimensione di blocco di 1 MB e su una destinazione per file.</block>
  <block id="8aa2f9ce00cbab54a4479ba40f638773" category="paragraph">I seguenti parametri sono stati utilizzati per IOR con il conteggio dei segmenti regolato per mantenere la dimensione del file aggregato a 5TiB per un building block e 40TiB per tre building block.</block>
  <block id="015dd422187100bd2a53cae756db5bcd" category="paragraph-title">Un building block di base BeeGFS (gestione, metadati e storage)</block>
  <block id="a404b853baec85523834a070479317ea" category="paragraph">La figura seguente mostra i risultati del test IOR con un singolo building block di base BeeGFS (gestione, metadati e storage).</block>
  <block id="2eb32f267ab2864aa50a3171522c1574" category="paragraph-title">Metadati BeeGFS + building block dello storage</block>
  <block id="578da280bb783045852047cd081f65fd" category="paragraph">La figura seguente mostra i risultati del test IOR con un singolo metadata BeeGFS + building block dello storage.</block>
  <block id="2cf619569e1d3422599fa7ba3fff04f2" category="paragraph-title">Building block BeeGFS solo per lo storage</block>
  <block id="720f0ab0184643d51a1197789875c393" category="paragraph">La figura seguente mostra i risultati del test IOR con un singolo building block BeeGFS solo per lo storage.</block>
  <block id="9443a11095bad63a50d95ece24842fb2" category="paragraph-title">Tre blocchi di base BeeGFS</block>
  <block id="e3b081c19738d20e5f52be67ac8d0361" category="paragraph">La figura seguente mostra i risultati del test IOR con tre blocchi di base BeeGFS.</block>
  <block id="9abc8771b8098ae505a1ff386b580ef3" category="paragraph">Come previsto, la differenza di performance tra il building block di base e i successivi metadati + building block di storage è trascurabile. Il confronto tra i metadati e il building block di storage e un building block di solo storage mostra un leggero aumento delle performance di lettura dovuto ai dischi aggiuntivi utilizzati come target di storage. Tuttavia, non vi è alcuna differenza significativa nelle prestazioni di scrittura. Per ottenere performance più elevate, è possibile aggiungere più elementi di base insieme per scalare le performance in modo lineare.</block>
  <block id="7465e2f5afc6bc7ebff6ea05e19d52d3" category="section-title">Test della larghezza di banda IOR: Singolo client</block>
  <block id="4cb463d8f88ac93de9fecb82d125d05c" category="paragraph">Il test della larghezza di banda IOR ha utilizzato OpenMPI per eseguire più processi IOR utilizzando un singolo server GPU dalle performance elevate per esplorare le performance ottenibili da un singolo client.</block>
  <block id="6a2583bcd41d0a03702444d541162685" category="paragraph">Questo test confronta anche il comportamento di rilettura e le performance di BeeGFS quando il client è configurato per utilizzare la paging-cache del kernel Linux <block ref="6e97c2177f166e83fa16865e701a7917" prefix="(" category="inline-code"></block>) rispetto al valore predefinito<block ref="8b365ffbd5d92a1b9c20f227a4b6fcec" prefix=" " category="inline-code"></block> impostazione.</block>
  <block id="0123881fd1c799161bf0cc847d402a42" category="paragraph">La modalità di caching nativa utilizza la paging-cache del kernel Linux sul client, consentendo alle operazioni di rilettura di provenire dalla memoria locale invece di essere ritrasmesse sulla rete.</block>
  <block id="2748a8672e1df7ff75dc04c3e0086a44" category="paragraph">Il diagramma seguente mostra i risultati del test IOR con tre blocchi di base BeeGFS e un singolo client.</block>
  <block id="2e301b61d3683cc584633009bafffa70" category="admonition">Lo striping di BeeGFS per questi test è stato impostato su una dimensione del blocco di 1 MB con otto destinazioni per file.</block>
  <block id="8c5eae70f19670232111d1823b5edb56" category="paragraph">Sebbene le performance di scrittura e lettura iniziale siano più elevate utilizzando la modalità buffer predefinita, per i carichi di lavoro che rileggono gli stessi dati più volte, la modalità caching nativa offre un significativo miglioramento delle performance. Questo miglioramento delle performance di rilettura è importante per i carichi di lavoro come il deep learning che rileggono lo stesso set di dati più volte in diverse epoche.</block>
  <block id="e9f3e979fd823256ea73296f49e954da" category="section-title">Test delle performance dei metadati</block>
  <block id="e3195dd21dbd9ee2c6c42f0c8a6c7128" category="paragraph">I test delle prestazioni dei metadati hanno utilizzato lo strumento MDTest (incluso come parte di IOR) per misurare le prestazioni dei metadati di BeeGFS. I test hanno utilizzato OpenMPI per eseguire lavori paralleli su tutti e dieci i nodi client.</block>
  <block id="44ece23db4ca31ae5b81205ad387af00" category="paragraph">I seguenti parametri sono stati utilizzati per eseguire il test di benchmark con il numero totale di processi scalati da 10 a 320 in incrementi di 2x e con una dimensione del file di 4k.</block>
  <block id="b872c01a040702b121dc5f52261e99e0" category="paragraph">Le performance dei metadati sono state misurate prima con uno e due metadati + building block di storage per mostrare come le performance si ridimensionano aggiungendo ulteriori building block.</block>
  <block id="3c793d71f0d81892f28ab10f661381c8" category="paragraph-title">Un solo metadata BeeGFS + building block di storage</block>
  <block id="c6c65b36c5c466822447bc4c94abd80c" category="paragraph">Il seguente diagramma mostra i risultati di MDTest con un solo metadata BeeGFS + blocchi di base dello storage.</block>
  <block id="94c5de0e8c5b79f8b061a00a2d638234" category="paragraph-title">Due metadati BeeGFS + blocchi di base per lo storage</block>
  <block id="5d4514dbb64a843f08caa7fe8140c121" category="paragraph">Il seguente diagramma mostra i risultati di MDTest con due metadati BeeGFS + blocchi di base dello storage.</block>
  <block id="6bcc55d27d7ea16e6df55e7ec18fd377" category="section-title">Validazione funzionale</block>
  <block id="b15005270887e63f3c777c3722631021" category="paragraph">Nell'ambito della convalida di questa architettura, NetApp ha eseguito diversi test funzionali, tra cui:</block>
  <block id="008151af32cff92eed6431ca4cf43500" category="list-text">Errore di una singola porta InfiniBand client disattivando la porta dello switch.</block>
  <block id="73b83d70be21d004da6e079b00bb5948" category="list-text">Errore di una porta InfiniBand di un singolo server disattivando la porta dello switch.</block>
  <block id="f7b8ad51ce1aad4a6e15c6583fcbdd55" category="list-text">Attivazione dello spegnimento immediato del server mediante BMC.</block>
  <block id="6148d6995d77c1b8b1bfd4c6f299162b" category="list-text">Posizionamento corretto di un nodo in standby e failover del servizio su un altro nodo.</block>
  <block id="1cc77e3527f4ac004c8a5cdb5cac049e" category="list-text">Posizionamento corretto di un nodo di nuovo online e fallimento dei servizi di back nel nodo originale.</block>
  <block id="908463015e2671e9d90b06353dabae03" category="list-text">Spegnere uno degli switch InfiniBand utilizzando la PDU. Tutti i test sono stati eseguiti mentre era in corso il test di stress con<block ref="2f737a641ac05fa577f51efab6ed8e27" prefix=" " category="inline-code"></block> Set di parametri sui client BeeGFS. Non sono stati osservati errori o interruzioni dell'i/O.</block>
  <block id="c49182dc0c7a70b9cd2e10853d9ec6c7" category="inline-link">Changelog</block>
  <block id="788a9659515e495b379621cac9040872" category="admonition">Si è verificato un problema noto (vedere<block ref="9892b1a82a523d642c4ee2c76b765b8b" category="inline-link-rx"></block>) Quando le connessioni RDMA client/server BeeGFS vengono interrompute inaspettatamente, a causa della perdita dell'interfaccia primaria (come definito nella<block ref="7f8e8358da4bb8d8e7f6f717ad9eb0e9" prefix=" " category="inline-code"></block>) O un server BeeGFS non funzionante; l'i/o client attivo può bloccarsi per un massimo di dieci minuti prima della ripresa. Questo problema non si verifica quando i nodi BeeGFS vengono posizionati correttamente in standby o non sono in standby per la manutenzione pianificata o se TCP è in uso.</block>
  <block id="7c6326491c77a63417df94790ba07083" category="inline-link">NVIDIA DGX SuperPOD con NetApp</block>
  <block id="64dc43320ec1a44c390fafb5e2408f4b" category="inline-link">NVIDIA DGX BasePOD</block>
  <block id="33d753992c8525a016e60650889ef7a9" category="paragraph">Per ulteriori informazioni, vedere<block ref="917e0b817a1bc5579c3d00c8de7a0790" category="inline-link-rx"></block> e.<block ref="d4d49ddfca3de3daecdc231399362db8" category="inline-link-rx"></block>.</block>
  <block id="f45c646cffcf39011c125e7523fa9149" category="summary">Le variazioni di implementazione per un building block ad alta capacità.</block>
  <block id="8b074fc693c7d8fd35c61de8fe2dee9a" category="doc">Building block ad alta capacità</block>
  <block id="fc6e06f3e4cfc328095f04c8f44c28f1" category="paragraph">La guida all'implementazione della soluzione BeeGFS standard delinea procedure e raccomandazioni per i requisiti di workload ad alte performance. I clienti che desiderano soddisfare requisiti di capacità elevata devono osservare le variazioni nell'implementazione e i consigli descritti di seguito.</block>
  <block id="774f4231e5651061791e65cf90314897" category="paragraph"><block ref="774f4231e5651061791e65cf90314897" category="inline-image-macro-rx" type="image"></block></block>
  <block id="cbfb14f470701bf93424d757c624369a" category="section-title">Controller</block>
  <block id="174e6193fff9ed7c9b1839367e007f13" category="paragraph">Per gli building block ad alta capacità, i controller EF600 devono essere sostituiti con controller EF300, ciascuno con un HIC Cascade installato per l'espansione SAS. Ogni nodo a blocchi avrà un numero minimo di SSD NVMe popolati nell'enclosure dell'array per lo storage dei metadati BeeGFS e saranno collegati agli shelf di espansione popolati con HDD NL-SAS per i volumi di storage BeeGFS.</block>
  <block id="1ec9226d3745f2995d2686d2450831c7" category="paragraph">La configurazione da nodo file a nodo di blocco rimane la stessa.</block>
  <block id="af932b84cc0c8562c0e572647564048f" category="section-title">Posizionamento del disco</block>
  <block id="f96a95c482225ca6a9b4c17bfa47d918" category="paragraph">Per lo storage dei metadati BeeGFS sono richiesti almeno 4 SSD NVMe in ciascun nodo a blocchi. Questi dischi devono essere posizionati negli slot più esterni dell'enclosure.</block>
  <block id="fdd528ca6f274d102819b008b189961c" category="section-title">Vassoi di espansione</block>
  <block id="6627fde89324d2cbb6afd245e3d32d35" category="paragraph">Il building block ad alta capacità può essere dimensionato con 1-7, 60 tray di espansione per unità per array di storage.</block>
  <block id="80b4ce0c4b11e4d8c7c4a14614b871f7" category="inline-link-macro">Fare riferimento al cablaggio EF300 per gli shelf di dischi</block>
  <block id="25ada85328148d5356ce4edd989b1f40" category="paragraph">Per istruzioni su come collegare ciascun vassoio di espansione, <block ref="8c170f7da852d665db7cd9113b2ed6bb" category="inline-link-macro-rx"></block>.</block>
  <block id="51bfd24e79e0939d84e9230980db5f18" category="summary">La soluzione BeeGFS su NetApp si trova attualmente nella sua seconda progettazione generazionale.</block>
  <block id="fa0de4179a84e742d2d88028d16bf137" category="doc">Generazioni di design</block>
  <block id="51c16b7415d506b9bbcedd7241c7c1c0" category="paragraph">Sia la prima che la seconda generazione includono un'architettura di base che incorpora un file system BeeGFS e un sistema storage NVMe EF600. Tuttavia, la seconda generazione si basa sulla prima per includere questi benefici aggiuntivi:</block>
  <block id="20667306535e51f69f34371b95abfd0b" category="list-text">Raddoppiare le prestazioni e la capacità aggiungendo solo 2U di spazio rack</block>
  <block id="edcc56d654a1a9362699f309c738a185" category="list-text">Alta disponibilità (ha) basata su un design hardware a due livelli e a disco condiviso</block>
  <block id="189fdda096d5b994e140eac128f464e1" category="section-title">Secondo design generazionale</block>
  <block id="145c927b5996411105e8a05381bfab75" category="section-title">Primo design generazionale</block>
  <block id="8c2de6dc6972aa428c25b73867ee0c6c" category="inline-link-macro">NetApp EF-Series ai con sistemi NVIDIA DGX A100 e BeeGFS</block>
  <block id="cb0e1ee82028e21bcb25d1cedee42a90" category="paragraph">Per ulteriori informazioni sulla prima generazione, vedere <block ref="7c75f12548abfaad3f9a226ecdfc54d3" category="inline-link-macro-rx"></block>.</block>
  <block id="a8bb1258f035db2e1b989badd7504202" category="summary">Per definire la configurazione per i nodi di file e blocchi, creare un inventario Ansible che rappresenti il file system BeeGFS che si desidera implementare.</block>
  <block id="811a6b46c73b2ff846d806c69f166392" category="paragraph">Per definire la configurazione per i nodi di file e blocchi, creare un inventario Ansible che rappresenti il file system BeeGFS che si desidera implementare. L'inventario include host, gruppi e variabili che descrivono il file system BeeGFS desiderato.</block>
  <block id="f710d81b04cfd57ef65bc4cca28bc3d4" category="section-title">Fase 1: Definire la configurazione per tutti gli elementi di base</block>
  <block id="08ecdaa3e32e095bd8f7ecec87a6ffe1" category="paragraph">Definire la configurazione che si applica a tutti gli elementi di base, indipendentemente dal profilo di configurazione che è possibile applicare singolarmente.</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="list-title">Prima di iniziare</block>
  <block id="1633329793556e695f8ae53c7f3c8756" category="list-text">Nel nodo di controllo Ansible, identificare una directory che si desidera utilizzare per memorizzare i file dell'inventario Ansible e del playbook.</block>
  <block id="2af34d0fd4b17ecc42b7fb40d3a2019d" category="paragraph">Se non diversamente specificato, tutti i file e le directory creati in questa fase e nelle fasi successive vengono creati in relazione a questa directory.</block>
  <block id="31f13138a9fb78368dd1c5b8b9cb522e" category="list-text">Creare le seguenti sottodirectory:</block>
  <block id="f502c582ecc3459969f6ae37e60464d1" category="paragraph"><block ref="3342582e194d63e4c91b56623752c9c6" prefix="" category="inline-code"></block></block>
  <block id="f2151fe487fd8f761c16c5d92971a46f" category="paragraph"><block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix="" category="inline-code"></block></block>
  <block id="5fa06f80972ff05cf8eb18aa9af90bbd" category="paragraph"><block ref="2fc9e51174a78dd5bfc57e8e368590b3" prefix="" category="inline-code"></block></block>
  <block id="49266d47983011d7ceee48c764eaad20" category="section-title">Fase 2: Definire la configurazione per i singoli nodi di file e blocchi</block>
  <block id="bcbd88b78dd9388280471b20c50ef836" category="paragraph">Definire la configurazione che si applica ai singoli nodi di file e ai singoli nodi building block.</block>
  <block id="4ace9bc4fa627e77f6406dd2f64e2028" category="list-text">Sotto<block ref="4d729f58293c8a48f1f8d918cdd1d28f" prefix=" " category="inline-code"></block>, Creare un file per ogni nodo di file BeeGFS denominato<block ref="a0253f5b8f5dd7be8b02cda13da40729" prefix=" " category="inline-code"></block> Con il seguente contenuto, prestare particolare attenzione alle note relative al contenuto da compilare per gli IP del cluster BeeGFS e i nomi host che terminano con numeri dispari e pari.</block>
  <block id="65742ecf20e6c51de487a8a5c4e5d085" category="paragraph">Inizialmente, i nomi dell'interfaccia del nodo del file corrispondono a quelli elencati qui (ad esempio ib0 o ibs1f0). Questi nomi personalizzati sono configurati in <block ref="9c327e4b0e0a41a0187df973a6c1c1f1" category="inline-xref-macro-rx"></block>.</block>
  <block id="c1df6ea154e4f3c22584570de9017604" category="admonition">Se il cluster BeeGFS è già stato implementato, è necessario arrestare il cluster prima di aggiungere o modificare gli indirizzi IP configurati staticamente, inclusi gli IP del cluster e gli IP utilizzati per NVMe/IB. Ciò è necessario per garantire che queste modifiche abbiano effetto corretto e non interrompano le operazioni del cluster.</block>
  <block id="64f6e7ce4bce20648e5b5817cc7c9d5d" category="list-text">Sotto<block ref="4d729f58293c8a48f1f8d918cdd1d28f" prefix=" " category="inline-code"></block>, Creare un file per ogni nodo del blocco BeeGFS denominato<block ref="a0253f5b8f5dd7be8b02cda13da40729" prefix=" " category="inline-code"></block> e compilarlo con il seguente contenuto.</block>
  <block id="350317d433df31d79bf0ded1b3748715" category="paragraph">Prestare particolare attenzione alle note relative ai contenuti da inserire nei nomi degli array di storage che terminano con numeri pari o dispari.</block>
  <block id="d9aa2babb29bda2ebcdcb05c255e1dd3" category="paragraph">Per ogni nodo del blocco, creare un file e specificare<block ref="966b4c423b24fddfa8c3a1a862b8ee19" prefix=" " category="inline-code"></block> Per uno dei due controller (di solito A).</block>
  <block id="a79b02f70003beee254343e4cae10ad4" category="section-title">Fase 3: Definire la configurazione da applicare a tutti i nodi di file e blocchi</block>
  <block id="7a7623c76e8a35ad9b47b72876017ffc" category="paragraph">È possibile definire la configurazione comune a un gruppo di host in<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block> in un nome di file che corrisponde al gruppo. In questo modo si evita di ripetere una configurazione condivisa in più posizioni.</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="paragraph-title">A proposito di questa attività</block>
  <block id="b8250a298e8217ebff19d4f7c62cf654" category="inline-link">Utilizzo delle variabili</block>
  <block id="45c67f165a1990ff04bfa4ffd3ad1908" category="paragraph">Gli host possono trovarsi in più di un gruppo e, in fase di esecuzione, Ansible sceglie le variabili da applicare a un determinato host in base alle regole di precedenza delle variabili. Per ulteriori informazioni su queste regole, consultare la documentazione Ansible per<block ref="e846c866a706aed07204d4b81c43f562" category="inline-link-rx"></block>.)</block>
  <block id="30670ef79ffcebf619cb84794bb9f467" category="paragraph">Le assegnazioni host-to-group sono definite nel file di inventario Ansible effettivo, creato verso la fine di questa procedura.</block>
  <block id="48c7c41b72e1d678923ce3571aa65b2d" category="paragraph-title">Fase</block>
  <block id="13fe78da26730165534ca728d16729df" category="paragraph">In Ansible, qualsiasi configurazione che si desidera applicare a tutti gli host può essere definita in un gruppo chiamato<block ref="b1c94ca2fbc3e78fc30069c8d0f01680" prefix=" " category="inline-code"></block>. Creare il file<block ref="ee7b44b9b73d4c691251cbf5c8dff5c5" prefix=" " category="inline-code"></block> con i seguenti contenuti:</block>
  <block id="970c2de774d4cba551050f0b96346cc6" category="section-title">Fase 4: Definire la configurazione da applicare a tutti i nodi di file</block>
  <block id="68decee7f537598fe42c449c7effd748" category="paragraph">La configurazione condivisa per i nodi di file viene definita in un gruppo chiamato<block ref="2325c19457d6105d5d5f3837fa282ef7" prefix=" " category="inline-code"></block>. La procedura descritta in questa sezione illustra la configurazione da includere in<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> file.</block>
  <block id="01eabbaba4e3200ffffeaf687ced4089" category="list-text">Nella parte superiore del file, definire le impostazioni predefinite, inclusa la password da utilizzare come<block ref="d338b3f0f405eb5e51c8cc1e5ca66f02" prefix=" " category="inline-code"></block> utente sui nodi del file.</block>
  <block id="c61c5c1226a5daff294e618d1b90ec26" category="admonition">In particolare per gli ambienti di produzione, non memorizzare le password in testo normale. Utilizzare invece il vault Ansible (vedere<block ref="69d38d4b5deda302461f6461c5317006" category="inline-link-rx"></block>) o il<block ref="13d87b4892426ec19bdc58a4643d3104" prefix=" " category="inline-code"></block> quando si esegue il playbook. Se il<block ref="f2bf771afbc16045e1951ded58c56f98" prefix=" " category="inline-code"></block> è già<block ref="63a9f0ea7bb98050796b649e85481845" prefix=" " category="inline-code"></block>, quindi è possibile omettere il<block ref="424240cd4e5c359372b7f199431603d5" prefix=" " category="inline-code"></block>.</block>
  <block id="3eeae040dcd4e8e08ba89cd729351414" category="list-text">Facoltativamente, configurare un nome per il cluster ad alta disponibilità (ha) e specificare un utente per la comunicazione intra-cluster.</block>
  <block id="22bf408c8339ca14dab3745bbe56780d" category="paragraph">Se si sta modificando lo schema di indirizzamento IP privato, è necessario aggiornare anche il valore predefinito<block ref="58d2053fd85feeb270797993bb67b146" prefix=" " category="inline-code"></block>. Questo valore deve corrispondere a quello configurato in seguito per il gruppo di risorse BeeGFS Management.</block>
  <block id="ba4d50db9221cc812d5f7981d4600c2d" category="paragraph">Specificare una o più e-mail che devono ricevere avvisi per gli eventi del cluster utilizzando<block ref="df1376df23c24a2b7d885d84f6116452" prefix=" " category="inline-code"></block>.</block>
  <block id="e69d5d030b5267144694edd30e58fa4b" category="admonition">Anche se apparentemente ridondante,<block ref="58d2053fd85feeb270797993bb67b146" prefix=" " category="inline-code"></block> È importante quando si scala il file system BeeGFS oltre un singolo cluster ha. I cluster ha successivi vengono implementati senza un servizio di gestione BeeGFS aggiuntivo e puntano al servizio di gestione fornito dal primo cluster.</block>
  <block id="7509dcf152f48abcba19fa72adedb808" category="inline-link">Configurare la scherma in un cluster Red Hat High Availability</block>
  <block id="b2f365e9dc240069eb174f596f8086dd" category="paragraph">Per questa fase, tenere presente che:</block>
  <block id="83a5cc26327b36012de2442c022e0357" category="list-text">Per impostazione predefinita, la funzione di scherma è attivata, ma è necessario configurare un _Agent_ di scherma.</block>
  <block id="502142ce464e9e0c49b233594ce3af26" category="list-text">Il<block ref="c8e769afa51da82b12702e693d24b7f2" prefix=" " category="inline-code"></block> specificato in<block ref="240a786d8c1f5b2c35c60c8ebccf7fe2" prefix=" " category="inline-code"></block> oppure<block ref="50b0206acfcc765475b542e5725091ed" prefix=" " category="inline-code"></block> Deve corrispondere al nome host nell'inventario Ansible.</block>
  <block id="08c76f94c7c5d2fb0509d39d58f7d298" category="list-text">L'esecuzione del cluster BeeGFS senza scherma non è supportata, in particolare in produzione. In questo modo si garantisce in gran parte che quando i servizi BeeGFS, incluse eventuali dipendenze di risorse come i dispositivi a blocchi, si verifichi un failover a causa di un problema, non vi sia alcun rischio di accesso simultaneo da parte di più nodi che si traducono in un danneggiamento del file system o in altri comportamenti indesiderati o imprevisti. Se la scherma deve essere disattivata, fare riferimento alle note generali nella guida introduttiva e nel set del ruolo BeeGFS ha<block ref="7fe58896711b0c9790b9781e9deeeab8" prefix=" " category="inline-code"></block> a false in<block ref="3cd295e6aaa39e2510aff65b801cc5ab" prefix=" " category="inline-code"></block>.</block>
  <block id="8134b950ce435c1478c36f8d9e28640a" category="list-text">Sono disponibili più dispositivi di scherma a livello di nodo e il ruolo BeeGFS ha può configurare qualsiasi agente di scherma disponibile nel repository dei pacchetti Red Hat ha. Se possibile, utilizzare un agente di scherma che lavori attraverso l'UPS (Uninterruptible Power Supply) o l'unità di distribuzione dell'alimentazione rack (rPDU), Perché alcuni agenti di scherma, come il BMC (Baseboard Management Controller) o altri dispositivi di illuminazione integrati nel server, potrebbero non rispondere alla richiesta di fence in determinati scenari di errore.</block>
  <block id="6793d5cb3a8bc008d05678615f821ca7" category="list-text">Abilitare l'ottimizzazione delle performance consigliata nel sistema operativo Linux.</block>
  <block id="951cd0f9ef758f90609564a78a7f36a2" category="paragraph">Mentre molti utenti trovano che le impostazioni predefinite per i parametri delle performance funzionino generalmente bene, è possibile modificare le impostazioni predefinite per un particolare carico di lavoro. Di conseguenza, questi consigli sono inclusi nel ruolo BeeGFS, ma non sono abilitati per impostazione predefinita per garantire che gli utenti siano a conoscenza della messa a punto applicata al file system.</block>
  <block id="2e468d52e0778656623f6a98e831b3c0" category="paragraph">Per attivare l'ottimizzazione delle performance, specificare:</block>
  <block id="5886796779dc029ac41ffca429f9f5d1" category="list-text">(Facoltativo) è possibile regolare i parametri di ottimizzazione delle performance nel sistema operativo Linux in base alle esigenze.</block>
  <block id="fe7cbbcd6bbbe894cb7364e04d36c7ae" category="inline-link">Sito e-Series BeeGFS GitHub</block>
  <block id="372ec1e9d1761b6aa16b9f0b54a4433b" category="list-text">Compilare i seguenti parametri in<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> (regolare i pacchetti in base alle esigenze):</block>
  <block id="382cd5df5d20e8ee60bea9f8be1884e3" category="list-text">Configurare<block ref="ab775c875d5f89d991a670444dd32ad2" prefix=" " category="inline-code"></block> Regola per garantire la mappatura coerente degli identificatori di porta logici InfiniBand ai dispositivi PCIe sottostanti.</block>
  <block id="acb63a2b1a344472ec1b72c168bf5a95" category="paragraph">Il<block ref="ab775c875d5f89d991a670444dd32ad2" prefix=" " category="inline-code"></block> La regola deve essere univoca per la topologia PCIe di ciascuna piattaforma server utilizzata come nodo di file BeeGFS.</block>
  <block id="8cec215dcbcd9866be7ad7f12652d9bd" category="paragraph">Utilizzare i seguenti valori per i nodi di file verificati:</block>
  <block id="b535d5891e9112526732586cf8225d93" category="list-text">(Facoltativo) aggiornare l'algoritmo di selezione dei metadati.</block>
  <block id="e3c1663ae83b766d79e4b2be55767666" category="inline-link">Benchmarking di un sistema BeeGFS</block>
  <block id="8dff66e73ac10da6c457b7092c6f9005" category="admonition">Durante i test di verifica,<block ref="19230d21d2c58f7f5006b34c484cfa39" prefix=" " category="inline-code"></block> In genere, è stato utilizzato per garantire che i file di test fossero distribuiti in modo uniforme tra tutti gli obiettivi di storage BeeGFS durante il benchmarking delle performance (per ulteriori informazioni sul benchmarking, visitare il sito BeeGFS per<block ref="831dbcfeece1d9e52170bb11173ba315" category="inline-link-rx"></block>). Con un utilizzo reale, questo potrebbe causare il riempimento più rapido dei target con un numero inferiore rispetto ai target con un numero superiore. Omettere<block ref="19230d21d2c58f7f5006b34c484cfa39" prefix=" " category="inline-code"></block> e utilizzando solo il valore predefinito<block ref="268331366c060107e4f79636e2fbd61c" prefix=" " category="inline-code"></block> è stato dimostrato che il valore offre buone performance pur continuando a utilizzare tutti gli obiettivi disponibili.</block>
  <block id="aad0b8e6a3552eebcdcf125f218d1954" category="section-title">Fase 5: Definire la configurazione per il nodo a blocchi comune</block>
  <block id="f9ed56c11a1443e285b3d786249fe6aa" category="paragraph">La configurazione condivisa per i nodi a blocchi viene definita in un gruppo chiamato<block ref="0b41e1ef1f01592b0f6a7174f0010e75" prefix=" " category="inline-code"></block>. La procedura descritta in questa sezione illustra la configurazione da includere in<block ref="7d0d040b7805a1015c58caea5b5d8c55" prefix=" " category="inline-code"></block> file.</block>
  <block id="7d304d17d15c3332b9d8584fa30f070b" category="list-text">Impostare la connessione Ansible su locale, fornire la password di sistema e specificare se i certificati SSL devono essere verificati. (In genere, Ansible utilizza SSH per connettersi agli host gestiti, ma nel caso dei sistemi storage NetApp e-Series utilizzati come nodi a blocchi, i moduli utilizzano l'API REST per la comunicazione). Nella parte superiore del file, aggiungere quanto segue:</block>
  <block id="41c70fb9d233363d68fe27194430adc1" category="admonition">Si sconsiglia di elencare le password in testo non crittografato. Utilizzare Ansible vault o fornire il<block ref="b59049923d63016545b743560345fa56" prefix=" " category="inline-code"></block> Quando si esegue Ansible utilizzando<block ref="eba52ae7bfe34d5eddd33dafc00e5e80" prefix=" " category="inline-code"></block>.</block>
  <block id="a18d6a60f542af2e3b0784928e17f417" category="list-text">Per garantire prestazioni ottimali, installare le versioni elencate per i nodi a blocchi in <block ref="786d34f336ab7f462feb4fe8776c8670" category="inline-link-macro-rx"></block>.</block>
  <block id="8c41baf1ca98e1184f48c4721d44d431" category="inline-link">Sito di supporto NetApp</block>
  <block id="38119f4253b4080e689702afd647df1f" category="paragraph">Scaricare i file corrispondenti da<block ref="3f80e15ba326a9eb1fc39b6d8ba81472" category="inline-link-rx"></block>. È possibile aggiornarli manualmente o includerli in<block ref="93501a11e921083efbd154e0cdff5f10" prefix=" " category="inline-code"></block> Directory del nodo di controllo Ansible, quindi popolare i seguenti parametri in<block ref="79d2514d0f856ef18e58ebf8b9716d05" prefix=" " category="inline-code"></block> Per eseguire l'aggiornamento utilizzando Ansible:</block>
  <block id="72423a5fa99fafb4c2dc7b7e7f7d7962" category="admonition">Impostazione<block ref="0d324209e6894f6233152c2d23bab1a2" prefix=" " category="inline-code"></block> a.<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> Accelera l'aggiornamento, ma non deve essere eseguito fino a quando non viene implementato BeeGFS. Questo perché questa impostazione richiede l'interruzione di tutti i/o sui dischi prima dell'aggiornamento per evitare errori dell'applicazione. Sebbene l'esecuzione di un aggiornamento online del firmware del disco prima della configurazione dei volumi sia ancora rapida, si consiglia di impostare sempre questo valore su<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> per evitare problemi in un secondo momento.</block>
  <block id="2b0551e04ffc3a713c07e9a9611b9897" category="list-text">Per ottimizzare le performance, apportare le seguenti modifiche alla configurazione globale:</block>
  <block id="6b7cf272a4e3aeaf52c2d0ca991829e5" category="list-text">Per garantire un provisioning e un comportamento ottimali dei volumi, specificare i seguenti parametri:</block>
  <block id="b969df7be52ed192c298428e4fb0e696" category="admonition">Il valore specificato per<block ref="37a0965694bd71a118b8d75bee76ea35" prefix=" " category="inline-code"></block> È specifico per i nodi a blocchi NetApp EF600 e controlla l'ordine in cui i dischi vengono assegnati a nuovi gruppi di volumi. Questo ordine garantisce che l'i/o per ciascun gruppo sia distribuito uniformemente tra i canali di dischi back-end.</block>
  <block id="cef5ab698867f39ec4b495cba708da1a" category="summary">La soluzione BeeGFS su NetApp combina il file system parallelo BeeGFS con i sistemi storage NetApp EF600 per un'infrastruttura affidabile, scalabile e conveniente che tiene il passo con i carichi di lavoro esigenti.</block>
  <block id="c0c4b60d27032c028c91440e9d3be949" category="doc">Panoramica della soluzione</block>
  <block id="c6ff1c8ffcd7024a30e7240129bf57a8" category="section-title">Programma NVA</block>
  <block id="f109ec830b8ab112f8e89da398d4ca0f" category="paragraph">La soluzione BeeGFS su NetApp fa parte del programma NetApp Verified Architecture (NVA), che offre ai clienti configurazioni di riferimento e indicazioni sul dimensionamento per carichi di lavoro e casi di utilizzo specifici. Le soluzioni NVA sono testate e progettate per ridurre al minimo i rischi di implementazione e accelerare il time-to-market.</block>
  <block id="2a3b399798aa16ecfbc1425cc560bfad" category="section-title">Casi di utilizzo</block>
  <block id="9a250aa43ea6738ca4cd441c42e26b4e" category="paragraph">I seguenti casi di utilizzo si applicano alla soluzione BeeGFS su NetApp:</block>
  <block id="f743e786ba2a29eb033d8f7e1e2101d3" category="inline-link">BeeGFS per l'ai: Fatti e finzione</block>
  <block id="b761cb5be0f07b26af56bda6c19cf90a" category="list-text">Intelligenza artificiale (ai), tra cui apprendimento automatico (ML), apprendimento approfondito (DL), elaborazione del linguaggio naturale (NLP) su larga scala e comprensione del linguaggio naturale (NLU). Per ulteriori informazioni, vedere<block ref="e0ec3865f791595484686c9b79436d0e" category="inline-link-rx"></block>.</block>
  <block id="3476c4aa4908c2b49f576f13d95d657a" category="inline-link">Perché BeeGFS va oltre l'HPC</block>
  <block id="4becc7ac7e53ca421f06307e37478c8a" category="list-text">High-performance computing (HPC) che include applicazioni accelerate da MPI (message passing interface) e altre tecniche di calcolo distribuito. Per ulteriori informazioni, vedere<block ref="3f795d4ce44ed51872cb7704a4553f2a" category="inline-link-rx"></block>.</block>
  <block id="89b4dd8e856627d44ffe8d3d0066cd98" category="list-text">Carichi di lavoro delle applicazioni caratterizzati da:</block>
  <block id="c9ccfce7935790c9fd0d9ccf98da5177" category="list-text">Lettura o scrittura su file di dimensioni superiori a 1 GB</block>
  <block id="680e47afa4860ce2ac4a078a0d466121" category="list-text">Lettura o scrittura sullo stesso file da parte di più client (10, 100 e 1000)</block>
  <block id="56e0e65d3207ad1f0f7efb003935c936" category="list-text">Set di dati multi-terabyte o multi-petabyte.</block>
  <block id="f36d694578bdc30f9cfa5faeb163df61" category="list-text">Ambienti che richiedono un singolo spazio dei nomi dello storage, ottimizzabili per una combinazione di file di grandi e piccoli dimensioni.</block>
  <block id="e654f7a86a4458b9cd662267e0f29b52" category="section-title">Benefici</block>
  <block id="abc4f101e3891d158ab6ad80a3568c46" category="paragraph">I vantaggi principali dell'utilizzo di BeeGFS su NetApp includono:</block>
  <block id="f1161b5399c6f13433f0d7ef82e26dfc" category="list-text">Disponibilità di progetti hardware verificati che forniscono la completa integrazione di componenti hardware e software per garantire performance e affidabilità prevedibili.</block>
  <block id="d678167c236b5d1af08b550c5038cccb" category="list-text">Implementazione e gestione con Ansible per semplicità e coerenza su larga scala.</block>
  <block id="82a72442e588bfcf2e472da1d9834f2a" category="inline-link">Presentazione di un framework per il monitoraggio delle soluzioni NetApp e-Series</block>
  <block id="e30389e6b0882b87124e5401375e84e3" category="list-text">Monitoraggio e osservabilità forniti con e-Series Performance Analyzer e plug-in BeeGFS. Per ulteriori informazioni, vedere<block ref="5fd4bf3409228b006228517662906ac3" category="inline-link-rx"></block>.</block>
  <block id="fc20f26327fc88da82154f6c09f6991d" category="list-text">Alta disponibilità con un'architettura a disco condiviso che garantisce la durata e la disponibilità dei dati.</block>
  <block id="d47615808883de28c6943d206bf0d2cb" category="inline-link">Kubernetes incontra BeeGFS: Una storia di investimenti a prova di futuro</block>
  <block id="7f62321e8e75c63a1fe94a4d41435dac" category="list-text">Supporto per la moderna gestione e orchestrazione dei workload con container e Kubernetes. Per ulteriori informazioni, vedere<block ref="3ba4b256f7ab4762b0c431fc1809aa9b" category="inline-link-rx"></block>.</block>
  <block id="cf03dce6d27c37ae2bf803a5ad8ddb93" category="section-title">Architettura HA</block>
  <block id="5c306284db745339f153886fd666ba5f" category="paragraph">BeeGFS su NetApp espande le funzionalità dell'edizione Enterprise di BeeGFS creando una soluzione completamente integrata con l'hardware NetApp che consente un'architettura ha (Shared Disk High Availability).</block>
  <block id="5481b5a39e7ecc68d8956711964cffcb" category="admonition">Sebbene l'edizione della community BeeGFS possa essere utilizzata gratuitamente, l'edizione Enterprise richiede l'acquisto di un contratto di abbonamento al supporto professionale da parte di un partner come NetApp. L'edizione Enterprise consente di utilizzare diverse funzionalità aggiuntive, tra cui resilienza, applicazione delle quote e pool di storage.</block>
  <block id="d1d1e6e3c28393c984fbb987be60324d" category="paragraph">La figura seguente confronta le architetture ha shared-nothing e shared-disk.</block>
  <block id="52feb691d73302501483cced28704021" category="inline-link">Annuncio dell'alta disponibilità per BeeGFS supportato da NetApp</block>
  <block id="0bd36571bea371893d99d201b7835845" category="paragraph">Per ulteriori informazioni, vedere<block ref="eb50143d83b72cd897fd47297781957c" category="inline-link-rx"></block>.</block>
  <block id="d643841fe27d769d39ef1865b69cb48b" category="paragraph">BeeGFS su NetApp viene fornito e implementato utilizzando l'automazione Ansible, che è ospitata su GitHub e Ansible Galaxy (la raccolta BeeGFS è disponibile presso<block ref="6e6b4aec10f34b8873e2101fed073d9a" category="inline-link-rx"></block> e.<block ref="6e9ef2e0fff4844f9560394ab05a51e9" category="inline-link-rx"></block>). Sebbene Ansible sia testato principalmente con l'hardware utilizzato per assemblare i blocchi di base BeeGFS, è possibile configurarlo per l'esecuzione su qualsiasi server basato su x86 utilizzando una distribuzione Linux supportata.</block>
  <block id="dcd417571f5073f074067e7d0d445a2e" category="inline-link">Implementazione di BeeGFS con storage e-Series</block>
  <block id="cb8de1e2639bc0378b3714cf6ba35837" category="paragraph">Per ulteriori informazioni, vedere<block ref="8af04fa161ecb5f3ec4feab8d52e96c8" category="inline-link-rx"></block>.</block>
  <block id="f8ed0cba5469cc89e05fa4d3025eca1b" category="summary">Le variazioni di progettazione per un building block ad alta capacità.</block>
  <block id="fb5708557d5e7c6d44ac55ef4c09a054" category="paragraph">Il design della soluzione BeeGFS standard è costruito tenendo in considerazione i carichi di lavoro dalle performance elevate. I clienti che cercano casi di utilizzo ad alta capacità devono osservare le variazioni nelle caratteristiche di progettazione e performance qui delineate.</block>
  <block id="800f7da804cf784ad962d085fbc70486" category="section-title">Configurazione hardware e software</block>
  <block id="90f177623f1131fc7f45e82db6189a1b" category="paragraph">La configurazione hardware e software per l'building block ad alta capacità è standard, ad eccezione del fatto che i controller EF600 devono essere sostituiti con controller EF300 con un'opzione per il collegamento tra 1 e 7 tray di espansione IOM con 60 unità ciascuno per ciascun array di storage, totale da 2 a 14 vassoi di espansione per building block.</block>
  <block id="467fccc62f2ea7630303f15d47a54aa7" category="paragraph">I clienti che implementano una progettazione di building block ad alta capacità probabilmente utilizzeranno solo la configurazione di base basata su building block, costituita da servizi di gestione, metadati e storage BeeGFS per ciascun nodo. Per un'efficienza dei costi, i nodi di storage ad alta capacità devono eseguire il provisioning dei volumi di metadati sui dischi NVMe nell'enclosure di controller EF300 e fornire i volumi di storage ai dischi NL-SAS nei vassoi di espansione.</block>
  <block id="267aa4fef181a2097a06345c854cc106" category="paragraph">Queste linee guida sul dimensionamento presuppongono che gli building block ad alta capacità siano configurati con un gruppo di volumi 2+2 NVMe SSD per i metadati nell'enclosure EF300 di base e 6 gruppi di volumi 8+2 NL-SAS per tray di espansione IOM per lo storage.</block>
  <block id="963320465e8fcfa25188a669a43858c4" category="cell">Dimensioni del disco (HDD con capacità)</block>
  <block id="55fd8e839de07671a6869fad80279ab9" category="cell">Capacità per BB (1 vassoio)</block>
  <block id="001115a96afe0add22e654316239365a" category="cell">Capacità per BB (2 tray)</block>
  <block id="b9781606af717d9b153714ca7a3a2d33" category="cell">Capacità per BB (3 tray)</block>
  <block id="345ffe7c9ac213823037fbcdca8f4ef2" category="cell">Capacità per BB (4 tray)</block>
  <block id="6b7e0bcfc566b639bc0d10bad9f871dd" category="cell">4 TB</block>
  <block id="676efbc64df1b4909842616f91027d96" category="cell">439 TB</block>
  <block id="25c359cf674976f1bd282922ff6ed0e3" category="cell">878 TB</block>
  <block id="1416acbb13ce37c62934fde6e37b3c6b" category="cell">1317 TB</block>
  <block id="3aa071e61efaac2113f5fc251c03b688" category="cell">1756 TB</block>
  <block id="0706c165b0123479cffaac9b374484f0" category="cell">8 TB</block>
  <block id="76a91245e71b558dbe0040ea8b7b3c21" category="cell">2634 TB</block>
  <block id="dd9fa1084ca34ce21c6b127bd37446b9" category="cell">3512 TB</block>
  <block id="1191f788083da9194f8eef9400d10898" category="cell">10 TB</block>
  <block id="6587b6d3747beeadda1eccb500e9771b" category="cell">1097 TB</block>
  <block id="3a89d830e84dc7715fe902bb9adac448" category="cell">2195 TB</block>
  <block id="1024776bf84a4c2469e49539ac248790" category="cell">3292 TB</block>
  <block id="0af601e969fa263e021792cfd1dfd4af" category="cell">4390 TB</block>
  <block id="aad11c7dd0feb18c08cb728eea0a8c46" category="cell">12 TB</block>
  <block id="0fc4914bd341e29e4eef438ff8c44bdb" category="cell">3951 TB</block>
  <block id="4d63a00ef9361479d55d2914d7f75e28" category="cell">5268 TB</block>
  <block id="324f218b8144e744b54eb58e0bf14eea" category="cell">16 TB</block>
  <block id="af4d6969d11876b269a31ebb39d7c34e" category="cell">7024 TB</block>
  <block id="7ba1b40b5eed0a67df50aa00c907f9ac" category="cell">18 TB</block>
  <block id="23f86ea0b6ba63be94542d36e1d0ac20" category="cell">1975 TB</block>
  <block id="01dbb09e4b3f7243c1cae305daf2972a" category="cell">5927 TB</block>
  <block id="547259566f92db3383cbd2575b9d68c1" category="cell">7902 TB</block>
  <block id="883ccbea6264c3d9c8ea56267b290a0a" category="summary">La configurazione software per BeeGFS su NetApp include componenti di rete BeeGFS, nodi a blocchi EF600, nodi di file BeeGFS, gruppi di risorse e servizi BeeGFS.</block>
  <block id="dea1b03288253149cb4c55f3c4f10e3e" category="section-title">Configurazione di rete BeeGFS</block>
  <block id="391f99769ce2b9374f0421ace7ce5ac5" category="paragraph">La configurazione di rete di BeeGFS è costituita dai seguenti componenti.</block>
  <block id="f05f92f283e258444df8e73ac9508c74" category="list-text">*IP mobili* gli IP mobili sono un tipo di indirizzo IP virtuale che può essere instradato dinamicamente a qualsiasi server della stessa rete. Più server possono avere lo stesso indirizzo IP mobile, ma possono essere attivi solo su un server alla volta.</block>
  <block id="76a7e91177d008d5a202ef507a9049d7" category="paragraph">Ciascun servizio del server BeeGFS dispone di un proprio indirizzo IP che può spostarsi tra i nodi di file in base alla posizione di esecuzione del servizio del server BeeGFS. Questa configurazione IP mobile consente a ciascun servizio di eseguire il failover in modo indipendente sull'altro nodo di file. Il client deve semplicemente conoscere l'indirizzo IP di un particolare servizio BeeGFS; non deve sapere quale nodo di file sta eseguendo quel servizio.</block>
  <block id="527f436644c629cc1f2330d74c5c29b4" category="list-text">*Configurazione multi-homing del server BeeGFS* per aumentare la densità della soluzione, ciascun nodo di file dispone di più interfacce di storage con IP configurati nella stessa subnet IP.</block>
  <block id="5a19238d05fdcdb09e439e41a0a94349" category="paragraph">È necessaria un'ulteriore configurazione per garantire che questa configurazione funzioni come previsto con lo stack di rete Linux, perché per impostazione predefinita, le richieste a un'interfaccia possono essere risposte su un'interfaccia diversa se i relativi IP si trovano nella stessa subnet. Oltre ad altri inconvenienti, questo comportamento predefinito rende impossibile stabilire o mantenere correttamente le connessioni RDMA.</block>
  <block id="e7a28f6c997a9c0eba41eb574b5f829c" category="paragraph">L'implementazione basata su Ansible gestisce il rafforzamento del comportamento del percorso inverso (RP) e del protocollo di risoluzione degli indirizzi (ARP), oltre a garantire che quando gli IP mobili vengono avviati e arrestati; i corrispondenti percorsi e le regole IP vengono creati dinamicamente per consentire alla configurazione di rete multihomed di funzionare correttamente.</block>
  <block id="12ec3f7db1a39d49d76e159a6fc9be24" category="paragraph">La figura seguente mostra il bilanciamento del traffico tra più interfacce client BeeGFS.</block>
  <block id="02eef1a6d9aefa452755edb315057e27" category="paragraph">Poiché ogni file in BeeGFS viene in genere sottoposto a striping su più servizi di storage, la configurazione multi-rail consente al client di ottenere un throughput superiore a quello possibile con una singola porta InfiniBand. Ad esempio, il seguente esempio di codice mostra una configurazione di striping comune dei file che consente al client di bilanciare il traffico tra entrambe le interfacce:</block>
  <block id="b28b500a27afaa858536ee53a4c02d91" category="section-title">Configurazione del nodo a blocchi EF600</block>
  <block id="6e88eb560b5c117f0226888b924af1c5" category="paragraph">I nodi a blocchi sono costituiti da due controller RAID attivi/attivi con accesso condiviso allo stesso set di dischi. In genere, ciascun controller possiede la metà dei volumi configurati sul sistema, ma può sostituire l'altro controller in base alle necessità.</block>
  <block id="674757e2095af366602187ca856f8ec4" category="paragraph">Il software multipathing sui nodi di file determina il percorso attivo e ottimizzato per ciascun volume e si sposta automaticamente sul percorso alternativo in caso di guasto di un cavo, di un adattatore o di un controller.</block>
  <block id="458cd7cdbda7e7a38853eae8ce0e9662" category="paragraph">Il seguente diagramma mostra il layout del controller nei nodi a blocchi EF600.</block>
  <block id="b4adca73c8e2d619dedc4eb6a42bc966" category="paragraph">Per facilitare la soluzione ha con disco condiviso, i volumi vengono mappati su entrambi i nodi di file in modo che possano assumere il controllo reciproco in base alle necessità. Il seguente diagramma mostra un esempio di configurazione del servizio BeeGFS e della proprietà del volume preferita per ottenere le massime prestazioni. L'interfaccia a sinistra di ciascun servizio BeeGFS indica l'interfaccia preferita che i client e gli altri servizi utilizzano per contattarlo.</block>
  <block id="d1bff1512ad9e19d6469659f6a916a7e" category="paragraph">Nell'esempio precedente, client e servizi server preferiscono comunicare con il servizio di storage 1 utilizzando l'interfaccia i1b. Il servizio di storage 1 utilizza l'interfaccia i1a come percorso preferito per comunicare con i suoi volumi (storage_tgt_101, 102) sul controller A del primo nodo a blocchi. Questa configurazione utilizza l'intera larghezza di banda PCIe bidirezionale disponibile per l'adattatore InfiniBand e ottiene prestazioni migliori da un adattatore HDR InfiniBand a due porte rispetto a quanto sarebbe altrimenti possibile con PCIe 4.0.</block>
  <block id="f4fa0385d373373f4ab191231ead5909" category="section-title">Configurazione del nodo del file BeeGFS</block>
  <block id="5e2d5eb9f991b81a298fb57212c715fe" category="paragraph">I nodi di file BeeGFS sono configurati in un cluster ad alta disponibilità (ha) per facilitare il failover dei servizi BeeGFS tra più nodi di file.</block>
  <block id="f409d0a0c329860646597bbcc45fcc4b" category="inline-link">Training Red Hat per add-on ad alta disponibilità</block>
  <block id="79b70ba13b6d273b53c66d816a15830d" category="paragraph">NetApp ha creato ed esteso diversi agenti di risorse OCF (Open Cluster Framework) per consentire al cluster di avviare e monitorare in modo intelligente le risorse BeeGFS.</block>
  <block id="ff07f4dbc22a6f0ecb4a11bfb6136d40" category="section-title">Cluster BeeGFS ha</block>
  <block id="7a189557128751d94f2d8bca38ccf462" category="paragraph">In genere, quando si avvia un servizio BeeGFS (con o senza ha), è necessario disporre di alcune risorse:</block>
  <block id="3f1f71800ded6b59769a66de67dd7d86" category="list-text">Indirizzi IP raggiungibili dal servizio, generalmente configurati da Network Manager.</block>
  <block id="03eb5c90128e244e904f61d22569b4af" category="list-text">File system sottostanti utilizzati come destinazione per BeeGFS per l'archiviazione dei dati.</block>
  <block id="510de0f837e4aacf9e6eb3c08926bcff" category="paragraph">Questi sono in genere definiti in<block ref="816a3ef77b62ade41c3f936c958aa555" prefix=" " category="inline-code"></block> E montato da Systemd.</block>
  <block id="49990dbe44b62019deed5be9f5c437a3" category="list-text">Un servizio Systemd responsabile dell'avvio dei processi BeeGFS quando le altre risorse sono pronte.</block>
  <block id="4f26c3922778ca3d5247b1281f6843af" category="paragraph">Senza software aggiuntivo, queste risorse vengono avviate solo su un singolo nodo di file. Pertanto, se il nodo del file non è in linea, una parte del file system BeeGFS non è accessibile.</block>
  <block id="c60a1b018b03670c1a1a93baf9da5d45" category="paragraph">Dato che più nodi possono avviare ciascun servizio BeeGFS, Pacemaker deve assicurarsi che ogni servizio e le risorse dipendenti siano in esecuzione su un solo nodo alla volta. Ad esempio, se due nodi tentano di avviare lo stesso servizio BeeGFS, esiste il rischio di danneggiamento dei dati se entrambi tentano di scrivere negli stessi file sulla destinazione sottostante. Per evitare questo scenario, Pacemaker si affida a Corosync per mantenere in modo affidabile lo stato del cluster complessivo in sincronia tra tutti i nodi e stabilire il quorum.</block>
  <block id="a96d4ad8c651d8ff21de193227e20f4d" category="paragraph">Se si verifica un errore nel cluster, Pacemaker reagisce e riavvia le risorse BeeGFS su un altro nodo. In alcuni scenari, Pacemaker potrebbe non essere in grado di comunicare con il nodo guasto originale per confermare che le risorse sono state interrotte. Per verificare che il nodo sia inattivo prima di riavviare le risorse BeeGFS altrove, Pacemaker interrompe il nodo difettoso, idealmente rimuovendo l'alimentazione.</block>
  <block id="ad22605bb834d1c650f3b2f1e5c76401" category="paragraph">Sono disponibili molti agenti di scherma open-source che consentono a Pacemaker di recinzione di un nodo con un'unità di distribuzione dell'alimentazione (PDU) o utilizzando il server Baseboard Management Controller (BMC) con API come Redfish.</block>
  <block id="05273fb3cfbaf5190eee8cfc0c3e0597" category="paragraph">Quando BeeGFS viene eseguito in un cluster ha, tutti i servizi BeeGFS e le risorse sottostanti vengono gestiti da Pacemaker in gruppi di risorse. Ogni servizio BeeGFS e le risorse da cui dipende sono configurati in un gruppo di risorse, che garantisce che le risorse vengano avviate e interrotte nell'ordine corretto e collocate sullo stesso nodo.</block>
  <block id="de25b213ff1f6f931a4d9c0f59bbed69" category="paragraph">Per ciascun gruppo di risorse BeeGFS, Pacemaker esegue una risorsa di monitoraggio BeeGFS personalizzata responsabile del rilevamento delle condizioni di guasto e dell'attivazione intelligente dei failover quando un servizio BeeGFS non è più accessibile su un nodo specifico.</block>
  <block id="e33abb1ba19f563eaa662796e8b3021b" category="paragraph">La figura seguente mostra i servizi e le dipendenze BeeGFS controllati da pacemaker.</block>
  <block id="5346cef6f7de3aac02ebdfc1ae9b6f27" category="inline-link">Documentazione BeeGFS su Multi Mode</block>
  <block id="c4ae8913dc1f6c9fed7961516b16defd" category="admonition">Per avviare più servizi BeeGFS dello stesso tipo sullo stesso nodo, Pacemaker è configurato per avviare i servizi BeeGFS utilizzando il metodo di configurazione Multi Mode. Per ulteriori informazioni, consultare<block ref="bc179f675bb7a303402ecb902ab09448" category="inline-link-rx"></block>.</block>
  <block id="553c30108a127bc2c66537e58970be9e" category="paragraph">Poiché i servizi BeeGFS devono essere in grado di avviarsi su più nodi, il file di configurazione per ciascun servizio (normalmente situato in<block ref="af1cad80e288805d61b78377a6d2c339" prefix=" " category="inline-code"></block>) Viene memorizzato in uno dei volumi e-Series utilizzati come destinazione BeeGFS per quel servizio. In questo modo, la configurazione e i dati di un particolare servizio BeeGFS sono accessibili a tutti i nodi che potrebbero aver bisogno di eseguire il servizio.</block>
  <block id="71f5771dab663d80ba4dad1627e3386a" category="summary">Panoramica sull'aggiornamento</block>
  <block id="818c6e601a24f72750da0f6c9b8ebe28" category="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incidunt ut labore et dolore magna aliquia.</block>
  <block id="e3b88cba18358b065044f4788449026b" category="summary">Supporto della soluzione per il file system del cluster parallelo BeeGFS eseguito su storage NetApp e-Series ad alte performance e bassa latenza. Una soluzione HPC conveniente, facile da gestire e altamente disponibile, con il supporto di NetApp.</block>
  <block id="28e8b3e83af233fe7085ba954fc6fd36" category="doc">BeeGFS su NetApp con storage e-Series</block>
  <block id="31a21a1e42c30056168ee5a4cca695a9" category="summary">Specificare le attività da eseguire per implementare il cluster BeeGFS ha utilizzando un manuale.</block>
  <block id="aca5a5a6b413ed0913ad90f87766df63" category="paragraph">Questa sezione descrive come assemblare il manuale standard utilizzato per implementare/gestire BeeGFS su NetApp.</block>
  <block id="b3254ab5c14c4bb06dbb987f8ee20900" category="section-title">Creare il manuale Ansible Playbook</block>
  <block id="dc1e1a7b77e4fce07756f071e5ec7d8b" category="paragraph">Creare il file<block ref="2f78c4e27feaf25ffb33d97e8ff7e7a6" prefix=" " category="inline-code"></block> e compilarlo come segue:</block>
  <block id="a3b34c0871dc2fd51eec5559b68f709d" category="inline-link-macro">gioca</block>
  <block id="3b4e65c5ca327e9a010b0e69fb90e476" category="list-text">Per prima cosa, definire una serie di attività (comunemente denominate a. <block ref="6d76655a02e5cb4ca885a92d78a5ab31" category="inline-link-macro-rx"></block>) Che dovrebbe essere eseguito solo sui nodi a blocchi NetApp e-Series. Viene utilizzata un'attività di pausa per richiedere conferma prima di eseguire l'installazione (per evitare l'esecuzione accidentale di un playbook), quindi importare<block ref="504ead1cde99fc3bc223588114102919" prefix=" " category="inline-code"></block> ruolo. Questo ruolo gestisce l'applicazione di qualsiasi configurazione generale del sistema definita in<block ref="7bc866ffde9914c7ef21768fcf6f0683" prefix=" " category="inline-code"></block> o individuale<block ref="7011fddbea4410953d6718ccf9ef966a" prefix=" " category="inline-code"></block> file.</block>
  <block id="19c06a0dc65b61c783f73d77e193957e" category="list-text">Definire il gioco che verrà eseguito su tutti i nodi di file e blocchi:</block>
  <block id="25296aae8975fe74b18a42af79a293d3" category="list-text">All'interno di questo gioco è possibile definire facoltativamente un set di "pre-task" che devono essere eseguiti prima di implementare il cluster ha. Questo può essere utile per verificare/installare qualsiasi prerequisito come Python. Possiamo anche effettuare controlli prima del volo, ad esempio verificando che i tag Ansible forniti siano supportati:</block>
  <block id="adcd434b091e5725531891ba91d50193" category="list-text">Infine, questo gioco importa il ruolo BeeGFS ha per la versione di BeeGFS che si desidera implementare:</block>
  <block id="d1b15e5b42308e0128908c431c40f477" category="inline-link-macro">guida all'upgrade</block>
  <block id="cf0e39575a3cd74789827d1f8d28bcb0" category="list-text">Facoltativo: Se si desidera definire attività aggiuntive, tenere presente se le attività devono essere indirizzate a.<block ref="a181a603769c1f98ad927e7367c7aa51" prefix=" " category="inline-code"></block> Host (inclusi i sistemi storage e-Series) o solo i nodi di file. Se necessario, definire un nuovo gioco specifico per i nodi di file utilizzando<block ref="0c748da7ba6880eb7537e471415afd58" prefix=" " category="inline-code"></block>.</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link-macro">qui</block>
  <block id="abd8b7e36cb7499818727f42837b0025" category="paragraph">Fare clic su <block ref="01ba4d718d4b882a06a17b3dab000fe7" category="inline-link-macro-rx"></block> per un esempio di un file di playbook completo.</block>
  <block id="c6def9892d45d8f594a1141d759cff35" category="section-title">Installare NetApp Ansible Collections</block>
  <block id="f996e211f2d82b62da74abbaa175d7bc" category="paragraph">L'insieme BeeGFS per Ansible e tutte le dipendenze vengono mantenute su <block ref="d8617fd1dfbd628e2360b843d6070e54" category="inline-link-macro-rx"></block>. Sul nodo di controllo Ansible eseguire il seguente comando per installare la versione più recente:</block>
  <block id="9a603171be277ec1f9319dc83b272723" category="paragraph">Sebbene non sia generalmente consigliato, è anche possibile installare una versione specifica della raccolta:</block>
  <block id="cb5da77fc5fc3c2fdb8aeff46789a9ca" category="section-title">Eseguire il Playbook</block>
  <block id="440d2c1c46f7c70d35f630781d07e912" category="paragraph">Dalla directory del nodo di controllo Ansible contenente<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> e.<block ref="2f78c4e27feaf25ffb33d97e8ff7e7a6" prefix=" " category="inline-code"></block> eseguire il playbook come segue:</block>
  <block id="b7a14d8dfd866e91a40ba8804324679a" category="paragraph">In base alle dimensioni del cluster, l'implementazione iniziale può richiedere oltre 20 minuti. Se l'implementazione non riesce per qualsiasi motivo, correggere eventuali problemi (ad esempio, cablaggio errato, nodo non avviato, ecc.) e riavviare il playbook Ansible.</block>
  <block id="508ccac845ca75d6cdda20dfa455a2bd" category="inline-link-macro">configurazione di un nodo di file comune</block>
  <block id="2c96dc448de9d0218bb361afae4689c8" category="inline-link-macro">Ruolo del client BeeGFS</block>
  <block id="40df644de3579bec4038eafb77eb26fe" category="summary">In alternativa, è possibile utilizzare Ansible per configurare i client BeeGFS e montare il file system.</block>
  <block id="107dafc3c3dfc88c15a7700fd40a35dc" category="doc">Implementare i client BeeGFS</block>
  <block id="fc9048a17c6ddc968465bcc02c0ea486" category="inline-link-macro">Ruolo Ansible</block>
  <block id="dcce328dbfa187984479bbc5ace17bf2" category="paragraph">L'accesso ai file system BeeGFS richiede l'installazione e la configurazione del client BeeGFS su ciascun nodo che deve montare il file system. In questa sezione viene descritto come eseguire queste attività utilizzando la disponibile <block ref="0ceebef54e9df7cedfb22dd6dcf5ed37" category="inline-link-macro-rx"></block>.</block>
  <block id="2106244b87f596d4fefd89f77dae13da" category="section-title">Creare il file di inventario del client</block>
  <block id="7dc2ac40c1549980b4ac09d940856f47" category="list-text">Sotto<block ref="4d729f58293c8a48f1f8d918cdd1d28f" prefix=" " category="inline-code"></block>, Creare un file per ogni client BeeGFS denominato<block ref="a0253f5b8f5dd7be8b02cda13da40729" prefix=" " category="inline-code"></block> con il seguente contenuto, inserendo il testo segnaposto con le informazioni corrette per il tuo ambiente:</block>
  <block id="689b0940ce8c21b1ecd3dafd9cc19d56" category="list-text">Se si desidera utilizzare i ruoli di NetApp e-Series host Collection per configurare le interfacce InfiniBand o Ethernet per consentire ai client di connettersi ai nodi di file BeeGFS, è possibile includere uno dei seguenti elementi:</block>
  <block id="13252baac98263adb995638740670156" category="inline-link-macro">InfiniBand (con IPoIB)</block>
  <block id="4ec9f0d4c55bed99ab83189074c79fda" category="list-text">Se il tipo di rete è <block ref="ce64f086b1422863947177e8ac3c3f3f" category="inline-link-macro-rx"></block>:</block>
  <block id="703a1e1ae0933c0197e1615ce5751d82" category="inline-link-macro">RDMA su Ethernet convergente (RoCE)</block>
  <block id="e8f5d6c59a43e4d1004ee930d690ba27" category="list-text">Se il tipo di rete è <block ref="513b838786f4a360fbbf4a58f2a48329" category="inline-link-macro-rx"></block>:</block>
  <block id="1e6c082cb30ec9603b75d0e43e10ed58" category="inline-link-macro">Ethernet (solo TCP, senza RDMA)</block>
  <block id="022fdafc43fcb01f91b57ea09f74ecea" category="list-text">Se il tipo di rete è <block ref="0d1150d6d50cb438873f5f691ec395a3" category="inline-link-macro-rx"></block>:</block>
  <block id="825f3be2c17c36c0e4901143db982773" category="list-text">Creare un nuovo file<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> E specificare l'utente che Ansible deve utilizzare per connettersi a ciascun client e la password che Ansible deve utilizzare per l'escalation dei privilegi (ciò richiede<block ref="f2bf771afbc16045e1951ded58c56f98" prefix=" " category="inline-code"></block> essere root o avere privilegi sudo):</block>
  <block id="c5a4ae1aa23001e8780b413f175b50b3" category="admonition">Non memorizzare le password in testo normale. Utilizzare invece il vault Ansible (vedere la <block ref="f2e33a881c3eb75b68333af99119c0b8" category="inline-link-macro-rx"></block> Per crittografare il contenuto con Ansible Vault) o utilizzare<block ref="13d87b4892426ec19bdc58a4643d3104" prefix=" " category="inline-code"></block> quando si esegue il playbook.</block>
  <block id="848f64fc57104cb2b416f6102d34e699" category="list-text">In<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> File, elenca tutti gli host che devono essere configurati come client BeeGFS in<block ref="fc2e11772a55c48ed2b4ec7bc5d94664" prefix=" " category="inline-code"></block> Fare riferimento ai commenti inline e rimuovere eventuali commenti aggiuntivi necessari per creare il modulo del kernel del client BeeGFS sul sistema:</block>
  <block id="c378775497a55638adcb42719d8daddb" category="list-text">In<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> Elencare i file system BeeGFS che si desidera montare sotto qualsiasi file definito in precedenza<block ref="b63119da730344b345cdc8f62a4711e9" prefix=" " category="inline-code"></block>:</block>
  <block id="69e81fdce48c1bfa30329304eaa6d50d" category="inline-link-macro">autenticazione della connessione</block>
  <block id="a7d7def0ef1d6627e10199d423565e7e" category="list-text">Per impostazione predefinita, l'implementazione del cluster ha configurerà automaticamente l'autenticazione della connessione e genererà un<block ref="cd304377fdc20285a5aa94e55ae85aa7" prefix=" " category="inline-code"></block> Che verranno posizionati/mantenuti sul nodo di controllo Ansible in<block ref="eee2923df30539b680421ca53d7c066b" prefix=" " category="inline-code"></block>. Per impostazione predefinita, il ruolo del client BeeGFS è impostato per leggere/distribuire questo file ai client definiti in<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block>e non sono necessarie ulteriori azioni.</block>
  <block id="cb7223c9ecb20da5826418267937cb4b" category="list-text">Per le opzioni avanzate, fare riferimento all'elenco completo dei valori predefiniti inclusi in <block ref="1507a901cf67edf9930d46c852b1993d" category="inline-link-macro-rx"></block>.</block>
  <block id="f4c29fbb6bcbcc6c55ae76c0a5254687" category="list-text">Se si sceglie di specificare un segreto personalizzato con<block ref="8b76cf2fb65e09dad03ca686be5cd464" prefix=" " category="inline-code"></block> specificarlo in<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> anche file:</block>
  <block id="2f01d79351dcc30d05b4a5a46dee42df" category="list-text">Se si sceglie di disattivare completamente l'autenticazione basata sulla connessione con<block ref="6c8dd8672ca377e74101ad236282225a" prefix=" " category="inline-code"></block>, specificare che in<block ref="c28f9364916e661fea858844d2b96b81" prefix=" " category="inline-code"></block> anche file:</block>
  <block id="4debabcfd87e8aaf710a4ef0b5fc0fbc" category="inline-link-macro">Documentazione completa del client BeeGFS</block>
  <block id="be564dd8130b7faafb95d140037162bb" category="paragraph">Per un elenco completo dei parametri supportati e ulteriori dettagli, fare riferimento a. <block ref="28ce7a1eece2b507c973d3cca2a82121" category="inline-link-macro-rx"></block>. Per un esempio completo di un inventario client, fare clic su <block ref="b0d51f66522ad4d9697fdf435a95c97a" category="inline-link-macro-rx"></block>.</block>
  <block id="da7e04a55b40629ae3a62baa9635b36d" category="section-title">Creare il file Playbook del client BeeGFS</block>
  <block id="964a26fa475bbef370601a9a9fb613cb" category="list-text">Creare un nuovo file<block ref="34bd6e27c43e6508a64d0a1bf093c7d2" prefix=" " category="inline-code"></block></block>
  <block id="ac25f4ce0e4e52459d58c2db4ebda280" category="list-text">Facoltativo: Se si desidera utilizzare i ruoli di NetApp e-Series host Collection per configurare le interfacce per la connessione dei client ai file system BeeGFS, importare il ruolo corrispondente al tipo di interfaccia che si sta configurando:</block>
  <block id="9f7ee0cead06efb0babbaca7b021e3ed" category="list-text">Se si utilizza InfiniBand (IPoIB):</block>
  <block id="54b431528476178eb45a6c2570eff415" category="list-text">Se si utilizza RDMA su Ethernet convergente (RoCE):</block>
  <block id="ea7cb942473ffddb52c2661da2f3b951" category="list-text">Se si utilizza Ethernet (solo TCP, senza RDMA):</block>
  <block id="975fc05779caaf583c3a8ab6b5c5adf1" category="list-text">Infine, importare il ruolo del client BeeGFS per installare il software client e configurare i supporti del file system:</block>
  <block id="02870b17064b23fcbf2e080b9624fd6d" category="paragraph">Per un esempio completo di un playbook client, fai clic <block ref="dee50bfc7f141fd7ad52d525c94ac7f5" category="inline-link-macro-rx"></block>.</block>
  <block id="354895762186e608f5675b1498c26501" category="section-title">Eseguire il manuale BeeGFS Client Playbook</block>
  <block id="831a82eacd2203b1049bc6c01826fbef" category="paragraph">Per installare/creare il client e montare BeeGFS, eseguire il seguente comando:</block>
  <block id="86cd3363bcd965ea6807e544cdb56311" category="summary">Verificare l'implementazione del file system prima di mettere il sistema in produzione.</block>
  <block id="0c947320dda2aecdd9ad8baca329d8a9" category="doc">Verificare l'implementazione di BeeGFS</block>
  <block id="9f4d5d32220ec3141c624637c9a8b89f" category="paragraph">Prima di mettere il file system BeeGFS in produzione, eseguire alcuni controlli di verifica.</block>
  <block id="09b37befd9a82a1583041aaff8b9a03a" category="list-text">Accedere a qualsiasi client ed eseguire quanto segue per assicurarsi che tutti i nodi previsti siano presenti/raggiungibili e che non siano segnalate incoerenze o altri problemi:</block>
  <block id="a1729ed32ceab91f7ef692e7af48a6b8" category="list-text">Arrestare l'intero cluster, quindi riavviarlo. Da qualsiasi nodo di file eseguire quanto segue:</block>
  <block id="989e28705c44d76a13ea323790377850" category="list-text">Mettere ciascun nodo in standby e verificare che i servizi BeeGFS siano in grado di eseguire il failover su nodi secondari. Per eseguire questa operazione, accedere a uno dei nodi di file ed eseguire quanto segue:</block>
  <block id="ba2b2e2a9229fbcedccdb09d825096ee" category="inline-link-macro">Verifica del progetto</block>
  <block id="fdb55059a4337ca76c138af7ad303efa" category="paragraph">È necessario eseguire test aggiuntivi in base ai criteri di accettazione definiti per un sito/installazione particolare.</block>
  <block id="71a6b27b610785178635f3c7fea0dc9c" category="summary">Implementazione e gestione di cluster BeeGFS ha con Ansible.</block>
  <block id="03d8a35d2c337d83e9a0c791c0bde873" category="doc">Panoramica di Ansible Playbook</block>
  <block id="dd3429f2a44e55e208032b591c258877" category="paragraph">Nelle sezioni precedenti sono illustrate le fasi necessarie per creare un inventario Ansible che rappresenti un cluster BeeGFS ha. Questa sezione presenta l'automazione Ansible sviluppata da NetApp per implementare e gestire il cluster.</block>
  <block id="531369b10b19be4aa811f6b1b1abfc32" category="section-title">Ansible: Concetti chiave</block>
  <block id="c4c6df2bdb8451df5f63cc2602cd3266" category="paragraph">Prima di procedere, è utile acquisire familiarità con alcuni concetti chiave di Ansible:</block>
  <block id="0a4d7a775f170dc43fae102dc8eed0f1" category="list-text">Le attività da eseguire su un inventario Ansible sono definite in ciò che è noto come *playbook*.</block>
  <block id="503c50788505311e2737ca28bcfc6d1b" category="list-text">La maggior parte delle attività di Ansible è progettata per essere *idempotent*, il che significa che possono essere eseguite più volte per verificare che la configurazione/stato desiderato sia ancora applicato senza interrompere le operazioni o eseguire aggiornamenti non necessari.</block>
  <block id="fb3edd793b0a4233a87fc2742a893d8d" category="list-text">La più piccola unità di esecuzione di Ansible è un modulo *.</block>
  <block id="d30cef0e8eb4eaf16c7181329c0d06bd" category="list-text">I playbook tipici utilizzano più moduli.</block>
  <block id="424107bb38bc62e70c34a281a355ca1d" category="list-text">Esempi: Scaricare un pacchetto, aggiornare un file di configurazione, avviare/abilitare un servizio.</block>
  <block id="b34cf1156d6d4fc5d2020447509756c9" category="list-text">NetApp distribuisce i moduli per automatizzare i sistemi NetApp e-Series.</block>
  <block id="a5a68481f09270734c66ad9ff1dcd0af" category="list-text">L'automazione complessa è meglio integrata come ruolo.</block>
  <block id="4eac750d0b9763378029ed193c50648c" category="list-text">Essenzialmente un formato standard per la distribuzione di un playbook riutilizzabile.</block>
  <block id="caa4d8cd3e05670bd54bb0281f679498" category="list-text">NetApp distribuisce i ruoli per host Linux e file system BeeGFS.</block>
  <block id="1aa532e3c0c6ac72094492dd5d4ad8fa" category="section-title">Ruolo BeeGFS ha per Ansible: Concetti chiave</block>
  <block id="8313d0dcd5307c834d7d37f194d4ea32" category="inline-link-macro">NetApp e-Series Ansible Collection per BeeGFS</block>
  <block id="8694b9bbf06f92b8fb6a129f90967b56" category="paragraph">Tutta l'automazione necessaria per implementare e gestire ogni versione di BeeGFS su NetApp viene fornita come ruolo Ansible e distribuita come parte di <block ref="0d95f34d028d609c5e44d4c47f78ca03" category="inline-link-macro-rx"></block>:</block>
  <block id="e14542ae9d29391a92cc14f6b44e67fd" category="list-text">Questo ruolo può essere considerato tra un *installer* e un moderno motore di *implementazione/gestione* per BeeGFS.</block>
  <block id="3bcab18a67a5ea90f159f8f472ab0f9d" category="list-text">Applica l'infrastruttura moderna come pratiche di codice e filosofie per semplificare la gestione dell'infrastruttura di storage su qualsiasi scala.</block>
  <block id="82877b38f579bedd3acfc034e6aa2a8e" category="inline-link-macro">Kubespray</block>
  <block id="34681b6b5fc6e725199f30a154956754" category="list-text">Questo ruolo è il formato * software-defined* utilizzato da NetApp per il packaging, la distribuzione e la manutenzione di BeeGFS su soluzioni NetApp.</block>
  <block id="3c359db1a2bcb271a8a28e3381057655" category="list-text">Cerca di creare un'esperienza simile a quella di un'appliance senza dover distribuire un'intera distribuzione Linux o un'immagine di grandi dimensioni.</block>
  <block id="ebc3365fe74d7c659b1f0298995f6d39" category="list-text">Include agenti di risorse cluster compatibili con Open Cluster Framework (OCF) creati da NetApp per destinazioni BeeGFS personalizzate, indirizzi IP e monitoraggio che forniscono un'integrazione intelligente di Pacemaker/BeeGFS.</block>
  <block id="8af5165ce6aabae36357e63702ba3fbf" category="list-text">Questo ruolo non è semplicemente "automazione" dell'implementazione ed è destinato a gestire l'intero ciclo di vita del file system, tra cui:</block>
  <block id="444e2df3560fe0281204fd385d895403" category="list-text">Applicazione di modifiche e aggiornamenti della configurazione per servizio o a livello di cluster.</block>
  <block id="61ef90c42824e8e8c92d69c04046a94b" category="list-text">Automazione della riparazione e del ripristino del cluster dopo la risoluzione dei problemi hardware.</block>
  <block id="bb8450666975061db9804d65dbb5afbf" category="list-text">Semplificazione dell'ottimizzazione delle performance con valori predefiniti impostati in base a test approfonditi con volumi BeeGFS e NetApp.</block>
  <block id="fded9f625af9335e3b78e65d6fd6abac" category="list-text">Verifica e correzione della deriva della configurazione.</block>
  <block id="16a4e0aca277107b3401d2d33d4e5c00" category="inline-link-macro">Client BeeGFS</block>
  <block id="1c82d73e983ef595a7c60ff4647716a7" category="paragraph">NetApp offre anche un ruolo Ansible per <block ref="b6cde77df9fbd5f549a35216e2ea351f" category="inline-link-macro-rx"></block>, Che può essere utilizzato facoltativamente per installare BeeGFS e montare file system su nodi di calcolo/GPU/login.</block>
  <block id="cc211dfb7bfb2c913740671716097933" category="summary">La soluzione BeeGFS su NetApp combina il file system parallelo BeeGFS con i sistemi di storage NetApp e-Series per un'infrastruttura affidabile, scalabile e conveniente che tiene il passo con i carichi di lavoro più esigenti.</block>
  <block id="49274a22f777d8ee156d9a597e66731d" category="doc">Panoramica e requisiti</block>
  <block id="4fde5e2673b7e14764688237d98539a4" category="paragraph">Utilizzare qualsiasi sistema storage NetApp e/EF-Series come nodi a blocchi BeeGFS e server x86 come nodi di file BeeGFS quando si implementano cluster ad alta disponibilità BeeGFS utilizzando Ansible.</block>
  <block id="0b79795d3efc95b9976c7c5b933afce2" category="section-title">Introduzione</block>
  <block id="58d7101385af8eaef1dc397806989cbb" category="inline-link-macro">Architetture verificate da NetApp</block>
  <block id="6d2bf94f38d1fdf840fe9b231866899c" category="section-title">Panoramica sull'implementazione</block>
  <block id="00298d02a62e3ad710061bdb858bc72b" category="paragraph">In genere, l'implementazione di un file system BeeGFS richiede i seguenti passaggi:</block>
  <block id="a3f59792a4244ec442fe3d6689ce5a5d" category="list-text">Configurazione iniziale:</block>
  <block id="bed2a4653b2c422bf2632c104da5c873" category="list-text">Installazione/cavo hardware.</block>
  <block id="a2d48c839c25c269a71b232a366cdfbc" category="list-text">Impostare i nodi di file e blocchi.</block>
  <block id="e8ec50ce42367b5c2125ba84ee0b2b07" category="list-text">Impostare un nodo di controllo Ansible.</block>
  <block id="1166a5354ac02035abc5f968f7ed4570" category="list-text">Definire il file system BeeGFS come un inventario Ansible.</block>
  <block id="45a41d17b919852e176b0bef9ba18dde" category="list-text">Esegui Ansible su file e nodi a blocchi per implementare BeeGFS.</block>
  <block id="b29828241f384dfaa560eb24d45c7035" category="list-text">Facoltativamente per configurare i client e montare BeeGFS.</block>
  <block id="3b5256e7140e65040f9635a6b8b884ee" category="paragraph">Le sezioni successive tratterà questi passaggi in modo più dettagliato.</block>
  <block id="216c2fbf006b3f1ca9acdd60d04a9b4b" category="paragraph">Ansible gestisce tutte le attività di provisioning e configurazione del software, tra cui:</block>
  <block id="fd699aca3f31bc5416fca3a153cc4779" category="list-text">Creazione/mappatura di volumi su nodi a blocchi.</block>
  <block id="7565e19b34a4d2460620720a599da376" category="list-text">Formattazione/messa a punto di volumi su nodi di file.</block>
  <block id="8744d71fb56c3e75f875de0a416ea912" category="list-text">Installazione/configurazione del software sui nodi di file.</block>
  <block id="dcc4901f1f1938989ed2264f42fd1104" category="list-text">Stabilire il cluster ha e configurare le risorse BeeGFS e i servizi del file system.</block>
  <block id="077a8397a5f4ba0711faf87b91f8906c" category="paragraph">Il supporto per BeeGFS in Ansible viene rilasciato il <block ref="e5bec9f043c86b9afcbef28a688a4cdd" category="inline-link-macro-rx"></block> Insieme di ruoli e moduli che automatizzano l'implementazione e la gestione end-to-end dei cluster BeeGFS ha.</block>
  <block id="5207de659c47ed66a8f04540f2cf7d28" category="paragraph">BeeGFS è dotato di versioni che seguono uno schema di controllo delle versioni di &lt;major&gt;.&lt;minor&gt;.&lt;patch&gt; e l'insieme mantiene i ruoli per ogni versione supportata di &lt;major&gt;.&lt;minor&gt; di BeeGFS, ad esempio BeeGFS 7.2 o BeeGFS 7.3. Man mano che vengono rilasciati gli aggiornamenti della raccolta, la versione della patch in ciascun ruolo verrà aggiornata in modo da indicare l'ultima versione di BeeGFS disponibile per tale ramo di release (esempio: 7.2.8). Ogni versione della raccolta viene testata e supportata anche con specifiche distribuzioni e versioni di Linux, attualmente Red Hat per i file node e RedHat e Ubuntu per i client. L'esecuzione di altre distribuzioni non è supportata e l'esecuzione di altre versioni (in particolare altre versioni principali) non è consigliata.</block>
  <block id="ff58765d6c48f433685b2f9354c057ed" category="section-title">Nodo di controllo Ansible</block>
  <block id="267dc210028d3a563bde0eb07ca563a0" category="paragraph">Questo nodo conterrà l'inventario e i playbook utilizzati per gestire BeeGFS. Richiede:</block>
  <block id="fa364b2fe46e5e06529d637ca126add1" category="list-text">Ansible 6.x (ansible-core 2.13)</block>
  <block id="3ac4555ed79bcb16976991998d5a957c" category="list-text">Python 3.6 (o versione successiva)</block>
  <block id="44ebd117631269d8cc52eda82b890ecc" category="list-text">Pacchetti Python (pip): Ipaddr e netaddr</block>
  <block id="8486bce50d4152772da3c4531a015ab8" category="paragraph">Si consiglia inoltre di impostare SSH senza password dal nodo di controllo a tutti i nodi di file e client BeeGFS.</block>
  <block id="5bca534f5a45c18ffc0306e63b306c62" category="section-title">Nodi di file BeeGFS</block>
  <block id="676b08aacbe937f16d558f23d90b29da" category="section-title">Nodi client BeeGFS</block>
  <block id="dc203cff346fc33ab19584264833d533" category="paragraph">È disponibile un ruolo Ansible del client BeeGFS per installare il pacchetto client BeeGFS e gestire i mount BeeGFS. Questo ruolo è stato testato con RedHat 8.4 e Ubuntu 22.04.</block>
  <block id="2e0da5c1c3cbd1cda1312f57209c96e4" category="inline-link-macro">BeeGFS supporta la distribuzione e il kernel Linux</block>
  <block id="b44b294130612c32e5f179fb81f347ec" category="paragraph">Se non si utilizza Ansible per configurare il client BeeGFS e montare BeeGFS, qualsiasi <block ref="ed8f85054917a214583881f0e58e2825" category="inline-link-macro-rx"></block> può essere utilizzato.</block>
  <block id="03a96e493f11c9bdee76520257a1462d" category="summary">Specificare la configurazione per i singoli nodi di file utilizzando le variabili host (host_vars).</block>
  <block id="021fa309ed559d86433974a82c934acb" category="doc">Configurare singoli nodi di file</block>
  <block id="882d9f125986842da2dd0a55dab49692" category="paragraph">In questa sezione viene illustrata la compilazione di un<block ref="6ec1b7d2e07359817e585e3cab8e078f" prefix=" " category="inline-code"></block> per ogni nodo di file nel cluster. Questi file devono contenere solo configurazioni univoche per un particolare nodo di file. Ciò comprende in genere:</block>
  <block id="3a67b6422642abadfa758fc6684f8438" category="list-text">Definizione dell'IP o del nome host che Ansible deve utilizzare per connettersi al nodo.</block>
  <block id="fc0fd95b8cee27585e1c24e4d4a97663" category="list-text">Configurazione di interfacce aggiuntive e IP del cluster utilizzati per i servizi cluster ha (Pacemaker e Corosync) per comunicare con altri nodi di file. Per impostazione predefinita, questi servizi utilizzano la stessa rete dell'interfaccia di gestione, ma devono essere disponibili interfacce aggiuntive per la ridondanza. La pratica comune consiste nel definire IP aggiuntivi sulla rete di storage, evitando la necessità di un cluster aggiuntivo o di una rete di gestione.</block>
  <block id="a557d06b3a2f8ed98f967366125754a4" category="list-text">Configurazione delle interfacce utilizzate per la connessione ai nodi a blocchi sul protocollo desiderato (ad esempio: ISCSI/iSER, NVMe/IB, NVMe/RoCE, FCP, ecc.)</block>
  <block id="3990d1c8eb99844fa4339dea97a4f692" category="inline-link-macro">Pianificare il file system</block>
  <block id="625cd1f9698fddb4256f18db4fbe2c9f" category="list-text">In alto, specificare l'IP o il nome host che Ansible deve utilizzare per SSH al nodo e gestirlo:</block>
  <block id="2c411df90af25473ca34f96c5d61fdbd" category="list-text">Configurare IP aggiuntivi che possono essere utilizzati per il traffico del cluster:</block>
  <block id="caec0146669daf8b955fbc692dce520b" category="list-text">Indicare gli IP da utilizzare per il traffico del cluster, con gli IP preferiti elencati più in alto:</block>
  <block id="8ab316490a957aa5fb5fe572defa9604" category="admonition">Gli IPS configurati nella fase due non verranno utilizzati come IP del cluster a meno che non siano inclusi in<block ref="736da50e459ba4f3c37629db79164765" prefix=" " category="inline-code"></block> elenco. Ciò consente di configurare IP/interfacce aggiuntive utilizzando Ansible che possono essere utilizzati per altri scopi, se necessario.</block>
  <block id="fe608507c9e692b58aed73b8f11125e4" category="list-text">Se il nodo del file deve comunicare per bloccare i nodi su un protocollo basato su IP, gli IP dovranno essere configurati sull'interfaccia appropriata e tutti i pacchetti richiesti per quel protocollo installati/configurati.</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="inline-link-macro">ISCSI</block>
  <block id="e38ebb7478bbd7c30fcefbdd68c36a12" category="list-text">Se in uso <block ref="c46eb98747333d3b3d4803c99165252d" category="inline-link-macro-rx"></block>:</block>
  <block id="04363472361fdfa664dfcfdfa289d7f8" category="inline-link-macro">Er</block>
  <block id="25d076d8b955ae9a10c335a6a41c5dac" category="list-text">Se in uso <block ref="fa0a3baed35abd76cdb7d05d37537402" category="inline-link-macro-rx"></block>:</block>
  <block id="10c103240eb7689c62b54e419902d174" category="inline-link-macro">NVMe/IB</block>
  <block id="17e6fab71004356520b6a05746233689" category="list-text">Se in uso <block ref="cb33aa2303f4543f0ddc6cc084dc11e2" category="inline-link-macro-rx"></block>:</block>
  <block id="bb0b9e255a3bf215a4f994ef912a5fd7" category="inline-link-macro">NVMe/RoCE</block>
  <block id="7b049824318ebce7d5761f9928468034" category="list-text">Se in uso <block ref="dcd6a35349a26dd7f2ff0413151122c4" category="inline-link-macro-rx"></block>:</block>
  <block id="7de7f0266a638e2b92287e19c3daa0c0" category="list-text">Altri protocolli:</block>
  <block id="26bcb9f1cb6f391f4b2c18e676bb458d" category="inline-link-macro">NVMe/FC</block>
  <block id="22c518d1512a40bae5f92e178ec69be7" category="list-text">Se in uso <block ref="20d003b59b6b0f29fbb82550734ddf9c" category="inline-link-macro-rx"></block>, la configurazione di singole interfacce non è richiesta. L'implementazione del cluster BeeGFS rileverà automaticamente il protocollo e installerà/configurerà i requisiti in base alle necessità. Se si utilizza un fabric per connettere file e nodi a blocchi, assicurarsi che gli switch siano correttamente suddivisi in zone seguendo le Best practice di NetApp e del vendor di switch.</block>
  <block id="cfaa375bf6c7f9fcc1bc04d4f30c9154" category="inline-link-macro">NetApp</block>
  <block id="59153461462a6c82d6207480cde38687" category="list-text">L'utilizzo di FCP o SAS non richiede l'installazione o la configurazione di software aggiuntivo. Se si utilizza FCP, assicurarsi che gli switch siano correttamente zonati <block ref="6839ca80f3cddcad48af8ac7c3fe1eba" category="inline-link-macro-rx"></block> e le best practice del tuo fornitore di switch.</block>
  <block id="31887cc493f03e51b901bf0def837d66" category="list-text">Al momento non si consiglia l'utilizzo di IB SRP. Utilizzare NVMe/IB o iSER a seconda di ciò che i nodi a blocchi e-Series supportano.</block>
  <block id="02613a7c8b7a72805b5196cbf7ed0def" category="paragraph">Fare clic su <block ref="6ff86e054594e10fe2118d48eb3fbd14" category="inline-link-macro-rx"></block> per un esempio di un file di inventario completo che rappresenta un singolo nodo di file.</block>
  <block id="310ccb00662c7e9dcc32789c0d9b1b7a" category="section-title">Advanced (Avanzate): Passaggio tra le modalità Ethernet e InfiniBand degli adattatori VPI NVIDIA ConnectX</block>
  <block id="2b4c9bc157bda4a68fe7b673b411f9cd" category="paragraph">Ad esempio, per modificare una corrente di interfaccia in modalità InfiniBand su Ethernet in modo che possa essere utilizzata per RoCE:</block>
  <block id="f352db79870cb8a06a0551761aba6955" category="list-text">Per ogni interfaccia che si desidera configurare, specificare<block ref="366fe119442ebda85ac564541700d0b5" prefix=" " category="inline-code"></block> come un mapping (o dizionario) che specifica<block ref="ced82128b540acaf7a5a55ad007dc9fc" prefix=" " category="inline-code"></block> dove<block ref="ecb5fc74e9cd1f249d43a2bdbf2f239d" prefix=" " category="inline-code"></block> È determinato dal numero di porta dell'HCA per l'interfaccia. Il<block ref="ecb5fc74e9cd1f249d43a2bdbf2f239d" prefix=" " category="inline-code"></block> il valore può essere determinato eseguendo<block ref="2ea620f2a9b9bed90c46047fef7e151b" prefix=" " category="inline-code"></block> E aggiungendo 1 all'ultimo numero dal nome dello slot PCI e convertendo in decimale.</block>
  <block id="070b28e93cab063481c989d1404f9835" category="list-text">Ad esempio<block ref="92c00058a177a7a840386578304e1345" prefix=" " category="inline-code"></block> (2 + 1 -&gt; porta HCA 3) -&gt;<block ref="f5e96e67a1ff914902859c7140e258c6" prefix=" " category="inline-code"></block>:</block>
  <block id="5656da44562ac70934e97182890aa356" category="inline-link-macro">Documentazione della raccolta di host NetApp e-Series</block>
  <block id="62a3f60b673661ad66352505cb4f5f47" category="paragraph">Per ulteriori informazioni, consultare <block ref="9ec6c7f8da9119d3e119ae207cfbe732" category="inline-link-macro-rx"></block> per il tipo di interfaccia/protocollo in uso.</block>
  <block id="7b56de51b6636ae6d5c0129d3aa799db" category="summary">Specificare la configurazione del nodo file comune utilizzando le variabili di gruppo (group_vars).</block>
  <block id="db3a70a0b14fbd38f2ad1025900202fe" category="paragraph">La configurazione che deve essere utilizzata per tutti i nodi di file è definita in<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block>. In genere include:</block>
  <block id="8a78a1a399a517e776a6453f500e5c3c" category="list-text">Dettagli su come connettersi e accedere a ciascun nodo di file.</block>
  <block id="d749e2ca3efe2efbf2d8495c53fa6cb8" category="list-text">Configurazione di rete comune.</block>
  <block id="01166eafe622404b58002e5aa76ca528" category="list-text">Se sono consentiti riavvii automatici.</block>
  <block id="109b40c80787d84c2b222ada208f2967" category="list-text">Modalità di configurazione degli stati firewall e selinux.</block>
  <block id="cd29db396a81799f9eb0187ecae937b1" category="list-text">Configurazione del cluster, inclusi avvisi e scherma.</block>
  <block id="8b4f60df6198db9d4eb1c6bbb19def6d" category="list-text">Tuning delle performance.</block>
  <block id="8ae73df7c749e2eb45a156f0c39fcc04" category="list-text">Configurazione comune del servizio BeeGFS.</block>
  <block id="787446c6f7e5e0f4a50705b5035eba79" category="admonition">Le opzioni impostate in questo file possono essere definite anche su singoli nodi di file, ad esempio se sono in uso modelli hardware misti o se si dispone di password diverse per ciascun nodo. La configurazione sui singoli nodi di file avrà la precedenza sulla configurazione in questo file.</block>
  <block id="0971602076ba9dff100f7cfc2d9e6059" category="paragraph">Creare il file<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> e compilarlo come segue:</block>
  <block id="84531cf8a820148a6599e174baf94979" category="list-text">Indicare come il nodo Ansible Control deve autenticare con gli host remoti:</block>
  <block id="2d33afd54604fb6475c44a1bc47fe2b1" category="admonition">In particolare per gli ambienti di produzione, non memorizzare le password in testo normale. Utilizzare invece Ansible Vault (vedere <block ref="37147a1e5d41497ae56472e8a2868a2a" category="inline-link-macro-rx"></block>) o il<block ref="13d87b4892426ec19bdc58a4643d3104" prefix=" " category="inline-code"></block> quando si esegue il playbook. Se il<block ref="f2bf771afbc16045e1951ded58c56f98" prefix=" " category="inline-code"></block> è già root, quindi è possibile omettere il<block ref="424240cd4e5c359372b7f199431603d5" prefix=" " category="inline-code"></block>.</block>
  <block id="0a94da3169c04bc12f2c561654269433" category="list-text">Se si configurano IP statici sulle interfacce ethernet o InfiniBand (ad esempio gli IP del cluster) e più interfacce si trovano nella stessa subnet IP (ad esempio se ib0 utilizza 192.168.1.10/24 e ib1 utilizza 192.168.1.11/24), Per il corretto funzionamento del supporto multi-homed, è necessario configurare ulteriori tabelle e regole di routing IP. È sufficiente attivare il gancio di configurazione dell'interfaccia di rete fornito come segue:</block>
  <block id="502d35f94d5c17779c9050bbed75f65f" category="list-text">Durante l'implementazione del cluster, a seconda del protocollo di storage potrebbe essere necessario riavviare i nodi per facilitare il rilevamento dei dispositivi a blocchi remoti (volumi e-Series) o applicare altri aspetti della configurazione. Per impostazione predefinita, i nodi richiedono prima del riavvio, ma è possibile consentire il riavvio automatico dei nodi specificando quanto segue:</block>
  <block id="ff31dc05d095d346c18f3e8f2d758fe0" category="list-text">Per impostazione predefinita, dopo un riavvio, per garantire che i dispositivi a blocchi e gli altri servizi siano pronti, Ansible attenderà fino al sistema<block ref="dbd7cb25a43d1cd2bbc3bac871dad694" prefix=" " category="inline-code"></block> viene raggiunto prima di continuare con l'implementazione. In alcuni scenari, quando NVMe/IB è in uso, potrebbe non essere abbastanza lungo da inizializzare, rilevare e connettersi a dispositivi remoti. Ciò può causare la continuità prematura dell'implementazione automatica e il malfunzionamento. Per evitare questo problema quando si utilizza NVMe/IB, definire anche quanto segue:</block>
  <block id="c41782825542f82199bd141519f37211" category="list-text">Per comunicare con i servizi cluster BeeGFS e ha sono necessarie diverse porte firewall. A meno che non si desideri configurare il firwewall manualmente (non consigliato), specificare quanto segue per creare le zone firewall richieste e aprire automaticamente le porte:</block>
  <block id="2514951e199c5ba1bae751dec2faccfa" category="list-text">Al momento SELinux non è supportato e si consiglia di impostare lo stato su Disabled (disattivato) per evitare conflitti (soprattutto quando RDMA è in uso). Impostare quanto segue per assicurarsi che SELinux sia disattivato:</block>
  <block id="97a322f05bd6e92c24c84cd8a09de904" category="list-text">Configurare l'autenticazione in modo che i file node siano in grado di comunicare, regolando le impostazioni predefinite in base alle policy aziendali:</block>
  <block id="d6521cd21608c38eda94ff4b2607ebac" category="list-text">Attivare gli avvisi e-mail se lo si desidera:</block>
  <block id="369512731d385e76ab6ae5702e43d88e" category="list-text">Si consiglia vivamente di abilitare la scherma, altrimenti i servizi possono essere bloccati per l'avvio sui nodi secondari quando il nodo primario non funziona.</block>
  <block id="679f9b26ee84fb8a265eb6a80d1141b0" category="list-text">Abilitare la scherma a livello globale specificando quanto segue:</block>
  <block id="2b86513417433b960c2a9628820cce70" category="inline-link-macro">proprietà del cluster</block>
  <block id="a4a918a45181164207929d52aec36aec" category="inline-link-macro">valori predefiniti</block>
  <block id="8cb3e998c7b1e4cbe36289f2177363b5" category="list-text">Selezionare e configurare un agente di scherma:</block>
  <block id="bc6b3ed04c45895c341d99b6765c1caa" category="list-text">OPZIONE 1: Per abilitare la recinzione utilizzando le PDU (Power Distribution Unit) APC:</block>
  <block id="94ebb967d1a890978b9758e3f2aac3bb" category="list-text">OPZIONE 2: Per abilitare la scherma utilizzando le API Redfish fornite da Lenovo XCC (e da altri BMC):</block>
  <block id="7f2e85da597afbbb84c30c58c72fc4a2" category="inline-link-macro">Documentazione RedHat</block>
  <block id="1242eea64a7ebfd7464359e597a4ec62" category="inline-link-macro">parametri di ottimizzazione delle performance</block>
  <block id="e535abe8b416a666cd34177ff6bbe395" category="list-text">Per garantire che gli indirizzi IP mobili (talvolta noti come interfacce logiche) utilizzati per i servizi BeeGFS possano eseguire il failover tra i nodi di file, tutte le interfacce di rete devono essere denominate in modo coerente. Per impostazione predefinita, i nomi delle interfacce di rete vengono generati dal kernel, che non è garantito per generare nomi coerenti, anche su modelli di server identici con adattatori di rete installati negli stessi slot PCIe. Ciò è utile anche quando si creano inventari prima dell'implementazione dell'apparecchiatura e si conoscono i nomi delle interfacce generate. Per garantire nomi di dispositivi coerenti, in base a un diagramma a blocchi del server o.<block ref="6efa276570b668a53eaf7bf29c69d544" prefix=" " category="inline-code"></block> Output, specificare il mapping indirizzo PCIe desiderato per l'interfaccia logica come segue:</block>
  <block id="b577b9bc7da15f148c6521018b1c26f7" category="list-text">Per le interfacce di rete InfiniBand (IPoIB):</block>
  <block id="10b951f140b750e6d3b9a61a2aa51fc1" category="list-text">Per le interfacce di rete Ethernet:</block>
  <block id="e71729643558be7be36227d3edb537a5" category="admonition">Per evitare conflitti quando le interfacce vengono rinominate (impedendone la ridenominazione), non utilizzare nomi predefiniti potenziali come eth0, ens9f0, ib0 o ibs4f0. Una convenzione di denominazione comune prevede l'utilizzo di 'e' o 'i' per Ethernet o InfiniBand, seguito dal numero dello slot PCIe e da una lettera che indica la porta. Ad esempio, la seconda porta di un adattatore InfiniBand installato nello slot 3 è: I3b.</block>
  <block id="62e75ccd7f725aa6905f33580950953f" category="admonition">Se si utilizza un modello di nodo di file verificato, fare clic su <block ref="3d76a23cff20eb55b7795ee99a64cc43" category="inline-link-macro-rx"></block> Esempio di mapping indirizzo-porta logica PCIe.</block>
  <block id="1644ff30bfdd323dac0e52e1620614b2" category="list-text">Servizio di gestione BeeGFS:</block>
  <block id="c9c23b537bdcdcf7e82ad149d3e28ab1" category="list-text">Servizi di metadati BeeGFS:</block>
  <block id="b292484ec320b2afcb3a63fdbff30bd3" category="list-text">Servizi di storage BeeGFS:</block>
  <block id="d636cd57abce18fc564705e1931029aa" category="list-text">A partire da BeeGFS 7.2.7 e 7.3.1 <block ref="770c4b58b3b364c4ac52cf5cc555453f" category="inline-link-macro-rx"></block> deve essere configurato o disabilitato esplicitamente. Esistono alcuni modi per configurarlo utilizzando la distribuzione basata su Ansible:</block>
  <block id="2beb66fd9b0c065cfc742ee53ee1055d" category="list-text">Per impostazione predefinita, l'implementazione configura automaticamente l'autenticazione della connessione e genera un<block ref="cd304377fdc20285a5aa94e55ae85aa7" prefix=" " category="inline-code"></block> Che verranno distribuiti a tutti i nodi di file e utilizzati con i servizi BeeGFS. Questo file verrà anche posizionato/mantenuto nel nodo di controllo Ansible all'indirizzo<block ref="eee2923df30539b680421ca53d7c066b" prefix=" " category="inline-code"></block> dove deve essere mantenuto (in modo sicuro) per il riutilizzo con i client che devono accedere a questo file system.</block>
  <block id="a6eacd255bbcfb7c0ed5589f3f4b3b80" category="list-text">Per generare una nuova chiave, specificare<block ref="34efb4240137e7a93d7ad83bde309514" prefix=" " category="inline-code"></block> Quando si esegue il playbook Ansible. Nota: Questa operazione viene ignorata se si seleziona<block ref="8b76cf2fb65e09dad03ca686be5cd464" prefix=" " category="inline-code"></block> è definito.</block>
  <block id="4d93b986f0992f2770f494a3ced4bd11" category="inline-link-macro">Ruolo BeeGFS ha</block>
  <block id="ca03fa9d55c2bc9aa4bb21f10949f48a" category="list-text">È possibile utilizzare un segreto personalizzato definendo quanto segue in<block ref="3cd295e6aaa39e2510aff65b801cc5ab" prefix=" " category="inline-code"></block>:</block>
  <block id="00d80f50123e52756def9093de1ba2aa" category="list-text">L'autenticazione della connessione può essere disattivata completamente (NON consigliata):</block>
  <block id="b8a5eb74062e4ce8ebe0914712be3ae2" category="paragraph">Fare clic su <block ref="632283d8f4d8d92337070d81c0b8ed5f" category="inline-link-macro-rx"></block> per un esempio di un file di inventario completo che rappresenta la configurazione di un nodo di file comune.</block>
  <block id="74acf7796c51f1f58661f8cf66f5b969" category="section-title">Utilizzo di HDR (200 GB) InfiniBand con i nodi a blocchi NetApp EF600:</block>
  <block id="9e152ebb462ebe95f96d2711a934ec01" category="paragraph">Per utilizzare HDR (200 GB) InfiniBand con EF600, il gestore di subnet deve supportare la virtualizzazione. Se i nodi di file e blocchi sono collegati mediante uno switch, questo deve essere attivato nel gestore di subnet per il fabric complessivo.</block>
  <block id="11f007a0a372dd0901653de91029d3d8" category="inline-link-macro">configurazione delle interfacce di storage dei nodi di file</block>
  <block id="b13b4c123d075f5df5e6f618489fde5f" category="inline-link-macro">requisiti tecnologici</block>
  <block id="df1f716d0a26eb697eb7605722643850" category="list-text">Sotto<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> definire la seguente configurazione:</block>
  <block id="c25698c0b0a8b21ec89a22a39d05b4e4" category="summary">Specificare la configurazione per i singoli nodi di blocco utilizzando le variabili host (host_vars).</block>
  <block id="007670379f88b0b437948cd7ffd18854" category="doc">Configurare singoli nodi a blocchi</block>
  <block id="c04b45b2e867c15ec034a753c3caad42" category="paragraph">In questa sezione viene illustrata la compilazione di un<block ref="e401274046660da23cecf42c63b0dc71" prefix=" " category="inline-code"></block> file per ciascun nodo del blocco nel cluster. Questi file devono contenere solo una configurazione univoca per un nodo di blocco specifico. Ciò comprende in genere:</block>
  <block id="718e1c8b260f855e4dfed258432c772c" category="list-text">Il nome del sistema (visualizzato in System Manager).</block>
  <block id="d6535083366c5efbc468368177b26a11" category="list-text">L'URL HTTPS per uno dei controller (utilizzato per gestire il sistema utilizzando l'API REST).</block>
  <block id="d34a9e5f2aea0e08afe426c3db560f6f" category="list-text">Quali nodi di file del protocollo di storage utilizzano per connettersi a questo nodo a blocchi.</block>
  <block id="ac7d8826ccdecec74ae70f73a19ab9d6" category="list-text">Configurazione delle porte della scheda di interfaccia host (HIC), ad esempio gli indirizzi IP (se necessario).</block>
  <block id="80eb8027c5428b5220f76ca5617cdbef" category="list-text">Nella parte superiore, specificare il nome del sistema e l'URL HTTPS per uno dei controller:</block>
  <block id="81788ba0d7d02d81c063dbca621ba11b" category="inline-link-macro">protocollo</block>
  <block id="d1ac4a3f6cf15e4c501caf76560363b8" category="list-text">Selezionare <block ref="42254e7bd4c71b16c1c0d21e675ced23" category="inline-link-macro-rx"></block> i nodi di file utilizzeranno per connettersi a questo nodo di blocco:</block>
  <block id="c2e9d327966d74c358df1c68e849c85b" category="list-text">Protocolli supportati:<block ref="9df22f196a33acd0b372fe502de51211" prefix=" " category="inline-code"></block>,<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>,<block ref="e05fe30750d3ea262a610d17ebc07019" prefix=" " category="inline-code"></block>,<block ref="a8a64cef262a04de4872b68b63ab7cd8" prefix=" " category="inline-code"></block>,<block ref="7aee267b2c70d17165e6fa56dc01795a" prefix=" " category="inline-code"></block>,<block ref="11104f7e32c1e7884522b538834ffd9a" prefix=" " category="inline-code"></block>,<block ref="0ab2fb14820281e536188e7478368635" prefix=" " category="inline-code"></block>,<block ref="99e6ba7d601220dd39e915ce4c6ff74c" prefix=" " category="inline-code"></block>,<block ref="384fddfa43cdca25e66ad1b9a278e6c7" prefix=" " category="inline-code"></block>.</block>
  <block id="0c5c276a533c6231e1004931dde34c40" category="list-text">A seconda del protocollo in uso, le porte HIC potrebbero richiedere una configurazione aggiuntiva. Se necessario, definire la configurazione della porta HIC in modo che la voce superiore nella configurazione di ciascun controller corrisponda alla porta fisica più a sinistra su ciascun controller e la porta inferiore alla porta più a destra. Tutte le porte richiedono una configurazione valida anche se non sono attualmente in uso.</block>
  <block id="95e06a898133e12b42adf8c80aafb2f7" category="admonition">Consultare anche la sezione seguente se si utilizza HDR (200 GB) InfiniBand o 200GB RoCE con nodi a blocchi EF600.</block>
  <block id="2a6f3123e92916a549d4843b0432ee15" category="list-text">Per iSCSI:</block>
  <block id="b405e253b7123d507b950877cb495779" category="list-text">Per iSER:</block>
  <block id="3becb61841658038a043e3eca2dc705e" category="list-text">Per NVMe/IB:</block>
  <block id="5f42fe6193c58ec9a447a090be2e17b8" category="list-text">Per NVMe/RoCE:</block>
  <block id="4b9c9e1cc0a87604a342176becdb9d29" category="list-text">I protocolli FC e SAS non richiedono ulteriori configurazioni. SRP non è consigliato correttamente.</block>
  <block id="55876228853abf632dec9346a4f372ec" category="inline-link-macro">documentazione</block>
  <block id="d487c72028a8f41291fa35df82cfe348" category="paragraph">Per ulteriori opzioni di configurazione delle porte HIC e dei protocolli host, inclusa la possibilità di configurare iSCSI CHAP, fare riferimento a. <block ref="03b4e8c5a2a4120cb0ea20ad53010d79" category="inline-link-macro-rx"></block> Incluso nella raccolta SANtricity. Nota durante l'implementazione di BeeGFS, il pool di storage, la configurazione del volume e altri aspetti del provisioning dello storage verranno configurati altrove e non devono essere definiti in questo file.</block>
  <block id="ca752ddde33be986f431e89edb589ac1" category="paragraph">Fare clic su <block ref="4b43b7669fad4b5b712c0fa73fdf7e2c" category="inline-link-macro-rx"></block> per un esempio di un file di inventario completo che rappresenta un singolo nodo a blocchi.</block>
  <block id="bb3b75abe4dc6581c40f5061474bb17f" category="section-title">Utilizzando HDR (200 GB) InfiniBand o 200GB RoCE con i nodi a blocchi NetApp EF600:</block>
  <block id="2636cdb2e4c8c163e637fb4b1be7ef57" category="summary">Specificare la configurazione del nodo a blocchi comune utilizzando le variabili di gruppo (group_vars).</block>
  <block id="42379f3693325579ec45c17436f3fa30" category="doc">Specificare la configurazione del nodo del blocco comune</block>
  <block id="f3b82d936104a57a294cfa3abe47b556" category="paragraph">La configurazione che deve essere utilizzata per tutti i nodi a blocchi è definita in<block ref="7bc866ffde9914c7ef21768fcf6f0683" prefix=" " category="inline-code"></block>. In genere include:</block>
  <block id="8265488ffd9c98f3bf95687c608f6db9" category="list-text">Dettagli su come il nodo di controllo Ansible deve connettersi ai sistemi storage e-Series utilizzati come nodi a blocchi.</block>
  <block id="e6a6b0e56e4888732076684459908257" category="list-text">Quali versioni del firmware, DI NVSRAM e del firmware del disco devono essere eseguite dai nodi.</block>
  <block id="432cd2d056edf811cddfd42fe9367df2" category="list-text">Configurazione globale, incluse le impostazioni della cache, la configurazione dell'host e le modalità di provisioning dei volumi.</block>
  <block id="b34cde4ef9da9f08725d6c62977d706a" category="admonition">Le opzioni impostate in questo file possono essere definite anche su singoli nodi a blocchi, ad esempio se sono in uso modelli hardware misti o se si dispone di password diverse per ciascun nodo. La configurazione sui singoli nodi a blocchi avrà la precedenza sulla configurazione in questo file.</block>
  <block id="6afa815954c372aee339049211ead69a" category="paragraph">Creare il file<block ref="7bc866ffde9914c7ef21768fcf6f0683" prefix=" " category="inline-code"></block> e compilarlo come segue:</block>
  <block id="35604a35256cdb2079414a606f693bc3" category="list-text">Ansible non utilizza SSH per connettersi ai nodi a blocchi, ma le API REST. Per ottenere questo risultato, dobbiamo stabilire:</block>
  <block id="c4cb5f6ece988910c4cb1a90025fb6fd" category="list-text">Specificare il nome utente e la password per gestire ciascun nodo. Il nome utente può essere omesso (e l'impostazione predefinita è admin), altrimenti è possibile specificare qualsiasi account con privilegi di amministratore. Specificare inoltre se i certificati SSL devono essere verificati o ignorati:</block>
  <block id="4b47eaf1cc2e42fd7841edf5ee136cf9" category="admonition">Si sconsiglia di elencare le password in testo non crittografato. Utilizzare Ansible vault o fornire il<block ref="b59049923d63016545b743560345fa56" prefix=" " category="inline-code"></block> Quando si esegue Ansible con --extra-vars.</block>
  <block id="7a48384bf61ccc1cd67f79e20b2946b0" category="list-text">Facoltativamente, specificare il firmware del controller, NVSRAM e il firmware del disco da installare sui nodi. Questi dovranno essere scaricati su<block ref="93501a11e921083efbd154e0cdff5f10" prefix=" " category="inline-code"></block> Prima di eseguire Ansible. È possibile scaricare il firmware del controller e-Series e NVSRAM <block ref="66d434b6c80c5839cd158404e9040bf6" category="inline-link-macro-rx"></block> e firmware del disco <block ref="289e1473afcefdacfca9006e22cec3f7" category="inline-link-macro-rx"></block>:</block>
  <block id="9f068c46b4a825d808c2c9767e358bf4" category="admonition">Se viene specificata questa configurazione, Ansible aggiorna automaticamente tutto il firmware, incluso il riavvio dei controller (se necessario) con senza richieste aggiuntive. Si prevede che ciò non causi interruzioni per BeeGFS/host i/o, ma può causare una temporanea diminuzione delle performance.</block>
  <block id="e34a3cd38452267edb183f6fec7d3128" category="list-text">Regolare le impostazioni predefinite della configurazione globale del sistema. Le opzioni e i valori elencati di seguito sono generalmente consigliati per BeeGFS su NetApp, ma possono essere modificati se necessario:</block>
  <block id="959afa15d8283f663da6fb31c0931335" category="list-text">Configurare le impostazioni predefinite per il provisioning di volumi globali. Le opzioni e i valori elencati di seguito sono generalmente consigliati per BeeGFS su NetApp, ma possono essere modificati se necessario:</block>
  <block id="36aa3776a01484babb7b935f0790e38d" category="list-text">Se necessario, modificare l'ordine in cui Ansible selezionerà le unità per i pool di storage e i gruppi di volumi tenendo presente le seguenti Best practice:</block>
  <block id="9ddcb68f677516aceffc3293429a25e8" category="list-text">Elencare tutte le unità (potenzialmente più piccole) che devono essere utilizzate per i volumi di gestione e/o metadati e i volumi di storage durano.</block>
  <block id="6857ed48db753853948c52afd2297877" category="list-text">Assicurarsi di bilanciare l'ordine di selezione dei dischi tra i canali disponibili in base ai modelli di shelf di dischi/enclosure di dischi. Ad esempio, con EF600 e senza espansioni, i dischi 0-11 si trovano sul canale 1 del disco e i dischi 12-23 sul canale del disco. Pertanto, è necessario scegliere una strategia per bilanciare la selezione del disco<block ref="22527cd74d7cc7f48375817974dc1712" prefix=" " category="inline-code"></block> 99:0, 99:23, 99:1, 99:22, ecc. In caso di più enclosure, la prima cifra rappresenta l'ID dello shelf del disco.</block>
  <block id="1f28da07b9b1480e254e0e0fe280f3a2" category="paragraph">Fare clic su <block ref="85c5b5287ec04e7c836b5655b59fd26c" category="inline-link-macro-rx"></block> per un esempio di un file di inventario completo che rappresenta la configurazione di un nodo a blocchi comune.</block>
  <block id="234c05131256028f5ab7ea9b87261ff3" category="summary">L'inventario Ansible è un insieme di file di configurazione che definiscono il cluster BeeGFS ha desiderato.</block>
  <block id="e520383c76f5e72226ebb572b987380c" category="doc">Panoramica di Ansible Inventory</block>
  <block id="7a1eabc3deb7fd02ceb1e16eafc41073" category="inline-link-macro">inventario</block>
  <block id="283c77f47e33325beac16dfcff1fbdc4" category="inline-link-macro">sottodirectory/file</block>
  <block id="3a6e55a49a2cdf7c86076b810d565fc2" category="paragraph">Si consiglia di seguire le procedure standard di Ansible per organizzare il <block ref="6c37acba8ff27fe32f3259d928e2df83" category="inline-link-macro-rx"></block>, incluso l'utilizzo di <block ref="0b746a370389b97701184b02d91b44b0" category="inline-link-macro-rx"></block> invece di memorizzare l'intero inventario in un file.</block>
  <block id="21c8e198e85188d23c3e8ec1332bc84c" category="paragraph">L'inventario Ansible per un singolo cluster BeeGFS ha è organizzato come segue:</block>
  <block id="8c57469570cfaa1ea4910df225230163" category="admonition">Poiché un singolo file system BeeGFS può comprendere più cluster ha, è possibile che installazioni di grandi dimensioni dispongano di più inventari Ansible. In genere, non è consigliabile cercare di definire più cluster ha come un singolo inventario Ansible per evitare problemi.</block>
  <block id="1b1ad4049313d49cd09961eea7b62a6f" category="list-text">Nel nodo di controllo Ansible creare una directory vuota contenente l'inventario Ansible per il cluster BeeGFS che si desidera implementare.</block>
  <block id="697c53131c77d1cf7ff864d4f02aca2d" category="list-text">Se il file system conterrà più cluster ha, si consiglia di creare prima una directory per il file system, quindi sottodirectory per l'inventario che rappresenta ciascun cluster ha. Ad esempio:</block>
  <block id="aa4b0754e84122851b5c983186feaa49" category="list-text">Nella directory contenente l'inventario per il cluster ha che si desidera implementare, creare due directory<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block> e.<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> e due file<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> e.<block ref="2f78c4e27feaf25ffb33d97e8ff7e7a6" prefix=" " category="inline-code"></block>.</block>
  <block id="20034aab6a0bc59dc9804ff9d5960982" category="paragraph">Nelle sezioni seguenti viene illustrata la definizione del contenuto di ciascuno di questi file.</block>
  <block id="9df40d55a663f7c179e328bf937587fe" category="summary">I servizi BeeGFS vengono configurati utilizzando variabili di gruppo (group_vars).</block>
  <block id="0badcf73673abd8a3f15cc4e386caafa" category="doc">Definire il servizio di storage BeeGFS</block>
  <block id="624bf455f36c44a126036391cd39a75c" category="paragraph">In questa sezione viene illustrata la definizione del servizio di storage BeeGFS. Almeno un servizio di questo tipo dovrebbe esistere nei cluster ha per un particolare file system. La configurazione di questo servizio include la definizione di:</block>
  <block id="e03fff2a92d72a09b4f9f5d0e895d1fd" category="list-text">Il tipo di servizio (storage).</block>
  <block id="164d597920f7afac5bd1bc14b783ff41" category="list-text">Definizione di qualsiasi configurazione applicabile solo a questo servizio BeeGFS.</block>
  <block id="9e4755a30f0ec19b232cf1ce068ab8d4" category="list-text">Configurazione di uno o più IP mobili (interfacce logiche) in cui è possibile raggiungere questo servizio.</block>
  <block id="e5e9883649f056a718503df3542a70d4" category="list-text">Specificare dove/come devono essere i volumi per memorizzare i dati per questo servizio (le destinazioni di storage BeeGFS).</block>
  <block id="204caa9915a25307074d637daed7faba" category="list-text">Indicare che questo file rappresenta la configurazione per un servizio di storage BeeGFS:</block>
  <block id="d03efed3ebed6860068fb8a5123ef4c6" category="list-text">Definire qualsiasi configurazione da applicare solo a questo servizio BeeGFS. È necessario specificare almeno la porta TCP e UDP desiderata, tuttavia qualsiasi parametro di configurazione supportato da<block ref="8a87bdd1964512794d560f1af3699fa1" prefix=" " category="inline-code"></block> può anche essere incluso. Nota: I seguenti parametri vengono configurati automaticamente/altrove e non devono essere specificati qui:<block ref="6ea5464abdaaa0243bf0db8481a9a52b" prefix=" " category="inline-code"></block>,<block ref="facec0675a87a8e14bef255e83e40f1e" prefix=" " category="inline-code"></block>,<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block>,<block ref="1c285a92de2348d33dd1fc333fb66c45" prefix=" " category="inline-code"></block>,<block ref="7f8e8358da4bb8d8e7f6f717ad9eb0e9" prefix=" " category="inline-code"></block>, e.<block ref="b61a9cecccc8e8db252dd5200883c7cc" prefix=" " category="inline-code"></block>.</block>
  <block id="71529044e633eb2a4b25c87eb3ea0358" category="list-text">Configurare uno o più IP mobili che altri servizi e client useranno per connettersi a questo servizio (in questo modo si imposterà automaticamente il BeeGFS<block ref="7f8e8358da4bb8d8e7f6f717ad9eb0e9" prefix=" " category="inline-code"></block> opzione):</block>
  <block id="db6bbb0bcb13fc624704b26d5d879534" category="list-text">Facoltativamente, specificare una o più subnet IP consentite che possono essere utilizzate per la comunicazione in uscita (in questo modo si imposterà automaticamente BeeGFS<block ref="b61a9cecccc8e8db252dd5200883c7cc" prefix=" " category="inline-code"></block> opzione):</block>
  <block id="b0e2ab52d86028182775498a8ba8dcc3" category="list-text">Specificare le destinazioni di storage BeeGFS in cui il servizio memorizzerà i dati in base alle seguenti linee guida (questa operazione configurerà automaticamente anche<block ref="facec0675a87a8e14bef255e83e40f1e" prefix=" " category="inline-code"></block> opzione):</block>
  <block id="e0f52cfdc30da3e272257c8783119a56" category="list-text">Lo stesso nome del pool di storage o del gruppo di volumi può essere utilizzato per più servizi/destinazioni BeeGFS, assicurandosi semplicemente di utilizzare lo stesso nome<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>,<block ref="2d0e37110968341728e47095df64a19c" prefix=" " category="inline-code"></block>,<block ref="48658e2ad8eaaf7daff452601ea618db" prefix=" " category="inline-code"></block>, e.<block ref="e241a8daa5b8e1af3b82b1e1a8ec24a9" prefix=" " category="inline-code"></block> configurazione per ciascun servizio (i volumi elencati per ciascun servizio devono essere diversi).</block>
  <block id="339c4b049c3a7e5cdf355daceda6f43a" category="list-text">Fare clic su <block ref="0a71609ed00bd9652e70cd5b106f9ae3" category="inline-link-macro-rx"></block> per un elenco completo delle opzioni di configurazione disponibili per<block ref="8ca968d07b3817015da8919c700152f5" prefix=" " category="inline-code"></block>. Notare alcune opzioni, ad esempio<block ref="9ed39e2ea931586b6a985a6942ef573e" prefix=" " category="inline-code"></block>,<block ref="67b3dba8bc6778101892eb77249db32e" prefix=" " category="inline-code"></block>,<block ref="99bd6603c88a46584bf9b94ffab3d6c9" prefix=" " category="inline-code"></block>,<block ref="db137bf87e9c1a766b82885236ac8b87" prefix=" " category="inline-code"></block>, e.<block ref="7951c85f8306dda4792beb0e6a356282" prefix=" " category="inline-code"></block> i nomi dei volumi e vengono generati automaticamente e non devono essere specificati qui.</block>
  <block id="b18c6fe32d4f2f076f7c708ea5be89c1" category="paragraph">Fare clic su <block ref="7bc3fba5853c696254cf4264774b5d50" category="inline-link-macro-rx"></block> Esempio di un file di inventario completo che rappresenta un servizio di storage BeeGFS.</block>
  <block id="29ee3861e1e5ac6fa4281c3c3fddd958" category="doc">Definire il servizio di metadati BeeGFS</block>
  <block id="60513084f53d0d484c55e212d6a9248e" category="paragraph">In questa sezione viene illustrata la definizione del servizio di metadati BeeGFS. Almeno un servizio di questo tipo dovrebbe esistere nei cluster ha per un particolare file system. La configurazione di questo servizio include la definizione di:</block>
  <block id="ef1af77af85196869032232af1a07f87" category="list-text">Il tipo di servizio (metadati).</block>
  <block id="fc266b5cc64e2d259e49bb24b0c186d0" category="list-text">Specificare dove/come deve essere un volume per memorizzare i dati per questo servizio (la destinazione dei metadati BeeGFS).</block>
  <block id="9cef1e732270bc660ef17d29df58c49c" category="list-text">Indica che questo file rappresenta la configurazione per un servizio di metadati BeeGFS:</block>
  <block id="d1bbe7b3631d4fdecc7637f7f28f2cd9" category="list-text">Definire qualsiasi configurazione da applicare solo a questo servizio BeeGFS. È necessario specificare almeno la porta TCP e UDP desiderata, tuttavia qualsiasi parametro di configurazione supportato da<block ref="672e512128cc9536bcf9f16964b20c49" prefix=" " category="inline-code"></block> può anche essere incluso. Nota: I seguenti parametri vengono configurati automaticamente/altrove e non devono essere specificati qui:<block ref="6ea5464abdaaa0243bf0db8481a9a52b" prefix=" " category="inline-code"></block>,<block ref="dbca95678907e2f2bf827d44042c16c5" prefix=" " category="inline-code"></block>,<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block>,<block ref="1c285a92de2348d33dd1fc333fb66c45" prefix=" " category="inline-code"></block>,<block ref="7f8e8358da4bb8d8e7f6f717ad9eb0e9" prefix=" " category="inline-code"></block>, e.<block ref="b61a9cecccc8e8db252dd5200883c7cc" prefix=" " category="inline-code"></block>.</block>
  <block id="d3de182528701519a47cbe276590393a" category="list-text">Specificare la destinazione dei metadati BeeGFS in cui il servizio memorizzerà i dati in base alle seguenti linee guida (questa operazione configurerà automaticamente anche<block ref="dbca95678907e2f2bf827d44042c16c5" prefix=" " category="inline-code"></block> opzione):</block>
  <block id="df5fc0ef6e9aaec0f45d18fdd7ee8f12" category="paragraph">Fare clic su <block ref="c59646481b474fffe5bc2a736ab8653d" category="inline-link-macro-rx"></block> Per un esempio di un file di inventario completo che rappresenta un servizio di metadati BeeGFS.</block>
  <block id="973cf6ca298b6ecfb5f2f3290ca4cd2f" category="doc">Definire il servizio di gestione BeeGFS</block>
  <block id="a461b810f49c26d9dc6d92a1e3a344bc" category="paragraph">In questa sezione viene illustrata la definizione del servizio di gestione BeeGFS. Nel cluster ha per un file system specifico dovrebbe esistere un solo servizio di questo tipo. La configurazione di questo servizio include la definizione di:</block>
  <block id="a9da9d90de8c8b13991c884b03f76658" category="list-text">Il tipo di servizio (gestione).</block>
  <block id="b966cc65076783762d4b37aff48e5a1f" category="list-text">Specificare dove/come deve essere un volume per memorizzare i dati per questo servizio (la destinazione di gestione di BeeGFS).</block>
  <block id="66969fa0d9af9f38ebaa31ea1c4b7051" category="list-text">Indicare che questo file rappresenta la configurazione per un servizio di gestione BeeGFS:</block>
  <block id="968fc19eb9be6283a0d5f79c8536f855" category="list-text">Definire qualsiasi configurazione da applicare solo a questo servizio BeeGFS. Questo non è generalmente richiesto per il servizio di gestione a meno che non sia necessario attivare le quote, tuttavia qualsiasi parametro di configurazione supportato da<block ref="025b9ec9690bfeefef6aedbac6e66c87" prefix=" " category="inline-code"></block> può essere incluso. Nota: I seguenti parametri vengono configurati automaticamente/altrove e non devono essere specificati qui:<block ref="02a09b36e77ebbfe1d499e597daef0d5" prefix=" " category="inline-code"></block>,<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block>,<block ref="1c285a92de2348d33dd1fc333fb66c45" prefix=" " category="inline-code"></block>,<block ref="7f8e8358da4bb8d8e7f6f717ad9eb0e9" prefix=" " category="inline-code"></block>, e.<block ref="b61a9cecccc8e8db252dd5200883c7cc" prefix=" " category="inline-code"></block>.</block>
  <block id="8e19ae7e081dee60d1c86f207028684b" category="list-text">Specificare l'obiettivo di gestione di BeeGFS in cui il servizio memorizzerà i dati in base alle seguenti linee guida:</block>
  <block id="1511cb861f1160e48d8e9c07e416cd1a" category="paragraph">Fare clic su <block ref="ffb907e2c03168946e1e4d8df77e6e36" category="inline-link-macro-rx"></block> Per un esempio di un file di inventario completo che rappresenta un servizio di gestione BeeGFS.</block>
  <block id="e20d89701cb46cf38953e6dc25a2dc3d" category="summary">Specificare quali nodi di file possono eseguire ciascun servizio BeeGFS utilizzando il file inventory.yml.</block>
  <block id="02e4c76e0e6e5414c70765451a79b37c" category="doc">Mappare i servizi BeeGFS ai nodi di file</block>
  <block id="3e99717578ba1478873bc5c3269e4086" category="paragraph">Specificare quali nodi di file possono eseguire ciascun servizio BeeGFS utilizzando<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> file.</block>
  <block id="24c07a5a77746e85d21882c88bdd5b03" category="paragraph">In questa sezione viene illustrato come creare<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> file. Ciò include l'elenco di tutti i nodi a blocchi e la specifica dei nodi di file che possono eseguire ciascun servizio BeeGFS.</block>
  <block id="5ee7bf1a42518812c2b87b463bf96a31" category="paragraph">Creare il file<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> e compilarlo come segue:</block>
  <block id="7aec62cda467a76d024911e74e1fec38" category="list-text">Dall'inizio del file, creare la struttura di inventario Ansible standard:</block>
  <block id="5923f18af043b9957bf5541e595cc0f5" category="list-text">Creare un gruppo contenente tutti i nodi a blocchi che partecipano a questo cluster ha:</block>
  <block id="b084d86d2b539345bcda62aaa5bceb0f" category="list-text">Creare un gruppo che conterrà tutti i servizi BeeGFS nel cluster e i nodi di file che li eseguiranno:</block>
  <block id="eec391bff48a7ed3bbf30e3280fbe9e3" category="list-text">Per ogni servizio BeeGFS nel cluster, definire il nodo/i file preferito/i e secondario/i che deve eseguire tale servizio:</block>
  <block id="e26a68a8ce5809998083f351bf56677e" category="paragraph">Fare clic su <block ref="00544a89e642f3f5a354362c58d52f2e" category="inline-link-macro-rx"></block> per un esempio di file di inventario completo.</block>
  <block id="cd3a8919c565c37be6e50322a583eac4" category="summary">Pianificare l'implementazione del file system prima di creare l'inventario Ansible.</block>
  <block id="6ec9184bd478b3b836d1c92fa51f1baa" category="paragraph">Prima di implementare il file system, è necessario definire gli indirizzi IP, le porte e le altre configurazioni richieste da tutti i nodi di file, i nodi di blocco e i servizi BeeGFS in esecuzione nel cluster. Anche se la configurazione esatta varia in base all'architettura del cluster, questa sezione definisce le Best practice e i passaggi da seguire che sono generalmente applicabili.</block>
  <block id="229ad1ff2fa862e1fa317520fe78ad42" category="list-text">Se si utilizza un protocollo di storage basato su IP (come iSER, iSCSI, NVMe/IB o NVMe/RoCE) per connettere i nodi di file ai nodi di blocco, compilare il seguente foglio di lavoro per ciascun building block. Ogni connessione diretta in un singolo building block deve avere una subnet univoca e non deve esserci alcuna sovrapposizione con le subnet utilizzate per la connettività client-server.</block>
  <block id="0611f793ccd40e910f3d7f82c1bb6d66" category="cell">Virtual IP (solo per EF600 con HDR IB)</block>
  <block id="6d68d27a364d17c3c6b36281d161a34e" category="cell">&lt;HOSTNAME&gt;</block>
  <block id="2feb1f8d58fa960c8d2635cb910ad7ec" category="cell">&lt;PORT&gt;</block>
  <block id="a87d961719c43a8065ad6f09b292f547" category="cell">&lt;IP/SUBNET&gt;</block>
  <block id="5d52f332806d779c548497e97b6050ed" category="admonition">Se i nodi di file e blocchi di ciascun building block sono collegati direttamente, spesso è possibile riutilizzare gli stessi IP/schema per più building block.</block>
  <block id="0eca8abaad32a83698b54d0fcea93ad3" category="list-text">Indipendentemente dall'utilizzo di InfiniBand o RDMA su RoCE (Converged Ethernet) per la rete di storage, compilare il seguente foglio di lavoro per determinare gli intervalli IP che verranno utilizzati per i servizi cluster ha, i file service BeeGFS e i client per comunicare:</block>
  <block id="0c2bd0118b2766abe77c40b1bd393b44" category="cell">IP cluster BeeGFS</block>
  <block id="c4aa072ba75aa28cd14308257fee1a08" category="cell">&lt;INTERFACE(s)&gt;</block>
  <block id="65b5aefed3041b5dccc318ffe87431b7" category="cell">&lt;RANGE&gt;</block>
  <block id="1ec0a19ea7a783b022b53265dd90c383" category="cell">&lt;IP(s)&gt;</block>
  <block id="0353e2599d6ca03a78f42855abe0a6f4" category="list-text">Se si utilizza una singola subnet IP, è necessario un solo foglio di lavoro, altrimenti compilare un foglio di lavoro per la seconda subnet.</block>
  <block id="c19e3d6f1cb2b9ed96d0553ef0363080" category="list-text">In base a quanto sopra, per ciascun building block del cluster, compilare il seguente foglio di lavoro che definisce i servizi BeeGFS che verranno eseguiti. Per ogni servizio, specificare i nodi di file preferiti/secondari, la porta di rete, gli IP mobili, l'assegnazione di zona NUMA (se necessario) e i nodi di blocco da utilizzare per le destinazioni. Per compilare il foglio di lavoro, fare riferimento alle seguenti linee guida:</block>
  <block id="501d4d9b0f3910c0d30a4a828247f2b0" category="list-text">Specificare i servizi BeeGFS come uno dei due<block ref="5670713387ceeca6a99ea4c5d6381de9" prefix=" " category="inline-code"></block>,<block ref="adc521b987f8d17684929a7814fb39a6" prefix=" " category="inline-code"></block>, o.<block ref="13e9e938499f52dc5dd76a5f625aef19" prefix=" " category="inline-code"></block> Dove ID rappresenta un numero univoco per tutti i servizi BeeGFS di quel tipo in questo file system. Questa convenzione semplifica il riferimento a questo foglio di lavoro nelle sezioni successive durante la creazione di file per configurare ciascun servizio.</block>
  <block id="d5164729d98e85db7b7cb0282c74163d" category="list-text">Le porte per i servizi BeeGFS devono essere univoche solo in un particolare building block. Assicurarsi che i servizi con lo stesso numero di porta non possano mai essere eseguiti sullo stesso nodo di file per evitare conflitti di porta.</block>
  <block id="8a18a5a52ba3b55c805c94f8ac3889c9" category="list-text">Se necessario, i servizi possono utilizzare volumi da più di un nodo a blocchi e/o pool di storage (e non tutti i volumi devono essere di proprietà dello stesso controller). Più servizi possono anche condividere lo stesso nodo a blocchi e/o la stessa configurazione del pool di storage (i singoli volumi verranno definiti in una sezione successiva).</block>
  <block id="80a7df0cf1674016cc4cc2588c911429" category="cell">Servizio BeeGFS (nome file)</block>
  <block id="5515295c9721b17faa0365ab7a888791" category="cell">Nodi di file</block>
  <block id="7428caa4314139d517357edc7bd85e13" category="cell">&lt;SERVICE TYPE&gt;_&lt;ID&gt;.yml</block>
  <block id="05dbd6a9ac1e738536c568b9c76b6d9f" category="cell">&lt;PREFERRED FILE NODE&gt; &lt;SECONDARY FILE NODE(s)&gt;</block>
  <block id="ce434f7769160d97da3ed0d746a4d983" category="cell">&lt;INTERFACE&gt;:&lt;IP/SUBNET&gt; &lt;INTERFACE&gt;:&lt;IP/SUBNET&gt;</block>
  <block id="0f9b262f92ad6ba4a547abbe4c98c80b" category="cell">&lt;NUMA NODE/ZONE&gt;</block>
  <block id="9746b3183301bae601d6d3e7479f01f9" category="cell">&lt;BLOCK NODE&gt;</block>
  <block id="b95d182f851d32de39590b07917d6dc2" category="cell">&lt;STORAGE POOL/VOLUME GROUP&gt;</block>
  <block id="fe1341a187350b5203bdf2c08baa2ac8" category="cell">&lt;A OR B&gt;</block>
  <block id="78ff65afbf92a15cd30dea91aefc1e9b" category="inline-link-macro">best practice</block>
  <block id="b7121c47f4a8776d685a934610733179" category="inline-link-macro">Definire i blocchi di base BeeGFS</block>
  <block id="9635e0061cd355a35e70799e909727af" category="summary">Operazioni manuali necessarie per impostare i nodi di file e blocchi prima di eseguire Ansible.</block>
  <block id="f5878e619c266b2ac6254dd1e4d95bfb" category="doc">Impostare i nodi di file e blocchi</block>
  <block id="d3f9f418681aaa08eb617366f4e167e0" category="section-title">Configurare Baseboard Management Controller (BMC)</block>
  <block id="d387b972fad59cf81f9a534bd8f6c654" category="paragraph">Un BMC (Baseboard Management Controller), a volte chiamato Service Processor, è il nome generico della funzionalità di gestione out-of-band integrata in varie piattaforme server che possono fornire accesso remoto anche se il sistema operativo non è installato o accessibile. I vendor in genere commercializzano questa funzionalità con un proprio marchio. Ad esempio, su Lenovo SR665, BMC viene definito XCC (Lenovo XClarity Controller).</block>
  <block id="9f9fca437c1db2135d8b5e17bdc36ff6" category="paragraph">Seguire la documentazione del vendor del server per abilitare le licenze necessarie per accedere a questa funzionalità e assicurarsi che il BMC sia connesso alla rete e configurato in modo appropriato per l'accesso remoto.</block>
  <block id="d4519b3f996eace0908217fda1966da8" category="admonition">Se si desidera utilizzare Redfish per la scherma basata su BMC, assicurarsi che Redfish sia attivato e che l'interfaccia BMC sia accessibile dal sistema operativo installato nel nodo file. Potrebbe essere necessaria una configurazione speciale sullo switch di rete se BMC e il sistema operativo condividono la stessa interfaccia di rete fisica.</block>
  <block id="f9fa015b01242f44a7319213f0a01ff2" category="section-title">Mettere a punto le impostazioni di sistema</block>
  <block id="93f3e5d94e30643aac7f8755a6dcfeb4" category="inline-link-macro">modelli di file node verificati</block>
  <block id="b9a7b8c50025e62b9e91f9baf3ba2304" category="section-title">Installare un sistema operativo</block>
  <block id="a82007c47b25723539a00ff94e8b3d27" category="section-title">RedHat</block>
  <block id="5ab261ccc77c613b4430d72688133ef7" category="paragraph">Utilizza RedHat Subscription Manager per registrare e sottoscrivere il sistema per consentire l'installazione dei pacchetti richiesti dai repository ufficiali Red Hat e per limitare gli aggiornamenti alla versione supportata di Red Hat:<block ref="77a4421cc9f01b777ceaeda595865c3c" prefix=" " category="inline-code"></block>. Per istruzioni, vedere<block ref="2e2e1be81972e19947d90393d5319b6e" category="inline-link-rx"></block> e. <block ref="bbd834e2960f33a50fb102fd4d31a6d9" category="inline-link-rx"></block>.</block>
  <block id="9a7877d2d6f43233661b52c31362cb32" category="paragraph">Abilitare il repository Red Hat contenente i pacchetti richiesti per l'alta disponibilità:</block>
  <block id="5ea84babe2cd259121a70aff2652769b" category="section-title">Configurare la rete di gestione</block>
  <block id="45f7cb03ff15b64d9405b68be6bdcc97" category="paragraph">Configurare le interfacce di rete necessarie per consentire la gestione in banda del sistema operativo. I passaggi esatti dipendono dalla distribuzione e dalla versione di Linux in uso.</block>
  <block id="6c2e3de482271e18e34375218bcbbfcd" category="admonition">Assicurarsi che SSH sia attivato e che tutte le interfacce di gestione siano accessibili dal nodo di controllo Ansible.</block>
  <block id="ab2b3440ca9e61bb50d98cdd593fea31" category="section-title">Aggiornare il firmware HCA e HBA</block>
  <block id="bc8be72fdc9d6054f356bb2b7f80fd12" category="inline-link-macro">Matrice di interoperabilità NetApp</block>
  <block id="48206a73aaea76911a94b52a97986f4a" category="section-title">Nodi a blocchi</block>
  <block id="76752be68c87426437dc7d4a501b481c" category="inline-link-macro">Inizia a lavorare con e-Series</block>
  <block id="871d3d62a8d11ed96c7c911ca5961c83" category="paragraph">Seguire i passi da a. <block ref="4525dc880e156901740411dc7fd56b26" category="inline-link-macro-rx"></block> per configurare la porta di gestione su ciascun controller di nodi a blocchi e, facoltativamente, impostare il nome dell'array di storage per ciascun sistema.</block>
  <block id="20c7fe47a0acb373f79e663a36dd1e25" category="admonition">Non è necessaria alcuna configurazione aggiuntiva oltre a garantire che tutti i nodi a blocchi siano accessibili dal nodo di controllo Ansible. La configurazione di sistema rimanente verrà applicata/mantenuta utilizzando Ansible.</block>
  <block id="0d4f2647b7895adb046a3392c35f6828" category="summary">Procedure necessarie per installare e collegare l'hardware utilizzato per eseguire BeeGFS su NetApp.</block>
  <block id="7cb1df0e9acb4e346f49d40865ebd99f" category="doc">Installazione e cavo hardware</block>
  <block id="d0dde32750edec525fffdeacdfe54a80" category="section-title">Pianificare l'installazione</block>
  <block id="694daa4aca75c61a285846a5ec0b4b0c" category="paragraph">Ciascun file system BeeGFS è costituito da un certo numero di nodi di file che eseguono i servizi BeeGFS utilizzando lo storage back-end fornito da un certo numero di nodi a blocchi. I file node sono configurati in uno o più cluster ad alta disponibilità per fornire la fault tolerance per i servizi BeeGFS. Ogni nodo a blocchi è già una coppia ha attiva/attiva. Il numero minimo di nodi di file supportati in ciascun cluster ha è tre e il numero massimo di nodi di file supportati in ciascun cluster è dieci. I file system BeeGFS possono scalare oltre dieci nodi implementando più cluster ha indipendenti che lavorano insieme per fornire un singolo namespace del file system.</block>
  <block id="bb4d2a6e482d18af607ee0f07c23d049" category="paragraph">In genere, ogni cluster ha viene implementato come una serie di "building block" in cui alcuni nodi di file (server x86) sono collegati direttamente a un certo numero di nodi a blocchi (in genere sistemi storage e-Series). Questa configurazione crea un cluster asimmetrico, in cui i servizi BeeGFS possono essere eseguiti solo su alcuni nodi di file che hanno accesso allo storage a blocchi di back-end utilizzato per le destinazioni BeeGFS. Il bilanciamento dei nodi file-to-block in ciascun building block e del protocollo di storage in uso per le connessioni dirette dipende dai requisiti di una particolare installazione.</block>
  <block id="f1fafc095d6233cf2f9c8d299f6427bb" category="paragraph">Un'architettura di cluster ha alternativa utilizza un fabric di storage (noto anche come SAN (Storage Area Network) tra i nodi di file e blocchi per stabilire un cluster simmetrico. Ciò consente l'esecuzione dei servizi BeeGFS su qualsiasi nodo di file in un cluster ha specifico. Poiché i cluster generalmente simmetrici non sono così convenienti a causa dell'hardware SAN aggiuntivo, questa documentazione presuppone l'utilizzo di un cluster asimmetrico implementato come una serie di uno o più building block.</block>
  <block id="edda5f6836a1cf72ee14894e512b7707" category="admonition">Assicurarsi che l'architettura del file system desiderata per una particolare implementazione di BeeGFS sia ben compresa prima di procedere con l'installazione.</block>
  <block id="767202c8efedcb9c8edf20f9fce9818d" category="section-title">Hardware per rack</block>
  <block id="14511f2f5564650d129ca7cabc333278" category="inline-link-macro">blocco</block>
  <block id="d5e81e99079cfbb27d893365b01c6733" category="paragraph">Quando si pianifica l'installazione, è importante che tutte le apparecchiature di ciascun building block siano installate in rack adiacenti. La procedura consigliata prevede il racking dei nodi di file immediatamente sopra i nodi di blocco in ciascun building block. Seguire la documentazione relativa ai modelli di file e. <block ref="3876eb55ee0ffaac1627ebbb7ea8fad8" category="inline-link-macro-rx"></block> nodi utilizzati durante l'installazione di guide e hardware nel rack.</block>
  <block id="39979c4d8cb83fc0443baa4ff7f48f07" category="paragraph">Esempio di un singolo building block:</block>
  <block id="98ac29120ce31a8b9f17cc6bcad239b1" category="paragraph">Esempio di un'installazione BeeGFS di grandi dimensioni in cui sono presenti più elementi di base in ciascun cluster ha e più cluster ha nel file system:</block>
  <block id="bdc136e73217b9254f82f3e521e32772" category="section-title">Nodi di blocco e file via cavo</block>
  <block id="f6f19d063d8a1cc74be9ed77236d08df" category="inline-link-macro">Basato sull'architettura verificata di seconda generazione di BeeGFS su NetApp</block>
  <block id="40bc85e53495ab0b176af4ef17ea6072" category="section-title">Collegare i nodi di file alla rete client</block>
  <block id="1899ae951504892f3420f88e3162b84d" category="paragraph">Ogni nodo di file avrà un certo numero di porte InfiniBand o Ethernet designate per il traffico del client BeeGFS. A seconda dell'architettura, ciascun nodo di file disporrà di una o più connessioni a una rete client/storage dalle performance elevate, potenzialmente a più switch per la ridondanza e l'aumento della larghezza di banda. Di seguito viene riportato un esempio di cablaggio del client che utilizza switch di rete ridondanti, in cui le porte evidenziate in verde scuro e verde chiaro sono collegate a switch separati:</block>
  <block id="90a31af51bc017a18f8f032fa49cf901" category="section-title">Gestione delle connessioni rete e alimentazione</block>
  <block id="b213f1ea719142ad3112dd64e712e06a" category="paragraph">Stabilire le connessioni di rete necessarie per le reti in-band e out-of-band.</block>
  <block id="2f967ed85c3e532e8aee39997f97a27c" category="paragraph">Collegare tutti gli alimentatori assicurandosi che ciascun nodo di file e blocchi sia collegato a più unità di distribuzione dell'alimentazione per la ridondanza (se disponibile).</block>
  <block id="90791b7e8bfac5f0631992c1a7269f5e" category="summary">Impostare un nodo di controllo Ansible per implementare e gestire il file system.</block>
  <block id="9cdd817721bc924d0da9d43995b6cf7d" category="doc">Impostare Ansible Control Node</block>
  <block id="31996051b4f5b99834fd90885ae099c1" category="paragraph">Un nodo di controllo Ansible è una macchina Linux fisica o virtuale utilizzata per gestire il cluster. Deve soddisfare i seguenti requisiti:</block>
  <block id="b4851e92b19af0c5c82447fc0937709d" category="inline-link-macro">requisiti</block>
  <block id="5f4740da5b8ab13112ebf332f879cc6e" category="list-text">Incontra il funzionario <block ref="37e11d19f014e84f10fff4770a09b235" category="inline-link-macro-rx"></block> incluse le versioni del sistema operativo.</block>
  <block id="2bce5080fcc3d6b8a54a49745dd28d52" category="list-text">Avere accesso SSH e HTTPS a tutti i nodi di file e blocchi.</block>
  <block id="014e0772632604acc6760e28c820cb22" category="summary">Panoramica sulla risoluzione dei problemi</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="sidebar">Inizia subito</block>
  <block id="12623d7cc9dff74b7325aa809ffc84df" category="sidebar">Blog - ulteriori informazioni su BeeGFS ed e-Series</block>
  <block id="0af9e7bf64a8e8c1b37ec554248f3d14" category="sidebar">Blog - BeeGFS per principianti</block>
  <block id="6316c96cdd51a54d33d0011cf5f10c81" category="sidebar">Blog - ha per BeeGFS</block>
  <block id="b89fcecfac1f6b8376165aabe5b6c5ee" category="sidebar">Documenti aggiuntivi</block>
  <block id="bc4fe2352063642d68529f2aa0ca7ca3" category="sidebar">Documentazione sui prodotti NetApp</block>
  <block id="dbd68e15f4c30d2a47d780a9bf4f3da1" category="sidebar">Documentazione BeeGFS</block>
  <block id="ba13e086fe19056a379b6240e05651a8" category="sidebar">TR-4915 - spostamento dei dati con e-Series e BeeGFS per l'ai</block>
  <block id="974ad78dc53c253ebfe5b2b8b376f353" category="sidebar">Strumenti e supporto</block>
  <block id="d564be87f67790fe4b92faa0eea29c48" category="sidebar">NetApp e-Series Collections su Ansible Galaxy</block>
  <block id="668e2078ef1b1722c77cdb5c523a4463" category="sidebar">Knowledge base di NetApp</block>
  <block id="2bae42f280067110dfd52cc69a468364" category="sidebar">Active IQ (accesso richiesto)</block>
  <block id="c35665ae18bf4eff9afa413fcb281b07" category="sidebar">Documenti BeeGFS su NetApp</block>
  <block id="f40341c80e215542b4fdfe4e2f2e2a21" category="sidebar">Contenuto di questo sito</block>
  <block id="2146c9256a2a3883605731032b6b8015" category="sidebar">Utilizzare architetture verificate</block>
  <block id="539652fdf317cc6e27c7373dc6fe13d3" category="sidebar">Esaminare la progettazione della soluzione</block>
  <block id="0607ff4a53c90b270dd9fd9fce5c3d92" category="sidebar">Opzione ad alta capacità</block>
  <block id="6c24b1b24585abc1454b91e5eb163103" category="sidebar">Implementare la soluzione</block>
  <block id="c5d1e465274381bca5df236c2a5a7d57" category="sidebar">Implementare il software</block>
  <block id="97ecf64b4f2550ec2c53f49bb9fde847" category="sidebar">Impostare il nodo di controllo Ansible</block>
  <block id="f99ff2e7716d2f6aa55979e838f0a328" category="sidebar">Creare l'inventario Ansible</block>
  <block id="da7f5c02044100badae24523f01941a2" category="sidebar">Definire i blocchi di base BeeGFS</block>
  <block id="8025f3ce3e3e1dd003430788c4be8b5e" category="sidebar">Scalare i cluster BeeGFS</block>
  <block id="e304a70d2f42f62cefb9b474f73a1e91" category="sidebar">Percentuali di volume consigliate</block>
  <block id="2c9d17683bf440abca82add607aa6a61" category="sidebar">Configurazione iniziale</block>
  <block id="2186112c2fe23afc42ab96c76b10633c" category="sidebar">Installazione e cablaggio della bulloneria</block>
  <block id="d2c71dbf224d233986fd9fee484a1bff" category="sidebar">Definire il file system BeeGFS</block>
  <block id="d2b9bae490422ee64c78a0825f1c1d47" category="sidebar">Definire i nodi di file e blocchi</block>
  <block id="e0f1083c7a219d40d5f2cce31e733837" category="sidebar">Configurare singoli nodi di file</block>
  <block id="aaadb61f664f163c98ebee0c9c962dda" category="sidebar">Configurare singoli nodi a blocchi</block>
  <block id="2c6acfbd0549df84a730e9135dfa642a" category="sidebar">Specificare la configurazione del nodo file comune</block>
  <block id="de1a5ef51d1a1d949b60789be3110709" category="sidebar">Specificare la configurazione del nodo del blocco comune</block>
  <block id="8283d5b2387e743d14bda00c2176d402" category="sidebar">Definire i servizi BeeGFS</block>
  <block id="4ea9c51458de5a50fcfc6ed1d6731376" category="sidebar">Servizio di gestione BeeGFS</block>
  <block id="fc0c3d42b552d41c96b314b10a5d8322" category="sidebar">Servizi di metadati BeeGFS</block>
  <block id="941fb85375314e8f03181252062f8321" category="sidebar">Servizi di storage BeeGFS</block>
  <block id="67f0f9eb53d18fde2907a79ffc52ab62" category="sidebar">Implementare il file system BeeGFS</block>
  <block id="7d980eb0cd911c4219870701e3c4ffce" category="sidebar">Amministrare i cluster BeeGFS</block>
  <block id="58f82a4575a638ca0eba992df08c4d2b" category="sidebar">Quando utilizzare Ansible vs. PC</block>
  <block id="bbfb06821b506d64fdaee613711657d4" category="sidebar">Assistenza e manutenzione</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="e8afe31a21b6aae9717484d865743dae" category="sidebar">BeeGFS su NetApp con storage e-Series è una soluzione integrata e comprovata che offre un'infrastruttura HPC semplice, affidabile, scalabile e conveniente, in grado di restare al passo con i tuoi carichi di lavoro più estremi.</block>
  <block id="3a9aabbbb8c331319a41788bf5d1786a" category="paragraph">Quando si assembla e crea fisicamente il file di inventario Ansible, attenersi alle seguenti convenzioni standard (per ulteriori informazioni, vedere <block ref="dbbcb9482f49ee969cddb7f10864cbd0" category="inline-link-macro-rx"></block>).</block>
  <block id="a743f5810f84b94eef8da441707ef9cb" category="paragraph">Per utilizzare HDR (200 GB) InfiniBand con EF600, è necessario configurare un secondo IP "virtuale" per ciascuna porta fisica. Di seguito è riportato un esempio del modo corretto di configurare un EF600 dotato di InfiniBand HDR HIC a doppia porta:</block>
  <block id="ba83328d8d0f6845114641c46fd328ed" category="paragraph">In questo caso, il servizio BeeGFS meta_08 si è arrestato per qualche motivo. Per continuare la risoluzione dei problemi si dovrebbe avviare begfs_02 ed esaminare i log per il servizio a<block ref="45434eee994714888e9eafad4993b0d3" prefix=" " category="inline-code"></block>. Ad esempio, il servizio BeeGFS potrebbe aver riscontrato un errore dell'applicazione a causa di un problema interno o del nodo.</block>
  <block id="12edeb5890095749089987982a1404ce" category="cell">7.4.1</block>
  <block id="edd2140e3bcb557a4bc234fc76e2dfb3" category="cell">Eseguire l'aggiornamento utilizzando la raccolta beegfs v3.2.0</block>
  <block id="fb6df547cfb7d95cb9b49b8301cad3ab" category="cell">7.4.2</block>
  <block id="549cabdee707d530b4b718071c2b04e9" category="paragraph">Se si passa da una versione principale a una versione secondaria, nel<block ref="2f78c4e27feaf25ffb33d97e8ff7e7a6" prefix=" " category="inline-code"></block> file utilizzato per distribuire e gestire il cluster, aggiornare il nome del<block ref="66b5cc4f55c22b7b05dfd4be1be47aab" prefix=" " category="inline-code"></block> ruolo in modo che rifletta la versione desiderata. Ad esempio, se si desidera distribuire BeeGFS 7,4 questo sarà<block ref="bf8d782a5f25b975eee48d224688885f" prefix=" " category="inline-code"></block>:</block>
  <block id="e8c7ab07a88c53743d909983583625f9" category="paragraph">Ad esempio, in questo file di esempio<block ref="d28e452e49fc926f32af1d87afcff3ce" prefix=" " category="inline-code"></block> , beegfs_01 è il nodo file preferito per eseguire il servizio di gestione BeeGFS:</block>
  <block id="cb7c9e260fba17d2ffcc93361a0eab2e" category="paragraph">L'inversione dell'ordine causerebbe la preferenza dei servizi di gestione su beegfs_02:</block>
  <block id="958b8a27f957bef8700299f8cafb9b9a" category="admonition">Non specificare singole risorse o il gruppo di risorse. Specificare sempre il nome del monitor per il servizio BeeGFS che si desidera trasferire. Ad esempio, per spostare il servizio di gestione BeeGFS in beegfs_02 eseguire:<block ref="ad6bdcc4dd95b7dbe9e00b9894a08e42" prefix=" " category="inline-code"></block>. Questo processo può essere ripetuto per spostare uno o più servizi lontano dai nodi preferiti. Verificare che l'utilizzo dei<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> servizi sia stato ricollocato/avviato sul nuovo nodo.</block>
  <block id="de752721186f0ef334b71ac4b3fe9cb5" category="paragraph">I file node devono eseguire RedHat 9.3 e avere accesso al repository ha contenente i pacchetti richiesti (pacemaker, corosync, fence-agents-all, resource-agents). Ad esempio, è possibile eseguire il seguente comando per abilitare il repository appropriato su RedHat 9:</block>
  <block id="aaf17f2a8cba647c8702de94c1bef112" category="list-text">Nota se necessario, è anche possibile specificare qui tutti i supporti <block ref="f4efc844d4401fa0cd59f82e6a720d5a" category="inline-link-macro-rx"></block> . La regolazione di questi non è tipicamente necessaria, poiché il ruolo di BeeGFS ha viene fornito con un certo numero di ben testati <block ref="62cb44c0555eaba8953c22f475d751a4" category="inline-link-macro-rx"></block>.</block>
  <block id="064f7cc76dc5afb2fb3aa165873ba871" category="list-text">Per ulteriori informazioni sulla configurazione di altri agenti di scherma, fare riferimento alla <block ref="1e76955e0560eaf6ce328d55fb062eeb" category="inline-link-macro-rx"></block>.</block>
  <block id="b611c6838bc0b80a5b542ae4d720301f" category="list-text">Il ruolo BeeGFS ha può applicare diversi parametri di tuning per ottimizzare ulteriormente le performance. Questi includono l'ottimizzazione dell'utilizzo della memoria del kernel e l'i/o dei dispositivi a blocchi, tra gli altri parametri. Il ruolo viene fornito con una serie ragionevole di <block ref="e3e5af180e2cd561ad9b935d8101ce4e" category="inline-link-macro-rx"></block> in base al test con i nodi di blocco NetApp E-Series, ma per impostazione predefinita questi non vengono applicati a meno che non si specifichi:</block>
  <block id="7353e78ee2c3bb2136aa1b29915ccf4b" category="list-text">Se necessario, specificare qui eventuali modifiche all'ottimizzazione predefinita delle prestazioni. Per ulteriori informazioni, consultare la documentazione completa <block ref="df0e33f301a426939663a0f2db36079c" category="inline-link-macro-rx"></block> .</block>
  <block id="37fa384fbce35691f87f5108b23924df" category="list-text">Specificare facoltativamente la configurazione da applicare a tutti i servizi BeeGFS nel cluster. È possibile trovare i valori di configurazione predefiniti <block ref="cb8aac20b4c821ca121d5c55cc4298ed" category="inline-link-macro-rx"></block>e specificare altrove la configurazione per servizio:</block>
  <block id="61eef27bde9b61db5c00501b13e855d5" category="list-text">Per le opzioni avanzate, fare riferimento all'elenco completo dei valori predefiniti inclusi nella <block ref="cf22ff8e76067e7f0eed610c434ec47d" category="inline-link-macro-rx"></block>.</block>
  <block id="5452bc376e228dbfc0b465054f2483c7" category="paragraph">Attualmente la versione in arrivo di<block ref="d21519b2c7af8ce90e382199384a8c06" prefix=" " category="inline-code"></block> fornita con le distribuzioni Linux supportate non supporta la virtualizzazione. È invece necessario installare e configurare la versione di<block ref="d21519b2c7af8ce90e382199384a8c06" prefix=" " category="inline-code"></block> da NVIDIA OpenFabrics Enterprise Distribution (OFED). Sebbene la distribuzione con Ansible sia ancora supportata, sono necessari alcuni passaggi aggiuntivi:</block>
  <block id="a7d969bead9b9df7cbb19855a88e29f0" category="list-text">Le performance di qualsiasi rete utilizzata per la comunicazione in cluster non sono critiche per le performance del file system. Con la configurazione predefinita del cluster in genere, almeno una rete a 1Gb GB/s fornirà prestazioni sufficienti per le operazioni del cluster, come la sincronizzazione degli stati dei nodi e il coordinamento delle modifiche dello stato delle risorse del cluster. Le reti lente/occupate possono richiedere più tempo del solito per le modifiche dello stato delle risorse e, in casi estremi, potrebbero causare l'eliminazione dei nodi dal cluster se non riescono a inviare heartbeat in un intervallo di tempo ragionevole.</block>
  <block id="b1c24e06350be92498850e67cc8d9f5b" category="inline-link-macro">Strumenti per la firma NVIDIA (MFT)</block>
  <block id="042d56fca47b68c93d438d4b1275b212" category="paragraph">Gli adattatori NVIDIA ConnectX-Virtual Protocol Interconnect&amp;reg; (VPI) supportano sia InfiniBand che Ethernet come layer di trasporto. Il passaggio da una modalità all'altra non viene negoziato automaticamente e deve essere configurato utilizzando<block ref="366fe119442ebda85ac564541700d0b5" prefix=" " category="inline-code"></block> lo strumento incluso in<block ref="a55706c70f646ff289a7f6fb8ddc1353" prefix=" " category="inline-code"></block>, un pacchetto open source che fa parte di <block ref="feedb9cf3a554ef170c48364196566a1" category="inline-link-macro-rx"></block>. La modifica della modalità degli adattatori deve essere eseguita una sola volta. Questa operazione può essere eseguita manualmente o inclusa nell'inventario Ansible come parte di qualsiasi interfaccia configurata utilizzando la<block ref="d6ca1855b29b160948694322764a86cb" prefix=" " category="inline-code"></block> sezione dell'inventario, per farla controllare/applicare automaticamente.</block>
  <block id="815feebb5e4cc6a260b0689a8647ef51" category="admonition">Quando si utilizzano i driver NVIDIA OFED, assicurarsi che beegfs_client_ofed_include_PATH punti al corretto "header include PATH" per l'installazione Linux. Per ulteriori informazioni, vedere la documentazione di BeeGFS per <block ref="a36a0245ff208157cbdf93cd51fc1311" category="inline-link-macro-rx"></block>.</block>
  <block id="fbe2ee36e5e515b0ea11d513d4edd60d" category="paragraph">La soluzione BeeGFS on NetApp ha verificato i nodi elencati di seguito.</block>
  <block id="6c3a6944a808a7c0bbb6788dbec54a9f" category="cell">Nodo</block>
  <block id="3c02a379965ab0dfcd77b1c484450433" category="cell">Hardware</block>
  <block id="e1e4c8c9ccd9fc39c391da4bcd093fb2" category="cell">Blocco</block>
  <block id="11eae0b95e61cd22a675ac3a648e9f79" category="cell">Sistema storage NetApp EF600</block>
  <block id="318d8d02c042e4aa8cd7ae129f0a339b" category="cell">Un array storage 2U all-NVMe ad alte performance progettato per i carichi di lavoro esigenti.</block>
  <block id="0b27918290ff5323bea1e3b78a9cf04e" category="cell">File</block>
  <block id="8c9b1d5381233aa78ea770058e6742e6" category="cell">Server Lenovo ThinkSystem SR665 V3</block>
  <block id="2a3586b2a3c3de10623ad3288a90f6dd" category="cell">Un server 2U a due socket con PCIe 5,0, due processori AMD EPYC 9124. Per ulteriori informazioni su Lenovo SR665 V3, vedere<block ref="7f25034611c942664d16f6d0ddb47fad" category="inline-link-rx"></block>.</block>
  <block id="ae1c04d15a9494b2729aa9280c0120fa" category="cell">Server Lenovo ThinkSystem SR665</block>
  <block id="d1c6fb9a2f602020b776764cc928e4c4" category="cell">Un server 2U a due socket con PCIe 4,0, due processori AMD EPYC 7003. Per ulteriori informazioni su Lenovo SR665, vedere<block ref="65dfa08d35b276d60d397ded9080ccd5" category="inline-link-rx"></block>.</block>
  <block id="62ecfeab471e0776b331e56e58d79d41" category="paragraph">I building block della soluzione (mostrati nella figura seguente) utilizzano i server dei nodi di file verificati per il livello di file BeeGFS e due sistemi storage EF600 come livello di blocchi.</block>
  <block id="f220d8966f97bec043102cd415b93605" category="paragraph">La soluzione BeeGFS su NetApp viene eseguita in tutti gli elementi di base dell'implementazione. Il primo building block implementato deve eseguire i servizi di gestione, metadati e storage di BeeGFS (noto come building block di base). Tutti i building block successivi possono essere configurati con il software per estendere metadati e servizi di storage o per fornire esclusivamente servizi storage. Questo approccio modulare consente di scalare il file system in base alle esigenze di un carico di lavoro utilizzando al tempo stesso le stesse piattaforme hardware sottostanti e il design a building block.</block>
  <block id="2cad05d70c2bc093824c9105ad50dc45" category="paragraph">È possibile implementare fino a cinque elementi di base per formare un cluster Linux ha autonomo. Ciò ottimizza la gestione delle risorse con pacemaker e mantiene una sincronizzazione efficiente con Corosync. Uno o più cluster ha BeeGFS standalone vengono combinati in modo da creare un file system BeeGFS accessibile ai client come namespace singolo di storage. Sul lato hardware, un singolo rack 42U può ospitare fino a cinque building block, insieme a due switch InfiniBand 1U GB per la rete storage/dati. Per una rappresentazione visiva, vedere la figura riportata di seguito.</block>
  <block id="a4186acf84c4a49d9d83b2b83544a1c8" category="admonition">Per stabilire il quorum nel cluster di failover sono necessari almeno due building block. Un cluster a due nodi presenta limitazioni che potrebbero impedire il corretto funzionamento del failover. È possibile configurare un cluster a due nodi incorporando un terzo dispositivo come tiebreaker; tuttavia, questa documentazione non lo descrive.</block>
  <block id="7531d1760bee1e64b20f1f8975ccfc87" category="paragraph">Ad esempio, la convenzione di denominazione<block ref="6171c77957e7dd932771522d0f5313aa" prefix=" " category="inline-code"></block> è simile a:<block ref="201b23a54c1ff68053f15f81feb28cbb" prefix=" " category="inline-code"></block>.</block>
  <block id="db94a118f0347e2dbe0ef8f3c0674d1f" category="paragraph">Ad esempio, un nodo di blocco denominato<block ref="ca9fd584227ff345bca2ef90d5c56e63" prefix=" " category="inline-code"></block> in genere può avere nomi host configurati per ogni controller come e , ma in un inventario Ansible come<block ref="86ee3de8557579a76634023aa5ccc100" prefix=" " category="inline-code"></block><block ref="32665fb108839c23a5db4a463e74176e" prefix=" " category="inline-code"></block><block ref="3d1a3866e5aadfdac8b0e07e6740b0fe" prefix=" " category="inline-code"></block>.</block>
  <block id="a0e2a91b693d9eb92fb3153f61dfe4fa" category="section-title">Schemi di indirizzamento IPoIB client-server BeeGFS</block>
  <block id="7f5258ce731ddb14570317599b9962d9" category="list-text">I servizi di archiviazione BeeGFS sono sempre a<block ref="7bda92dd6fa15b04835e990fcef5c6f7" prefix=" " category="inline-code"></block> o<block ref="0dc2ee6e17afcd7bafe09a4e99667f35" prefix=" " category="inline-code"></block>.</block>
  <block id="888c436af0d0f519ac3018d0df7868cd" category="section-title">Schema di indirizzamento a singola subnet IPoIB</block>
  <block id="c9923a234c7bd25e331582479a38a503" category="inline-link-macro">architettura del software</block>
  <block id="9159781ab55be88f1f26fb2b8e4e7420" category="paragraph">Questa guida alla distribuzione utilizza un unico schema di subnet, dati i vantaggi elencati nella <block ref="2504f4d58c8f68628557b72cf70af5b4" category="inline-link-macro-rx"></block>.</block>
  <block id="8474461676c84fa210da74bbd55e916d" category="paragraph-title">Subnet: 100.127.0.0/16</block>
  <block id="e7e7c18d006d81c97d299954457c88f1" category="paragraph">La seguente tabella fornisce l'intervallo per una singola subnet: 100.127.0.0/16.</block>
  <block id="039d7982c08566a6ae03eaa24cb6c670" category="cell">i1b o i4b</block>
  <block id="56fd2b46f686fb44565e25ca28a93fc0" category="cell">100.127.102.0</block>
  <block id="437dac4e62a043183f68652e142fc4a3" category="cell">100.127.102.1 - 100.127.102.255</block>
  <block id="031082c8b0090f55cf416fb5aa46e723" category="cell">100.127.104.1 - 100.127.104.255</block>
  <block id="2cc4767a51c5d45fecfa3be2bb68037c" category="section-title">Schema di indirizzamento a due subnet IPoIB</block>
  <block id="e1c71427409ff54c1742cb28f621dcd5" category="paragraph">Uno schema di indirizzamento a due subnet non è più consigliato, ma può ancora essere implementato. Fare riferimento alle tabelle seguenti per uno schema di due subnet consigliato.</block>
  <block id="29ebd98b5bc8daaac03bfdeefabf090e" category="admonition">Se si implementa con uno schema di indirizzamento a due subnet, è necessario configurare due interfacce InfiniBand su ogni client, una in ciascuna delle due subnet IPoIB di storage. Se si utilizzano le sottoreti di esempio e gli intervalli consigliati per ogni servizio BeeGFS qui elencato, i client devono avere un'interfaccia configurata nell'intervallo<block ref="0c41ff65aa6ae425a8c58863fcb3cef5" prefix=" " category="inline-code"></block> da a e l'altra in fino a<block ref="b4e6b2ab9469bd0c90a8b83c8ebc175f" prefix=" " category="inline-code"></block><block ref="ee8ceb74abe0adf268a6f4a36c7735d9" prefix=" " category="inline-code"></block><block ref="4a52c6bf091e6a4cd2fd08fa070352e3" prefix=" " category="inline-code"></block>.</block>
  <block id="6dc47c91cdf35bbb7cac1fd9e1ff29d7" category="admonition">Quando si utilizzano i driver NVIDIA OFED, assicurarsi che<block ref="f24d21b8b47b3902162911c8595514e9" prefix=" " category="inline-code"></block> punti al corretto "header include path" per l'installazione Linux. Per ulteriori informazioni, vedere la documentazione di BeeGFS per<block ref="ad551773fffeead9219b565416da2397" category="inline-link-rx"></block>.</block>
  <block id="ba9cd5a8827de277f30213c3a9f74d65" category="list-text">Scegliere uno schema di indirizzi di sottorete per la distribuzione. A causa dei vantaggi elencati nella <block ref="2504f4d58c8f68628557b72cf70af5b4" category="inline-link-macro-rx"></block>, si consiglia di utilizzare uno schema di indirizzamento a subnet singola.</block>
  <block id="c9e946c487cb8ab99c1f1b0c16839f91" category="list-text">Configurare un agente di scherma. (Per ulteriori informazioni, vedere<block ref="36285c27b4e0cfacce4f264137f7dfc3" category="inline-link-rx"></block>.) Il seguente output mostra esempi di configurazione di agenti di scherma comuni. Scegliere una di queste opzioni.</block>
  <block id="90fd7614ddbcf02d5873d67a7e08983a" category="paragraph">Per un elenco completo dei parametri di ottimizzazione disponibili che è possibile regolare, vedere la sezione Impostazioni predefinite prestazioni del ruolo BeeGFS ha in<block ref="88ca1124cd8a9bf4401c9daba82c5025" category="inline-link-rx"></block>. I valori predefiniti possono essere sovrascritti per tutti i nodi nel cluster in questo file o per il<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> file di un singolo nodo.</block>
  <block id="75d34bd8c0a1081d52b926e7b1b60689" category="inline-link-macro">requisiti dei nodi file</block>
  <block id="3762dd806b1df772618c9caeb19d9d43" category="list-text">Per consentire la connettività 200GB/HDR completa tra nodi di blocco e file, utilizzare il pacchetto Open Subnet Manager (opensm) di NVIDIA Open Fabrics Enterprise Distribution (MLNX_OFED). La versione MLNX_OFED in elenco <block ref="1dfb967627cb2f0e7f82d8713fd73b4c" category="inline-link-macro-rx"></block> viene fornita con i pacchetti opensm consigliati. Sebbene l'implementazione tramite Ansible sia supportata, è necessario prima installare il driver MLNX_OFED su tutti i nodi di file.</block>
  <block id="c113a52851d26cf252ec05ac9628162e" category="list-text">Scaricare e installare il firmware dell'unità più recente disponibile per le unità installate nei nodi di blocco dal<block ref="df4241174f74102a38fc34a378114b68" category="inline-link-rx"></block>. È possibile aggiornarli manualmente o includerli nella<block ref="93501a11e921083efbd154e0cdff5f10" prefix=" " category="inline-code"></block> directory del nodo di controllo Ansible, quindi popolare i seguenti parametri nel<block ref="79d2514d0f856ef18e58ebf8b9716d05" prefix=" " category="inline-code"></block> per l'aggiornamento utilizzando Ansible:</block>
  <block id="a94e8f341d41dc36ead41bc0876ad6b6" category="cell">i1b:100.127.101.1/16 i2b:100.127.102.1/16</block>
  <block id="3d1a3866e5aadfdac8b0e07e6740b0fe" category="cell">netapp_01</block>
  <block id="ceff1390fad555137a9e76549f5c5c35" category="cell">i2b:100.127.102.2/16 i1b:100.127.101.2/16</block>
  <block id="4261093cdb58c46bcef081c2a8d50a22" category="cell">i3b:100.127.101.3/16 i4b:100.127.102.3/16</block>
  <block id="ae9471dd5ddb2f7bbf73f8df6d11ea8d" category="cell">netapp_02</block>
  <block id="6a4b726f26d557d3d41580df69e5f52c" category="cell">i4b:100.127.102.4/16 i3b:100.127.101.4/16</block>
  <block id="3468e3b520debc18497bb043da48a402" category="cell">i1b:100.127.101.5/16 i2b:100.127.102.5/16</block>
  <block id="661d119659a3196ad4ea3cd776db51f9" category="cell">i2b:100.127.102.6/16 i1b:100.127.101.6/16</block>
  <block id="5e4915a0b5172fe24086c6612e459a18" category="cell">i3b:100.127.101.7/16 i4b:100.127.102.7/16</block>
  <block id="d4255115c2508bc18adb598c6fb0b827" category="cell">i4b:100.127.102.8/16 i3b:100.127.101.8/16</block>
  <block id="8d05d453ff97ca9e3418e1655244d8d5" category="cell">i1b:100.127.103.1/16 i2b:100.127.104.1/16</block>
  <block id="f012b1a2bc162eecafcb880e45d300b3" category="cell">i2b:100.127.104.2/16 i1b:100.127.103.2/16</block>
  <block id="92947a5a536c1c49f8a56988362e49f9" category="cell">i3b:100.127.103.3/16 i4b:100.127.104.3/16</block>
  <block id="0b566e0d0703bad78bbac23313f53279" category="cell">i4b:100.127.104.4/16 i3b:100.127.103.4/16</block>
  <block id="d424257a0c5e62d3b63dc54431955dbb" category="cell">i1b:100.127.103.5/16 i2b:100.127.104.5/16</block>
  <block id="261805237e27c4db09ed2709c5b4ee1d" category="cell">i2b:100.127.104.6/16 i1b:100.127.103.6/16</block>
  <block id="85dab52b55c7182f1c63b93086d2f9ba" category="cell">i3b:100.127.103.7/16 i4b:100.127.104.7/16</block>
  <block id="4c348e39f74a16c489df29edbf00971e" category="cell">i4b:100.127.104.8/16 i3b:100.127.103.8/16</block>
  <block id="aaaaf06756bef5b0c236a0c7e8a41d11" category="cell">i1b:100.127.101.9/16 i2b:100.127.102.9/16</block>
  <block id="017d565d10fb6b2886e9ca05b035e9a9" category="cell">netapp_03</block>
  <block id="39496d413f74d010a0d1b0c2e9ccce4e" category="cell">i2b:100.127.102.10/16 i1b:100.127.101.10/16</block>
  <block id="6a413ad3d1000df8b4efef19a8814dce" category="cell">i3b:100.127.101.11/16 i4b:100.127.102.11/16</block>
  <block id="c5c0f84cd4efb77f7e5e98b314d5b73f" category="cell">netapp_04</block>
  <block id="e9be3165e6fc46ba149605e78b46fa81" category="cell">i4b:100.127.102.12/16 i3b:100.127.101.12/16</block>
  <block id="f3f421c2e886c62a1aec7be061c685b2" category="cell">i1b:100.127.101.13/16 i2b:100.127.102.13/16</block>
  <block id="ed8c3ab02a44fc84902022ddcb5fabe8" category="cell">i2b:100.127.102.14/16 i1b:100.127.101.14/16</block>
  <block id="1920edec824c590f137b449a0443311a" category="cell">i3b:100.127.101.15/16 i4b:100.127.102.15/16</block>
  <block id="73a812d8e4ab9aeff521f90df25f5e23" category="cell">i4b:100.127.102.16/16 i3b:100.127.101.16/16</block>
  <block id="d3ff883be9e23adf4e03697eb2b136f5" category="cell">i1b:100.127.103.9/16 i2b:100.127.104.9/16</block>
  <block id="6db8aa9802df58c38910ed6abe1ba11e" category="cell">i2b:100.127.104.10/16 i1b:100.127.103.10/16</block>
  <block id="0e507490f78723195265893fc3dd4a5b" category="cell">i3b:100.127.103.11/16 i4b:100.127.104.11/16</block>
  <block id="32ac4e07dd77b430c6297e3e8799efd2" category="cell">i4b:100.127.104.12/16 i3b:100.127.103.12/16</block>
  <block id="f82dba07589e57dfcaf71442a7d0cd71" category="cell">i1b:100.127.103.13/16 i2b:100.127.104.13/16</block>
  <block id="39c7f24708288668c898771cebf44864" category="cell">i2b:100.127.104.14/16 i1b:100.127.103.14/16</block>
  <block id="28800e3773b860f61c7a9b36b316ed98" category="cell">i3b:100.127.103.15/16 i4b:100.127.104.15/16</block>
  <block id="ce02872e166a5cf80f50cd4385d0d192" category="cell">i4b:100.127.104.16/16 i3b:100.127.103.16/16</block>
  <block id="e8ed9c2d9c49ed0524af7cf1d12ba639" category="cell">i1b:100.127.103.17/16 i2b:100.127.104.17/16</block>
  <block id="63e36b5f8b91c5859b9a169198da7feb" category="cell">netapp_05</block>
  <block id="caf800dba53971258bebfcd9348ac486" category="cell">i2b:100.127.104.18/16 i1b:100.127.103.18/16</block>
  <block id="7b25c9239b1b161705c2cb1b81a33c4a" category="cell">i3b:100.127.103.19/16 i4b:100.127.104.19/16</block>
  <block id="b9fc71cc5ff86544747cf2b210fbab78" category="cell">netapp_06</block>
  <block id="41510e449bb0d73d0aa0a826b53e7866" category="cell">i4b:100.127.104.20/16 i3b:100.127.103.20/16</block>
  <block id="0b2d0578110fe19b63e28d0502beb0c8" category="cell">i1b:100.127.103.21/16 i2b:100.127.104.21/16</block>
  <block id="30b35cb26fde8fb49ebb562dd442913e" category="cell">i2b:100.127.104.22/16 i1b:100.127.103.22/16</block>
  <block id="864d7d5e08731a767f391f837e7ef23e" category="cell">i3b:100.127.103.23/16 i4b:100.127.104.23/16</block>
  <block id="2c1d9121314a70e0d2a2ba89aec6fc0e" category="cell">i4b:100.127.104.24/16 i3b:100.127.103.24/16</block>
  <block id="254542384d1213a7d51adea301584149" category="paragraph">Stato P.</block>
  <block id="50d1288a06e5d81d403b256e91757cd8" category="paragraph">I seguenti passaggi sono identici per ogni building block nel cluster, indipendentemente dal fatto che venga utilizzato per eseguire sia metadati BeeGFS che servizi di storage o solo servizi di storage, a meno che non sia diversamente specificato.</block>
  <block id="2420c82686a86123afa7fb56270ebdba" category="list-text">Impostare ciascun nodo di file BeeGFS con quattro host Channel Adapter (HCA) utilizzando i modelli specificati nella <block ref="786d34f336ab7f462feb4fe8776c8670" category="inline-link-macro-rx"></block>. Inserire gli HCA negli slot PCIe del nodo file in base alle seguenti specifiche:</block>
  <block id="655bb8c05d377bb94fdb062b9b431c69" category="list-text">*Lenovo ThinkSystem SR665 V3 Server:* utilizza gli slot PCIe 1, 2, 4 e 5.</block>
  <block id="79d10643d6c05fba16a1207303e6a6c0" category="list-text">*Lenovo ThinkSystem SR665 Server:* utilizza gli slot PCIe 2, 3, 5 e 6.</block>
  <block id="32bf9d61588971ac8df90b5b33ea1a67" category="paragraph">Rack dei blocchi in modo che i due nodi di file BeeGFS si trovino sopra i nodi di blocco BeeGFS. La figura seguente mostra la configurazione hardware corretta per il building block BeeGFS utilizzando i server Lenovo ThinkSystem SR665 V3 come nodi file (vista posteriore).</block>
  <block id="43c3123c89f5e279387f5f5375ace233" category="inline-link-macro">1m cavi in rame con collegamento diretto HDR 200GB InfiniBand</block>
  <block id="3c75c93f121f7b2c649fd946b1a935cf" category="list-text">Collegare i nodi di blocco e di file utilizzando <block ref="c748126fd5b6f4c3728762b1ce9f2698" category="inline-link-macro-rx"></block>, in modo che corrispondano alla topologia mostrata nella figura seguente.</block>
  <block id="be01bbade44d01019fcef77af9fc26e5" category="inline-link-macro">2m cavi InfiniBand</block>
  <block id="df8ecd3c13ed9e59d88fa90e10bcc47f" category="list-text">Collegare le restanti porte InfiniBand sul file node allo switch InfiniBand della rete di storage tramite lo specifico switch InfiniBand <block ref="661a89e8980e34439324f4cc2c4b1743" category="inline-link-macro-rx"></block> storage.</block>
  <block id="8e4e4dc9d710c035afcec16817c6b5a3" category="paragraph">Quando si utilizzano cavi splitter per collegare lo switch di archiviazione ai nodi file, un cavo deve diramarsi dallo switch e connettersi alle porte indicate in verde chiaro. Un altro cavo splitter deve diramarsi dallo switch e collegarsi alle porte indicate in verde scuro.</block>
  <block id="5059e1c6d859e6d2e881b28d0a939639" category="paragraph">Inoltre, per le reti di storage con switch ridondanti, le porte indicate in verde chiaro devono essere collegate a uno switch, mentre le porte in verde scuro devono essere collegate a un altro switch.</block>
  <block id="2b2607ba10759a35b672629d844a4bfc" category="paragraph">Per applicare la configurazione descritta dall'inventario Ansible, utilizza i vari ruoli e moduli Ansible forniti nella raccolta NetApp E-Series Ansible, in particolare il ruolo BeeGFS ha 7,4 (disponibile dal<block ref="e65da35b507a01fbe5db4a35e8ffaf77" category="inline-link-rx"></block>) che implementa la soluzione end-to-end.</block>
  <block id="a3dbff02e88e9e804d80d00706cede6c" category="paragraph">Ansible consente ad aziende come NetApp di espandere le funzionalità integrate utilizzando le raccolte su Ansible Galaxy (vedere<block ref="09c3689692686597c3ced866c6122b6c" category="inline-link-rx"></block>). Le raccolte includono moduli che eseguono alcune funzioni o attività specifiche (come la creazione di un volume e-Series) e includono ruoli che possono chiamare più moduli e altri ruoli. Questo approccio automatizzato riduce il tempo necessario per implementare il file system BeeGFS e il cluster ha sottostante. Inoltre, semplifica l'aggiunta di building block per espandere i file system esistenti.</block>
  <block id="8bf028bec7411a5f58e9f6c9cdcb868c" category="paragraph">I seguenti passaggi sono stati testati su Ubuntu 22,04. Per i passaggi specifici della distribuzione Linux preferita, vedere<block ref="34c856f227a1cab1577af9d235784d24" category="inline-link-rx"></block>.</block>
  <block id="6beebf7e29f7e6b87bb0cfa8afb3d664" category="list-text">Installare Python 3,10 e assicurarsi che sia installata la versione corretta di<block ref="62ad1c2a46c5298f3e2c95d3babf8d0c" prefix=" " category="inline-code"></block> .</block>
  <block id="e709eaee39c1c94ce2b784ef354857f3" category="list-text">Creare collegamenti simbolici, assicurandosi che il binario Python 3,10 venga utilizzato ogni volta che<block ref="6e8efbe3a442748b716644025479aab5" prefix=" " category="inline-code"></block> viene chiamato o<block ref="23eeeb4347bdd26bfc6b7ee9a3b755dd" prefix=" " category="inline-code"></block> .</block>
  <block id="0f7c31137702c2d677a474d55058637d" category="paragraph">Per informazioni su come configurare la rete per i nodi file Lenovo SR665 V3 convalidati, vedere la<block ref="05277b4b7d004e546ac1f238e66dd4bf" category="inline-link-rx"></block>.</block>
  <block id="b8d06d76e2eaa67bfafbce3081ab48f5" category="list-text">Installare Red Hat 9.3 e configurare il nome host e la porta di rete utilizzati per gestire il sistema operativo, inclusa la connettività SSH dal nodo di controllo Ansible.</block>
  <block id="7568449700f7c3e03b4500285c69b82f" category="list-text">USA RedHat Subscription Manager per registrare e sottoscrivere il sistema per consentire l'installazione dei pacchetti richiesti dai repository ufficiali di Red Hat e per limitare gli aggiornamenti alla versione supportata di Red Hat:<block ref="085c7e75df5d271759849f369fa065a7" prefix=" " category="inline-code"></block>. Per istruzioni, vedere<block ref="2e2e1be81972e19947d90393d5319b6e" category="inline-link-rx"></block> e <block ref="bbd834e2960f33a50fb102fd4d31a6d9" category="inline-link-rx"></block>.</block>
  <block id="00d3e1c43b2f440233b2874bbe49a236" category="list-text">Aggiornare tutto il firmware HCA alla versione consigliata in <block ref="27ecbcefd12957257b84a6d4c5608591" category="inline-link-macro-rx"></block>.</block>
  <block id="313520f5b6c2887466092680afb5d057" category="paragraph">Questo aggiornamento può essere eseguito scaricando ed eseguendo una versione del tool mlxup che integra il firmware consigliato. È possibile scaricare questo strumento da<block ref="d22fd7ba0031fc3b862dce4cf129cfa5" category="inline-link-rx"></block> (<block ref="0efbaca172e58edf29b612ba47aac915" category="inline-link-macro-rx"></block>).</block>
  <block id="b52d8b061d9ea3d197fbe8093a3eec3f" category="admonition">Quando si utilizzano cavi splitter per collegare lo switch di archiviazione ai nodi file, un cavo deve diramarsi e connettersi alle porte indicate in verde chiaro. Un altro cavo dovrebbe diramarsi e collegarsi alle porte delineate in verde scuro. Inoltre, per le reti di storage con switch ridondanti, le porte indicate in verde chiaro devono essere collegate a uno switch, mentre le porte in verde scuro devono essere collegate a un altro switch.</block>
  <block id="dcc608d1c76fed74a96f75915bc6561f" category="paragraph">Per sfruttare l'intera larghezza di banda bidirezionale PCIe, assicurarsi che una porta di ciascun adattatore InfiniBand si colleghi al fabric di storage e l'altra porta si colleghi a un nodo a blocchi.</block>
  <block id="0a31efbdaa47f7da5564c0e43b03e7ea" category="paragraph">È possibile ignorare le impostazioni predefinite per i parametri di configurazione in base alle esigenze. Per i parametri che è possibile regolare per carichi di lavoro specifici o casi di utilizzo, vedere la<block ref="986eca0f3f99dd3e8d8640fddbc137d2" category="inline-link-rx"></block>.</block>
  <block id="11a09874ac1f09275ccc827cbc44353e" category="paragraph">Per i parametri che è possibile regolare per carichi di lavoro specifici o casi di utilizzo, vedere la<block ref="0ea07919cef6ebe8518c59fc238308fd" category="inline-link-rx"></block>.</block>
  <block id="4d8ee2002969aa8084ace10838f40531" category="list-text">*Impostazioni di sistema nel sistema operativo Linux installato sui nodi dei file.* È possibile ignorare le impostazioni predefinite del sistema operativo Linux quando si crea l'inventario Ansible nel passaggio 4 di <block ref="dbbcb9482f49ee969cddb7f10864cbd0" category="inline-link-macro-rx"></block>.</block>
  <block id="f9a2fc1e1676d37df014ebfbdfa9a90d" category="paragraph">È possibile aumentare la dimensione massima della richiesta di lettura per gli HCA NVIDIA.</block>
  <block id="163d5c0f8034e540888104ef4ded6727" category="list-text">*La configurazione multi-rail del client BeeGFS* _Multi-rail_ si riferisce alla capacità di un'applicazione di utilizzare più connessioni di rete indipendenti, o "rails", per aumentare le prestazioni.</block>
  <block id="8d2644ad58bcbab1442816a77a82fefb" category="paragraph">BeeGFS implementa il supporto multi-rail per consentire l'utilizzo di più interfacce IB in una singola subnet IPoIB. Questa funzionalità consente di abilitare funzioni come il bilanciamento dinamico del carico sulle schede di rete RDMA, ottimizzando l'utilizzo delle risorse di rete. Si integra anche con NVIDIA GPUDirect Storage (GDS), che offre una maggiore larghezza di banda del sistema e riduce la latenza e l'utilizzo sulla CPU del client.</block>
  <block id="992c3cb2d0c5be332151afe6ab4d5005" category="paragraph">Questa documentazione fornisce istruzioni per le configurazioni di singole subnet IPoIB. Sono supportate configurazioni di subnet IPoIB doppie, ma non offrono gli stessi vantaggi delle configurazioni di subnet singola.</block>
  <block id="2d861baf986f6a35c479d15a72c8284c" category="paragraph">La progettazione del cluster ha si basa su due progetti Linux ha ampiamente utilizzati: Corosync per l'appartenenza al cluster e Pacemaker per la gestione delle risorse del cluster. Per ulteriori informazioni, vedere<block ref="0a03558b42ce04f55d37553193f6d76f" category="inline-link-rx"></block>.</block>
  <block id="9d550842e04b4f253a1d3e7bb3297890" category="paragraph">I building block erano collegati a due switch NVIDIA Quantum InfiniBand (MQM8700). Dieci client BeeGFS sono stati collegati anche agli switch InfiniBand e utilizzati per eseguire utility di benchmark sintetiche.</block>
  <block id="16e30c156c86a2bc6240a20ed7b6fdc4" category="section-title">Convalida NVIDIA DGX SuperPOD e BasePOD</block>
  <block id="40fa362dda8b4d271b61c38987bd5131" category="paragraph">NetApp ha validato una soluzione di storage per NVDIA DGX A100 SuperPOD utilizzando un file system BeeGFS simile costituito da tre blocchi di base con i metadati e il profilo di configurazione dello storage applicato. Il lavoro di qualificazione ha comportato il test della soluzione descritta da questo NVA con venti server GPU DGX A100 che eseguono una varietà di storage, machine learning e benchmark di deep learning. Sulla base della convalida stabilita con DGX A100 SuperPOD di NVIDIA, la soluzione BeeGFS su NetApp è stata approvata per i sistemi DGX SuperPOD H100, H200 e B200. Questa estensione si basa sul rispetto dei benchmark e dei requisiti di sistema precedentemente stabiliti, validati con NVIDIA DGX A100.</block>
  <block id="21b6d1b90774505daa15a9be831436a9" category="inline-link-macro">guida alla progettazione</block>
  <block id="1cba1266f00c729aee1318803f870d22" category="list-text">Architettura progettata per i sistemi NVIDIA DGX SuperPOD A100, H100, H200 e B200, precedentemente validata in un cluster di accettazione dedicato di NVIDIA. Ulteriori informazioni su NVIDIA DGX SuperPOD with NetApp nel <block ref="e98320202738eb339bebe66cbb05ad8f" category="inline-link-macro-rx"></block>.</block>
  <block id="8c044876bfc8883462e221a47dd42483" category="paragraph">La seconda generazione di BeeGFS su NetApp è ottimizzata per soddisfare i requisiti di performance dei carichi di lavoro esigenti, tra cui high-performance computing (HPC), machine learning (ML), deep learning (DL) e altre tecniche di intelligenza artificiale (ai). Grazie all'integrazione di un'architettura ha (High Availability, alta disponibilità) a disco condiviso, questo design garantisce la durata e la disponibilità dei dati, rendendoli ideali per le aziende e altre organizzazioni che non possono permettersi downtime o perdite di dati. Il design di seconda generazione include componenti quali i server PCIe Gen5 e il supporto per gli switch NVIDIA® Quantum™ InfiniBand da QM9700 400GB GB/s. Questa soluzione non solo è stata verificata da NetApp, ma ha anche superato la qualifica esterna come opzione di storage per NVIDIA DGX™ A100 SuperPOD, con certificazione estesa per i sistemi DGX SuperPOD H100, H200 e B200.</block>
  <block id="10ca191b839b35e5100464ff59b95b97" category="paragraph">La prima generazione di BeeGFS su NetApp è stata progettata per i workload di machine learning (ML) e intelligenza artificiale (ai) utilizzando i sistemi di storage NVMe NetApp EF600, il file system parallelo BeeGFS, i sistemi NVIDIA DGX™ A100 e gli switch IB NVIDIA® Mellanox® Quantum™ QM8700 200GB/s. Questo design include anche InfiniBand (IB) a 200GB GB/s per il fabric di interconnessione del cluster di storage e calcolo, per offrire un'architettura completamente basata su IB per workload a performance elevate.</block>
  <block id="aef5a6ba281c6919d0a3e3ff7d8feaf3" category="section-title">Panoramica del progetto</block>
  <block id="a1d7af56cbcfca285cd257ae3430a2d3" category="inline-link-macro">panoramica dell'architettura</block>
  <block id="61dd8d13bec6e1ac3455eb2e13d61261" category="paragraph">La soluzione BeeGFS su NetApp è progettata come un'architettura a building block scalabile, configurabile per una vasta gamma di carichi di lavoro esigenti. Che si tratti di molti file di piccole dimensioni, della gestione di operazioni sostanziali di file di grandi dimensioni o di un carico di lavoro ibrido, il file system può essere personalizzato in base a tali esigenze. L'alta disponibilità è integrata nel progetto con l'utilizzo di una struttura hardware a due livelli che consente il failover indipendente a più livelli hardware e garantisce prestazioni costanti, anche durante il degrado parziale del sistema. Il file system BeeGFS consente di creare un ambiente scalabile e ad alte prestazioni in diverse distribuzioni Linux e presenta ai client un unico spazio dei nomi di storage facilmente accessibile. Per ulteriori informazioni, vedere <block ref="45037eea1e64b480408f051dfe424a3c" category="inline-link-macro-rx"></block>.</block>
  <block id="ddf44cacce7787e9c71d290998a2d033" category="list-text">Sistemi NVIDIA DGX SuperPOD dotati di DGX con GPU A100, H100, H200 e B200.</block>
  <block id="bcaa6be52b9fd12687892056d441d7e4" category="paragraph">Per implementare la soluzione BeeGFS su NetApp, accertatevi che l'ambiente soddisfi i requisiti tecnologici descritti nel presente documento.</block>
  <block id="7bf6b11b50ef88e180323b13813659d7" category="paragraph">Prima di iniziare, assicurarsi che l'hardware soddisfi le seguenti specifiche per una singola progettazione di building block di seconda generazione della soluzione BeeGFS su NetApp. I componenti esatti per una particolare implementazione possono variare in base alle esigenze del cliente.</block>
  <block id="694e8d1f2ee056f98ee488bdc4982d73" category="cell">Quantità</block>
  <block id="d065c203a4b9103e8896c456d35cceea" category="paragraph">Ciascun nodo file deve soddisfare o superare le specifiche dei nodi file consigliati per raggiungere le prestazioni previste.</block>
  <block id="fbb1fad3a6f7d3538a8a1f8e9b6f1f08" category="paragraph">*Opzioni del nodo file consigliate:*</block>
  <block id="5be994ecb912a7fb7448cc05f90afcf7" category="list-text">*Lenovo ThinkSystem SR665 V3*</block>
  <block id="c0c1df1f325217c6fa04ce4c03ba875a" category="list-text">*Processori:* 2x AMD EPYC 9124 16C 3,0 GHz (configurato come due zone NUMA).</block>
  <block id="e679361e60a219fe470d3ddb1f34a7d7" category="list-text">*Memoria:* 256GB GB (16x 16GB TruDDR5 4800MHz RDIMM-A)</block>
  <block id="9946d99f0bd7932556af9646233dd2e8" category="list-text">*Espansione PCIe:* quattro slot PCIe Gen5 x16 (due per zona NUMA)</block>
  <block id="accd99f82c9ad3f026edd29ae4aaa9d8" category="list-text">Due unità in RAID 1 per il sistema operativo (SATA da 1TB 7,2K TB o superiore)</block>
  <block id="c618fd1e9213f6ba6e4961e3d1165110" category="list-text">Porta 1GbE per la gestione del sistema operativo in banda</block>
  <block id="db812d54d604d8c71ffd5e4be563e3e5" category="list-text">1GbE BMC con API Redfish per la gestione fuori banda dei server</block>
  <block id="15cf8b6d2674b1d9c9b0383ecfee8929" category="list-text">Doppi alimentatori hot swap e ventole ad alte prestazioni</block>
  <block id="1fb2f6fd0ecd0371486e7642b03c5dee" category="list-text">*Lenovo ThinkSystem SR665*</block>
  <block id="78cbac434e403c43ef215a8541f8e62a" category="list-text">*Processori:* 2x AMD EPYC 7343 16C 3,2 GHz (configurato come due zone NUMA).</block>
  <block id="634d6174b88e5856171cb65f69c870d6" category="list-text">*Memoria:* 256GB GB (16x 16GB TruDDR4 3200MHz RDIMM-A)</block>
  <block id="7d381836b9e0d0145f8901a9e826a329" category="list-text">*Espansione PCIe:* quattro slot PCIe Gen4 x16 (due per zona NUMA)</block>
  <block id="1e36a3ec484f8d613eabadcfb7010a41" category="paragraph">Gli adattatori della scheda host variano in base al modello di server utilizzato per il nodo file. I consigli per i nodi file verificati includono:</block>
  <block id="22d9c94f9f4ead6ee028aeb105c59845" category="list-text">*Lenovo ThinkSystem SR665 V3 Server:*</block>
  <block id="6ea32d47808c9a0a8b4ad8ce7c3d46a8" category="list-text">MCX755106AS-HEAT ConnectX-7, NDR200, QSFP112, 2 porte, PCIe Gen5 x16, adattatore InfiniBand</block>
  <block id="2f02d951d56eb9f3451bbc826c3e8750" category="list-text">*Lenovo ThinkSystem SR665 Server:*</block>
  <block id="a6db2cf27367b5061d9dcb3d029e4836" category="list-text">MCX653106A-HDAT ConnectX-6, HDR, QSFP-56, 2 porte, PCIe Gen4 x16, adattatore InfiniBand</block>
  <block id="b74051cf2ad1a189f8a05453712ca47a" category="cell">Switch della rete di storage</block>
  <block id="abf33d394022ed774955ca8b4e892340" category="paragraph">Lo switch della rete storage deve essere in grado di raggiungere velocità InfiniBand da 200GB GB/s. I modelli di interruttori consigliati includono:</block>
  <block id="d7405c22a666ad0d0cb249c209ed8a2a" category="list-text">*NVIDIA QM9700 Quantum 2 NDR InfiniBand switch*</block>
  <block id="8371ac7bb43cddb78635bb02c4ecf477" category="list-text">*NVIDIA MQM8700 Quantum HDR InfiniBand switch*</block>
  <block id="118d935cca54466f59122caecfde09ad" category="section-title">Requisiti di cablaggio</block>
  <block id="1fe3c9d0657c143dd35fa09974da425b" category="cell">Codice ricambio</block>
  <block id="ba2a9c6c8c77e03f83ef8bf543612275" category="cell">Lunghezza</block>
  <block id="c3fc989bc0ee89bd4f833252b93ae9fc" category="cell">MCP1650-H001E30 (cavo in rame passivo NVIDIA, QSFP56, 200GB/s)</block>
  <block id="9859011cc78b3687689e719ce0d111a5" category="cell">1 m</block>
  <block id="e71a6bc9da9d285c521501e596936972" category="cell">Modello di switch</block>
  <block id="6fd115591b61cfe21f37443a0afb71e0" category="cell">Tipo di cavo</block>
  <block id="0f0a45940e8946022b971d4ccdf6154e" category="cell">NVIDIA QM9700</block>
  <block id="a87ff679a2f3e71d9181a67b7542122c" category="cell">4</block>
  <block id="979ceabbdb73904b7beec8a0d58c32b8" category="cell">Fibra attiva</block>
  <block id="270f13016300dfe6e2fe7c681978bef9" category="cell">MFA7U10-H002 (cavo NVIDIA per fibra attiva, InfiniBand da 400GB GB/s a 2x 200GB GB/s, OSFP a 2x QSFP56)</block>
  <block id="f629de18a131cfa25b9f36ef4690fc92" category="cell">Rame passivo</block>
  <block id="bebb3995ccd5809442d1bb1bc0a25e3a" category="cell">MCP7Y60-H002 (cavo in rame passivo NVIDIA, da InfiniBand 400GB GB/s a 2x 200GB GB/s, da OSFP a 2x QSFP56)</block>
  <block id="f3b15dfb9c8e8d6298034f5cc32a59cd" category="cell">NVIDIA MQM8700</block>
  <block id="30657be0f3a2fdc8c171bce10af72efc" category="cell">MFS1S00-H003E (cavo NVIDIA in fibra attiva, InfiniBand 200GB GB/s, QSFP56 m)</block>
  <block id="c1850fdcdcbbaf2fb48f3055382d5a41" category="cell">MCP1650-H002E26 (cavo in rame passivo NVIDIA, InfiniBand 200GB GB/s, QSFP56 m)</block>
  <block id="0db451285b4ab90f8e6012dfd8f0d190" category="paragraph">RedHat 9.3 Server Physical con alta disponibilità (2 socket).</block>
  <block id="099646c88bdb63cce0ec389f4c842fed" category="cell">5.14.0-362.24.1.el9_3.x86_64</block>
  <block id="de4e152f23f311bbd0da3bd3cc07390d" category="cell">MLNX_OFED_LINUX-23,10-3,2.2,0-LTS</block>
  <block id="8c21a74db8c25bd18866fe78a889642f" category="paragraph">Firmware HCA</block>
  <block id="cf135b5c065c2f500279337fc59c78ac" category="paragraph">*ConnectX-7 HCA firmware* FW: 28.39.1002 + PXE: 3.7.0201 + UEFI: 14.32.0012</block>
  <block id="932d22339e7f2f10a02d7bf453b85501" category="paragraph">*ConnectX-6 HCA firmware* FW: 20.31.1014 + PXE: 3.6.0403 + UEFI: 14.24.0013</block>
  <block id="41d49156a74390ee5d03e3516c1dca6b" category="cell">11.80.0</block>
  <block id="36744b059ba2d833befd7109b0ba5167" category="cell">N6000-880834-D08.dlp</block>
  <block id="141a8d7da406be785ba26084a46e1c00" category="cell">7.4.4</block>
  <block id="92f9c52d96ebf7ac8dc2f41e6e11647a" category="cell">3.1.5-4</block>
  <block id="c60a2cf4eb7f8efdd97013c9acb1f45b" category="cell">2.1.4-5</block>
  <block id="a1a2ed259d1be22e6373097baea242eb" category="paragraph">Opensm-5.17.2 (da MLNX_OFED_LINUX-23,10-3,2.2,0-LTS)</block>
  <block id="5487c77147bdac492714cd2896a16557" category="cell">6.x installato tramite pip: ansible-6.0.0 e ansible-core &gt;= 2.13.0</block>
  <block id="b1e65a5d34a577630a4fc7840358333f" category="cell">3,9 (o versione successiva)</block>
  <block id="1f6e93b1ea11aa12e871822a2cabfc76" category="cell">Encryption-43,0.0, netaddr-1,3.0, ipaddr-2.2.0</block>
  <block id="7af6b9890b6c8ce699616c59f48b5248" category="cell">Raccolta Ansible BeeGFS NetApp E-Series</block>
  <block id="070afde0274dc6039a8a8949d12a15cd" category="cell">3.2.0</block>
  <block id="ddc7c5e85c28111eae39eef12269daf4" category="inline-link-macro">utilizzo di architetture personalizzate</block>
  <block id="a33f0af0b0b4566b693084a9b90c220b" category="paragraph">Quando si aggiunge un building block al cluster, sarà necessario creare<block ref="3342582e194d63e4c91b56623752c9c6" prefix=" " category="inline-code"></block> i file per ogni nuovo nodo di file e nodo dei blocchi (array E-Series). I nomi di questi host devono essere aggiunti all'inventario, insieme alle nuove risorse da creare. I<block ref="96fa973cda8809ad84f646e3d8fbbc1c" prefix=" " category="inline-code"></block> file corrispondenti dovranno essere creati per ogni nuova risorsa. Per <block ref="46924488f50abe82484adb9bfcdcde3b" category="inline-link-macro-rx"></block>ulteriori informazioni, vedere la sezione.</block>
  <block id="a9e2fb24cfaef729e583ffb43f910760" category="paragraph">Se un nodo presenta un guasto hardware o di altro tipo, il cluster ha dovrebbe reagire automaticamente e spostare i propri servizi su un nodo integro, fornendo tempo agli amministratori per intraprendere azioni correttive. Prima di procedere<block ref="9f376b3ee66d4a4a484e850809b96601" category="inline-link-macro-rx"></block>, fare riferimento alla sezione per determinare la causa del failover e risolvere eventuali problemi in sospeso. Una volta riacceso il nodo e funzionante, è possibile procedere con il failback.</block>
  <block id="d97281ea1240a72da4b3d700493296c1" category="paragraph">Anche se alcuni di questi concetti sono stati introdotti nella <block ref="aeb2367c8b6e8485692304c0f57562a5" category="inline-link-macro-rx"></block>pagina principale, è utile reintrodurli nel contesto di un cluster BeeGFS ha:</block>
  <block id="9faa71c9a363d883afdd567d859ce5b2" category="paragraph">**Modalità di manutenzione:** disabilita il monitoraggio di tutte le risorse e impedisce al pacemaker di spostare o gestire in altro modo le risorse nel cluster (vedere anche la sezione a <block ref="bcf91b88f4600ab15eefb2c3b749ba9b" category="inline-link-macro-rx"></block>).</block>
  <block id="9ce95feb3853f5a2e43ca0d15f2341bd" category="paragraph">In genere, la riconfigurazione di qualsiasi aspetto del cluster ha BeeGFS deve essere eseguita aggiornando l'inventario Ansible ed eseguendo nuovamente il<block ref="6afa1ad605a4192ba2e50e8be9966e68" prefix=" " category="inline-code"></block> comando. Ciò include l'aggiornamento degli avvisi, la modifica della configurazione di scherma permanente o la regolazione della configurazione del servizio BeeGFS. Questi vengono regolati utilizzando il<block ref="4003590e6e5408f8e5272e50f909dfac" prefix=" " category="inline-code"></block> file e un elenco completo delle opzioni è disponibile nella <block ref="dc7fd2b3ea1b2b4a060b953a1b281371" category="inline-link-macro-rx"></block>sezione .</block>
  <block id="1b8fa8fe7d656db42e80d5a6ce645ec8" category="paragraph">È anche possibile arrestare il cluster su singoli nodi (che eseguiranno automaticamente il failover dei servizi su un altro nodo), anche se si consiglia di mettere il nodo in standby (vedere la <block ref="a588c352114ff4abc3bdc2aa2fbe7c6e" category="inline-link-macro-rx"></block> sezione):</block>
  <block id="5b359307b8bd7b288c8e5b703cdf97d4" category="paragraph">Se una risorsa richiesta per eseguire un servizio BeeGFS non riesce, il monitor BeeGFS attiva un failover. In questo caso, è probabile che nella parte inferiore di non siano elencate "azioni di risorsa non riuscite"<block ref="fcad1c87c23363c990849a7aaf9d6cd9" prefix=" " category="inline-code"></block> e che sia necessario fare riferimento alla procedura descritta in <block ref="0a749dc3cd00487c17b8cc6492fb44ee" category="inline-link-macro-rx"></block>.</block>
  <block id="3a06f222be74df90b61af2d3590f53fb" category="doc">Aggiornare la versione BeeGFS</block>
  <block id="fb7db280dc24f798821f72f3a6314baa" category="paragraph">Segui questi passaggi per aggiornare la versione BeeGFS del cluster ha utilizzando Ansible.</block>
  <block id="de08fe25e6d2fa4fb114dee71c6d1955" category="paragraph">BeeGFS segue uno<block ref="95d209426d2bead51bc37b6066b6ee21" prefix=" " category="inline-code"></block> schema di versioning. I ruoli Ansible ha BeeGFS sono forniti per ogni<block ref="708997fbc70843c52165e3f6faed4fa8" prefix=" " category="inline-code"></block> versione supportata (ad esempio,<block ref="4111d90a1d8089aa9621c399414fd198" prefix=" " category="inline-code"></block> e<block ref="7bfdf60ffcc8e818739972660aeebf71" prefix=" " category="inline-code"></block>). Ogni ruolo ha è associato all'ultima versione della patch BeeGFS disponibile al momento della release della raccolta Ansible.</block>
  <block id="901381f9137ae0a8db99e41924ff8ef1" category="section-title">Percorsi di aggiornamento testati</block>
  <block id="ee70a4cf48b74ec6f64d87c6e1480515" category="section-title">Fasi di aggiornamento di BeeGFS</block>
  <block id="079cd431e62fc3a22940a2261f836245" category="paragraph">Nelle sezioni seguenti sono riportati i passaggi per aggiornare la raccolta BeeGFS Ansible e BeeGFS stessa. Prestare particolare attenzione a eventuali passaggi aggiuntivi per l'aggiornamento delle versioni principali o secondarie di BeeGFS.</block>
  <block id="2cdd3511031afa1a313d8e79d7d576b1" category="section-title">Passaggio 1: Aggiornamento della raccolta BeeGFS</block>
  <block id="f6abfd633f96f44e32dca944a1a80e9c" category="section-title">Fase 2: Aggiornare l'inventario Ansible</block>
  <block id="95172f30ff12c9cb640f1c8398d0b04a" category="paragraph">Eseguire gli aggiornamenti necessari o desiderati ai file di inventario Ansible del cluster. Per <block ref="2e381baad9ceebe6c5aa505098cb18a1" category="inline-link-macro-rx"></block>ulteriori informazioni sui requisiti specifici per l'aggiornamento, vedere la sezione seguente. Vedere la <block ref="f7bda10e421919e9d8ced89dacaba34f" category="inline-link-macro-rx"></block> sezione per informazioni generali sulla configurazione dell'inventario BeeGFS ha.</block>
  <block id="de129d7813d91b8a2df6987dc1e993c1" category="section-title">Fase 3: Aggiornamento del playbook Ansible (solo per l'aggiornamento delle versioni principali o secondarie)</block>
  <block id="ee7f4ebf4b84c588316192566a0cb8cd" category="paragraph">Per ulteriori dettagli sul contenuto del file del presente manuale, consulta <block ref="e4439ff10fb632bb30fbb98653fb7d05" category="inline-link-macro-rx"></block>la sezione.</block>
  <block id="21c4f9c8b31954d3a790c8c8be86b9c8" category="section-title">Passaggio 4: Eseguire l'aggiornamento BeeGFS</block>
  <block id="9c8627d3001e5a503b31e4dcd6ecfd87" category="section-title">Note sull'aggiornamento della versione</block>
  <block id="909565cc470ef2ebeaadbdc37ace1c46" category="section-title">Modifiche all'autenticazione basata su connessione</block>
  <block id="cd35a558180e5a60f1da5ebd80b06ed2" category="paragraph">Per ulteriori dettagli e opzioni di configurazione alternative, vedere la procedura per configurare l'autenticazione della connessione nella <block ref="dc7fd2b3ea1b2b4a060b953a1b281371" category="inline-link-macro-rx"></block>sezione .</block>
  <block id="8d4ce44e7e1f685f22f0480066f6dadc" category="summary">Passaggi per aggiornare gli storage array E-Series del cluster ha.</block>
  <block id="fecb4be6b37a9fda6b207eaf97363fed" category="doc">Upgrade dello storage array E-Series</block>
  <block id="26f796a7ab5fa8e4b49e64f8f8bf2a80" category="paragraph">Segui questi passaggi per aggiornare gli storage array E-Series del cluster ha (nodi a blocchi).</block>
  <block id="e134ac69d8641d9208d2cf890fad5275" category="paragraph">Mantenere aggiornati gli array di storage NetApp E-Series del cluster ha con il firmware più recente garantisce prestazioni ottimali e maggiore sicurezza. Gli aggiornamenti del firmware per l'array di storage vengono applicati utilizzando il sistema operativo SANtricity, NVSRAM e i file del firmware del disco.</block>
  <block id="40039e282631364c07ceaedf99c2cf6c" category="admonition">Durante gli upgrade degli storage array con il cluster ha online, si consiglia di impostare il cluster in modalità di manutenzione per tutti gli upgrade.</block>
  <block id="e23311179b5a9fe1039e35e28290b482" category="section-title">Passaggi di aggiornamento del nodo a blocchi</block>
  <block id="4a77379e9fcc01e35b7933a91b02a2bb" category="inline-link-macro">Considerazioni sull'upgrade</block>
  <block id="46b8f258a80b91c5c4fffd3d5ece01a4" category="paragraph">I seguenti passaggi descrivono come aggiornare il firmware degli storage array utilizzando la<block ref="e49e2f9371e7bc22ee200e5f75b6602c" prefix=" " category="inline-code"></block> raccolta Ansible. Prima di continuare, consultare <block ref="6c9178c1392ea3672f35be0055264c17" category="inline-link-macro-rx"></block>per l'aggiornamento dei sistemi E-Series.</block>
  <block id="bdee1b73e1febbf048ec6a5f2831e85b" category="admonition">L'aggiornamento a SANtricity OS 11,80 o versioni successive è possibile solo a partire da 11.70.5P1. Prima di eseguire ulteriori upgrade, lo storage array deve essere aggiornato a 11.70.5P1.</block>
  <block id="d71cc28583686cddef55d03b0274281d" category="list-text">Conferma che il tuo nodo di controllo Ansible sta utilizzando la raccolta Ansible SANtricity più recente.</block>
  <block id="958b4e178dbb15f4d101c7af076a86e0" category="list-text">Per gli aggiornamenti offline, scaricare il tarball <block ref="32839d1e65aead10794a1c6916b9ba54" category="inline-link-macro-rx"></block>della raccolta da , trasferirlo al nodo di controllo ed eseguire:</block>
  <block id="b7c167ccf3ed53b1f6e48097aeff0a80" category="list-text">Procurarsi il firmware più recente per l'array di archiviazione e le unità.</block>
  <block id="b48447584775163c7687f535f818de69" category="list-text">Scaricare i file del firmware.</block>
  <block id="9c093f14319e8253b8c9b37290597239" category="inline-link-macro">Sito di supporto NetApp</block>
  <block id="8730ba85a04b4b9309e2eb5e8255e024" category="list-text">*SANtricity OS e NVSRAM:* accedere alla <block ref="a9f7476d3f84cd9adf0af429b2aa178f" category="inline-link-macro-rx"></block>e scaricare la versione più recente del sistema operativo SANtricity e NVSRAM per il modello di array di storage.</block>
  <block id="482a1edf3e9cd198f6ee458a1cea1af9" category="inline-link-macro">Sito del firmware del disco E-Series</block>
  <block id="bad7f30f1449c1f5ab5e97ce89aee762" category="list-text">*Firmware dell'unità:* accedere a <block ref="dc6c914f008159d5969a25304ddfb479" category="inline-link-macro-rx"></block>e scaricare il firmware più recente per ciascun modello di unità dell'array di archiviazione.</block>
  <block id="c26b41b932786e55f3bf481a6938083e" category="list-text">Memorizza i file del firmware del disco, NVSRAM e del sistema operativo SANtricity nella<block ref="971398284b1e828e40efc6b6630f0369" prefix=" " category="inline-code"></block> directory del nodo di controllo Ansible.</block>
  <block id="09a777fce4515aa1a8dcd86346441924" category="list-text">Se necessario, aggiorna i file di inventario Ansible del tuo cluster per includere tutti gli storage array (nodi a blocchi) che richiedono aggiornamenti. Per indicazioni, vedere la <block ref="f7bda10e421919e9d8ced89dacaba34f" category="inline-link-macro-rx"></block> sezione.</block>
  <block id="44ab0407eb93bf62fd987a8132e5a912" category="list-text">Assicurarsi che il cluster sia in uno stato ottimale con ogni servizio BeeGFS sul relativo nodo preferito. Per ulteriori informazioni, fare riferimento alla <block ref="1d1f85855f64d7b14ac7c0ae29a52511" category="inline-link-macro-rx"></block> sezione.</block>
  <block id="f525483091b48c05e08ecf537a6c9e5a" category="list-text">Portare il quadro strumenti in modalità di manutenzione seguendo le istruzioni riportate in <block ref="4b8504199df3a0ade85c92603634e18f" category="inline-link-macro-rx"></block>.</block>
  <block id="390c5fa21f5dea398732a7b3b4024304" category="list-text">Crea un nuovo playbook Ansible chiamato<block ref="bdc450c9ffd9674cb7c88bcb24bfedb8" prefix=" " category="inline-code"></block>. Popola il playbook con i seguenti contenuti, sostituendo il sistema operativo SANtricity, NVSRAM e le versioni del firmware del disco nel percorso di upgrade desiderato:</block>
  <block id="13ec6a1291f9e3d303bbc7f6bece60a3" category="list-text">Per avviare gli aggiornamenti, esegui il seguente comando dal nodo di controllo Ansible:</block>
  <block id="2268e1bfefae0c28c267b29923d65e0c" category="list-text">Una volta completato il playbook, verifica che ciascuno storage array si trovi in uno stato ottimale.</block>
  <block id="c1fdae9b6a94c3924447ee6c483855cb" category="list-text">Spostare il cluster dalla modalità di manutenzione e verificare che sia in uno stato ottimale con ogni servizio BeeGFS sul nodo preferito.</block>
  <block id="3ad9625708cd0c96f347ec4ce5d874d3" category="list-text">A partire da BeeGFS 7.2.7 e 7.3.1 <block ref="770c4b58b3b364c4ac52cf5cc555453f" category="inline-link-macro-rx"></block> deve essere configurato o esplicitamente disattivato. A seconda di come si sceglie di configurare l'autenticazione basata sulla connessione quando si specifica <block ref="8920d94093ad4ef03a0a5d6b5041695b" category="inline-link-macro-rx"></block>, potrebbe essere necessario regolare la configurazione del client:</block>
  <block id="98ef1fa853194aa97ce7e1d48795cef5" category="admonition">Viene mantenuto un ruolo BeeGFS ha per ciascuna versione principale.minore supportata di BeeGFS. Questo consente agli utenti di scegliere quando aggiornare le versioni principali/secondarie. Attualmente <block ref="b8974e83e3e52aff89dd9fef2fd40433" prefix="(" category="inline-code"></block><block ref="a89433e176d102073aaa272a94fc99a0" prefix="(" category="inline-code"></block>sono supportati BeeGFS 7,3.x ) o BeeGFS 7,2.x ). Per impostazione predefinita, entrambi i ruoli implementeranno la versione più recente delle patch BeeGFS al momento del rilascio, anche se gli utenti possono scegliere di eseguire l'override e distribuire la patch più recente, se lo desiderano. Per <block ref="ea68a501eb5a456f305896d5a2358bdb" category="inline-link-macro-rx"></block>ulteriori dettagli, fare riferimento alle informazioni più recenti.</block>
  <block id="3a08f340332ef25464a2e7b7cfe7f232" category="paragraph">Quando <block ref="8920d94093ad4ef03a0a5d6b5041695b" category="inline-link-macro-rx"></block>si specifica , se si sceglie l'opzione predefinita per far sì che Ansible gestisca automaticamente l'autenticazione basata sulla connessione,<block ref="6097b6e95af2579f2147a330c21f7b59" prefix=" " category="inline-code"></block> è ora possibile trovare un usato come segreto condiviso all'indirizzo<block ref="8e9df790452dc085676f10b7754aa94b" prefix=" " category="inline-code"></block> (per impostazione predefinita). Tutti i client che hanno bisogno di accedere al file system dovranno utilizzare questo segreto condiviso. Questo viene gestito automaticamente se i client vengono configurati con <block ref="a5e865a21fc7e89f99d76e47a99103f5" category="inline-link-macro-rx"></block>.</block>
  <block id="7e96a3522e757b7c2f84f96e80a5204a" category="list-text">Simile a come il <block ref="4b612fd25b54d8125236d973922744dd" category="inline-link-macro-rx"></block> progetto consente agli utenti di implementare/mantenere un'intera distribuzione Kubernetes per un'infrastruttura di calcolo scale-out.</block>
  <block id="8de8ee53c552f1f6dd7babfe6c53c01d" category="list-text">Utilizza strumenti di benchmarking delle performance come IOR e MDTest per verificare che le performance del file system soddisfino le aspettative. Esempi di test e parametri comuni utilizzati con BeeGFS si trovano nella <block ref="a0a81c919707a85f36fb8f6f519c1f93" category="inline-link-macro-rx"></block>sezione di BeeGFS su architettura verificata NetApp.</block>
  <block id="d27d0d9d916f3c0f77ce2785848cb725" category="paragraph">Creare un nuovo file<block ref="096c36ebf1ab8bf90e099d6808eb57d0" prefix=" " category="inline-code"></block> e fare riferimento alla <block ref="b777967ae458ad80005c5e1730bd996c" category="inline-link-macro-rx"></block> sezione compilarlo come segue:</block>
  <block id="245b1bd598314a0a050725e4c5d97c78" category="list-text">Le dimensioni dei volumi devono essere specificate come percentuale del gruppo di pool/volumi di storage e il totale non deve superare 100 per tutti i servizi/volumi che utilizzano un particolare gruppo di pool/volumi di storage. Nota quando si utilizzano le unità SSD, si consiglia di lasciare spazio libero nel gruppo di volumi per massimizzare le prestazioni e la durata dell'unità SSD (fare clic <block ref="16def06e05414fadffd7f5aab36ffa19" category="inline-link-macro-rx"></block> per ulteriori dettagli).</block>
  <block id="884a1a74c4254f0e663282849a218050" category="paragraph">Facendo riferimento alla <block ref="b777967ae458ad80005c5e1730bd996c" category="inline-link-macro-rx"></block> sezione, creare un file su<block ref="3ffe66d0860049a5a100c385493d4997" prefix=" " category="inline-code"></block> per ogni servizio di metadati nel cluster e compilarli come segue:</block>
  <block id="bbadc58dfee849a3a02be97243b97990" category="paragraph">Facendo riferimento alla <block ref="b777967ae458ad80005c5e1730bd996c" category="inline-link-macro-rx"></block> sezione, creare un file all'indirizzo<block ref="a16ac980b359b788a73d8add9202cc6f" prefix=" " category="inline-code"></block> per ciascun servizio di archiviazione nel cluster e compilarli come segue:</block>
  <block id="3061d639cb074dd9a1f3c7d24d061d94" category="list-text">In base alla <block ref="b777967ae458ad80005c5e1730bd996c" category="inline-link-macro-rx"></block> sezione specificare l'IP di gestione BeeGFS per questo file system:</block>
  <block id="5a89b4f80128d0b3669b1564943cd510" category="paragraph">Se i nodi di file e blocchi sono connessi direttamente con InfiniBand, un'istanza di<block ref="d21519b2c7af8ce90e382199384a8c06" prefix=" " category="inline-code"></block> deve essere configurata su ogni nodo di file per ogni interfaccia connessa direttamente a un nodo di blocco. Per eseguire questa operazione, specificare<block ref="a983fd54df8f83bdfdc5756fe288aa56" prefix=" " category="inline-code"></block> quando <block ref="9a73a9f8352cf6494b7d5bc6c3eb6d0a" category="inline-link-macro-rx"></block>.</block>
  <block id="5c823b437a4fc165b3349c1455412d2b" category="list-text">Utilizzando curl o lo strumento desiderato, scaricare i pacchetti per la versione di opensm elencati nella <block ref="178d97073525b373723b8dda031e8548" category="inline-link-macro-rx"></block> sezione dal sito web di NVIDIA alla<block ref="4d67f7bc650c0237a4f14903bb4e32de" prefix=" " category="inline-code"></block> directory. Ad esempio:</block>
  <block id="fa90fb024c68aeaa307b3486cdb0811c" category="paragraph">Facendo riferimento allo schema di indirizzamento IP definito nella <block ref="b777967ae458ad80005c5e1730bd996c" category="inline-link-macro-rx"></block>sezione, per ogni nodo di blocco nel cluster creare un file<block ref="9a669560bf11c3e8770f91d615f47c78" prefix=" " category="inline-code"></block> e compilarlo come segue:</block>
  <block id="54e21e619ebcd2038cbf6ad99bac975f" category="paragraph">Facendo riferimento allo schema di indirizzamento IP definito nella <block ref="d83d5464c6c0dbe0203869281fc21d2b" category="inline-link-macro-rx"></block>sezione, per ogni nodo file nel cluster creare un file<block ref="29c5616b1b8c32726b3152860a451439" prefix=" " category="inline-code"></block> e compilarlo come segue:</block>
  <block id="3c51eceddcbfbb08a09bb39a9f19e117" category="paragraph"><block ref="3c51eceddcbfbb08a09bb39a9f19e117" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8ea6cc14c3361efc3a01a352f7d8b097" category="admonition">Le definizioni per la terminologia utilizzata in questa sezione <block ref="aeb2367c8b6e8485692304c0f57562a5" category="inline-link-macro-rx"></block>sono disponibili nella  pagina.</block>
  <block id="7a5c5ebabde54389985d3b9fadd7b425" category="paragraph">Sebbene <block ref="4d27806b9f70cbf03b3483248ec7d7bc" category="inline-link-macro-rx"></block> offrano configurazioni di riferimento predefinite e linee guida sul dimensionamento, alcuni clienti e partner potrebbero preferire la progettazione di architetture personalizzate più adatte a specifici requisiti o preferenze hardware. Uno dei principali vantaggi della scelta di BeeGFS su NetApp è la capacità di implementare cluster ha a disco condiviso BeeGFS utilizzando Ansible, semplificando la gestione dei cluster e migliorando l'affidabilità con i componenti ha creati da NetApp. L'implementazione di architetture BeeGFS personalizzate su NetApp viene ancora eseguita utilizzando Ansible, mantenendo un approccio simile all'appliance su una gamma flessibile di hardware.</block>
  <block id="ab2a4abcb79fad270532717ca3427f92" category="paragraph">In questa sezione vengono descritti i passaggi generali necessari per implementare i file system BeeGFS sull'hardware NetApp e l'utilizzo di Ansible per configurare i file system BeeGFS. Per informazioni dettagliate sulle Best practice relative alla progettazione dei file system BeeGFS ed esempi ottimizzati, fare riferimento alla <block ref="4d27806b9f70cbf03b3483248ec7d7bc" category="inline-link-macro-rx"></block> sezione.</block>
  <block id="30de48a7127295863f5f215fde6c08ca" category="paragraph">Per ulteriori informazioni sulle convenzioni standard, sulle Best practice e sui fogli di lavoro di esempio compilati<block ref="28bbc43b20c819953a71af93d1c4e109" category="inline-link-macro-rx"></block>, fare riferimento alle <block ref="4d6b3e482c415f3bd4b50893909bd85e" category="inline-link-macro-rx"></block>sezioni e di BeeGFS sull'architettura verificata NetApp.</block>
  <block id="09b6dc0fcffa0dde65b5a3c6c13023a3" category="list-text">Soddisfare il <block ref="a141ba9ea027408279c2684d8c781c5d" category="inline-link-macro-rx"></block>ruolo di ha BeeGFS, incluse le versioni installate di Ansible, Python e qualsiasi altro pacchetto Python.</block>
  <block id="7007891572e5a419add36531fb5f1be8" category="paragraph">La procedura di installazione dettagliata è disponibile <block ref="29286ffa550e08bdb3d9fa0a0be38f68" category="inline-link-macro-rx"></block>.</block>
  <block id="2acc893838b1eb90d1c84b809a236835" category="inline-image-macro">Esempio di building block</block>
  <block id="0cf0e609964c9930dfcd66ad6ffe8361" category="paragraph"><block ref="0cf0e609964c9930dfcd66ad6ffe8361" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ea853e91a86a86cbc9cea1e039d6ec17" category="inline-image-macro">Esempio di distribuzione BeeGFS</block>
  <block id="92bf56a169d86e418f4a78aaaf5a3153" category="paragraph"><block ref="92bf56a169d86e418f4a78aaaf5a3153" category="inline-image-macro-rx" type="image"></block></block>
  <block id="2701ff78b7eb357effebb637477114b8" category="paragraph">In genere, le porte HIC dei nodi a blocchi e-Series vengono collegate direttamente alle porte dell'adattatore del canale host designato (per i protocolli InfiniBand) o dell'adattatore del bus host (per Fibre Channel e altri protocolli) dei nodi di file. Il modo esatto per stabilire queste connessioni dipenderà dall'architettura del file system desiderata, ecco un esempio<block ref="48bff068417bb27c10f3ddce61de14e9" category="inline-link-macro-rx"></block>:</block>
  <block id="d280e44616dd9cb363292987ea8c1939" category="inline-image-macro">Esempio di cablaggio tra file BeeGFS e nodo di blocco</block>
  <block id="c2ad0d9a44428ac4772ec872090c3da7" category="paragraph"><block ref="c2ad0d9a44428ac4772ec872090c3da7" category="inline-image-macro-rx" type="image"></block></block>
  <block id="85180c66af01717bf125dc82f4f1ed53" category="inline-image-macro">Esempio di cablaggio del client BeeGFS</block>
  <block id="4864e5d5de47684fb9038e0ef5afff80" category="paragraph"><block ref="4864e5d5de47684fb9038e0ef5afff80" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ccb84ec92fe82c0d6ab0a55f23e3eb17" category="paragraph">Utilizzando l'interfaccia del programma di configurazione del sistema (BIOS/UEFI), assicurarsi che le impostazioni siano impostate per massimizzare le prestazioni. Le impostazioni esatte e i valori ottimali variano in base al modello di server in uso. Vengono fornite indicazioni per <block ref="5f1c2d149eae40e1322e9fafa3998295" category="inline-link-macro-rx"></block>, altrimenti fare riferimento alla documentazione del fornitore del server e alle procedure consigliate basate sul modello in uso.</block>
  <block id="db2fad664adc100829ebfbffc137527d" category="paragraph">Installare un sistema operativo supportato in base ai requisiti del nodo file elencati <block ref="9e16c2314a033d11f0704d539a894ebf" category="inline-link-macro-rx"></block>. Fare riferimento a eventuali passaggi aggiuntivi riportati di seguito in base alla distribuzione Linux.</block>
  <block id="f2cf78e0d1f7ad85dcd842faf7ac4515" category="paragraph">Assicurarsi che tutti gli HBA e gli HCA eseguano le versioni del firmware supportate elencate sul <block ref="8b59326e9a63a3b8d68c843e238b964b" category="inline-link-macro-rx"></block>e, se necessario, aggiornarle. Ulteriori raccomandazioni per gli adattatori NVIDIA ConnectX sono disponibili <block ref="9e16c2314a033d11f0704d539a894ebf" category="inline-link-macro-rx"></block>.</block>
  <block id="8a537f7e0401508a2313fc508d89890f" category="admonition">Consulta <block ref="4aaa57a471c2a91096648d10c36a27be" category="inline-link-macro-rx"></block>la sezione per ulteriori dettagli sui termini e i concetti specifici per l'interazione con i cluster BeeGFS ad alta disponibilità (ha).</block>
  <block id="ea56ba40e3c5a9cd92e8f51ccb6c3ae4" category="inline-image-macro">Componenti BeeGFS</block>
  <block id="6097578a9c3bfa602c1e755a66ade1ab" category="paragraph"><block ref="6097578a9c3bfa602c1e755a66ade1ab" category="inline-image-macro-rx" type="image"></block></block>
  <block id="09642005b99405e19fa67b3689b21ee7" category="inline-image-macro">Confronto sull'architettura HA</block>
  <block id="ea01fc482ace12597c68d8d51d799253" category="paragraph"><block ref="ea01fc482ace12597c68d8d51d799253" category="inline-image-macro-rx" type="image"></block></block>
  <block id="fdd0fa6524b4c92bc95af5176461013e" category="inline-image-macro">Building Block</block>
  <block id="2282ea06676d9a4cf9ddadaa654d14b1" category="paragraph"><block ref="2282ea06676d9a4cf9ddadaa654d14b1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5523e74e8cf94c323e9b7dc4c2bb722b" category="inline-image-macro">Scalabilità del cluster ha BeeGFS</block>
  <block id="d52adc3743c104eeb589c42277ff0c59" category="paragraph"><block ref="d52adc3743c104eeb589c42277ff0c59" category="inline-image-macro-rx" type="image"></block></block>
  <block id="83b5e8063fa9a23613c6fe11336c236a" category="paragraph"><block ref="83b5e8063fa9a23613c6fe11336c236a" category="inline-image-macro-rx" type="image"></block></block>
  <block id="32105fac7897c11e56236a163fa6d971" category="inline-image-macro">EF600 slot per unità disco</block>
  <block id="a2df183adc09aa68cc267d7f30848e40" category="paragraph"><block ref="a2df183adc09aa68cc267d7f30848e40" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9c5c72057491d0a5ae89a71dfa3f18ec" category="inline-image-macro">Cavo di collegamento diretto SR665V3</block>
  <block id="91b0007e09ff2fa20716b9ee1e611eb4" category="paragraph"><block ref="91b0007e09ff2fa20716b9ee1e611eb4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e501a80fb52b2df8a7a16f92da9b76b2" category="inline-image-macro">Cablaggio della rete di storage</block>
  <block id="3f713ba1926971f2cec8152bf5b64825" category="paragraph"><block ref="3f713ba1926971f2cec8152bf5b64825" category="inline-image-macro-rx" type="image"></block></block>
  <block id="3e555d7998b255ac574c6430c2d9eaf6" category="inline-image-macro">Diagramma rack ad alta capacità</block>
  <block id="5c4a48e1bba2d7e97a5afb3329da8750" category="paragraph"><block ref="5c4a48e1bba2d7e97a5afb3329da8750" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ab0440e4421843b823481ec8c40114fa" category="inline-image-macro">Schema slot di azionamento ad alta capacità</block>
  <block id="d471943365921fcc3ec56d2cb62b204d" category="paragraph"><block ref="d471943365921fcc3ec56d2cb62b204d" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ce0bc242efa1f7752857cac8fae4d239" category="admonition">In particolare per implementazioni di dimensioni maggiori,<block ref="448725115a83c589b33de77889e1e2f3" prefix=" " category="inline-code"></block> si consiglia di ignorare il numero predefinito di forcelle (5) utilizzando il parametro per aumentare il numero di host configurati in parallelo da Ansible. Per ulteriori informazioni, vedere<block ref="2f92d47aead0a3ef15304d32faf6a032" category="inline-link-rx"></block>. L'impostazione del valore massimo dipende dalla potenza di elaborazione disponibile sul nodo di controllo Ansible. L'esempio precedente di 20 è stato eseguito su un nodo di controllo virtuale Ansible con 4 CPU (Intel(R) Xeon(R) Gold 6146 CPU @ 3,20 GHz).</block>
  <block id="e5e317ea18fb59bd91370981078a2eb6" category="inline-image-macro">Configurazione NUMA</block>
  <block id="b69049bad10aec8bac8579c94488a401" category="paragraph"><block ref="b69049bad10aec8bac8579c94488a401" category="inline-image-macro-rx" type="image"></block></block>
  <block id="12316ea7d4573c51756ec0fb8fe2d354" category="inline-image-macro">Cablaggio di rete</block>
  <block id="f8e0ca3438f30328dc02a59212533e4b" category="paragraph"><block ref="f8e0ca3438f30328dc02a59212533e4b" category="inline-image-macro-rx" type="image"></block></block>
  <block id="dfc8d818052af4f5e6b27ab14809f648" category="inline-image-macro">Larghezza di banda bidirezionale HCA</block>
  <block id="109f376ab71650e10de73ac118faa1cf" category="paragraph"><block ref="109f376ab71650e10de73ac118faa1cf" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4761409fb0a2290e1a6a09381da73347" category="inline-image-macro">Bilanciamento del traffico delle interfacce</block>
  <block id="04e97962e6bb1a104f48fbc1086830e4" category="paragraph"><block ref="04e97962e6bb1a104f48fbc1086830e4" category="inline-image-macro-rx" type="image"></block></block>
  <block id="26b17225b626fb9238849fd60eabdf60" category="paragraph">+</block>
  <block id="bbd50c1c67920eb714a77de6085a1da7" category="inline-image-macro">Array EF600</block>
  <block id="77ab09336108b97d55d660c37ecfa138" category="paragraph"><block ref="77ab09336108b97d55d660c37ecfa138" category="inline-image-macro-rx" type="image"></block></block>
  <block id="aa24db2ee9f316acbbbfcc348aff2139" category="inline-image-macro">Proprietà del volume del servizio BeeGFS</block>
  <block id="81722745ad5693a2c53cb7fd80ef42cd" category="paragraph"><block ref="81722745ad5693a2c53cb7fd80ef42cd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="a0db15ba7734a2f0bd68d8f7ec6da53b" category="inline-image-macro">Servizi pacemaker-controller</block>
  <block id="633cadaf9644bd4072214489980f4de0" category="paragraph"><block ref="633cadaf9644bd4072214489980f4de0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="08193bfb92c50dc5860e0ae7ab70b8de" category="inline-image-macro">Configurazione della convalida BeeGFS</block>
  <block id="d4d7c2778d639ee21874e3a533b4cb45" category="paragraph"><block ref="d4d7c2778d639ee21874e3a533b4cb45" category="inline-image-macro-rx" type="image"></block></block>
  <block id="25362da3867ffd1fb6b8e5946bb60770" category="inline-image-macro">Risultati IOR del building block di base BeeGFS singolo</block>
  <block id="815be59c5f2e9977f869e63692f4c698" category="paragraph"><block ref="815be59c5f2e9977f869e63692f4c698" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5ceb441734022db46316b9560c287a7f" category="inline-image-macro">Singoli metadati BeeGFS e building block di storage risultati IOR</block>
  <block id="2fd2e54693b2c76f97569df889a592fd" category="paragraph"><block ref="2fd2e54693b2c76f97569df889a592fd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="bc75db64efedca0861be31efc710d385" category="inline-image-macro">Singoli risultati IOR di storage BeeGFS</block>
  <block id="7f73d3737f911cd518afbf2c214c0c64" category="paragraph"><block ref="7f73d3737f911cd518afbf2c214c0c64" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d63d6ac704b4d61d17ece2c0612e08f5" category="inline-image-macro">Tre elementi di base BeeGFS bloccano i risultati IOR</block>
  <block id="9c28704420f2090ce57c2e671f191dc0" category="paragraph"><block ref="9c28704420f2090ce57c2e671f191dc0" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e5910bdf77b7103e1d2c0a93d4c49fc8" category="inline-image-macro">Tre building block BeeGFS con risultati IOR client singoli</block>
  <block id="f496e88262c7c32001b4a84ce3febf98" category="paragraph"><block ref="f496e88262c7c32001b4a84ce3febf98" category="inline-image-macro-rx" type="image"></block></block>
  <block id="09033d0c41b9b8aab0f364b81b9c69b3" category="inline-image-macro">Singoli metadati BeeGFS e building block di storage risultati MDTest</block>
  <block id="9a0ca14324a0c9493b33cc5efdcf3460" category="paragraph"><block ref="9a0ca14324a0c9493b33cc5efdcf3460" category="inline-image-macro-rx" type="image"></block></block>
  <block id="362973e7a4fa534a7db69e8dfa0877a8" category="inline-image-macro">Due building block di storage e metadati BeeGFS per i risultati di MDTest</block>
  <block id="070cfbe37786e49518755132f73ded2c" category="paragraph"><block ref="070cfbe37786e49518755132f73ded2c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e40e4e443af5090e1039aebba0a6cd24" category="paragraph">Nodi di file BeeGFS</block>
  <block id="05323ece1df24d4488db57fd326597c0" category="cell">Nodi a blocchi E-Series (array EF600)</block>
  <block id="06fc3bd2748fbbf8f16ce893ede22214" category="paragraph">*Memoria:* 256GB GB (128GB GB per controller). *Adattatore:* 200GB/HDR a 2 porte (NVMe/IB). *Unità:* configurate in base ai metadati e alla capacità di archiviazione desiderati.</block>
  <block id="1e3cea12222d4b63badbe998ef00b55d" category="cell">Adattatori schede host InfiniBand (per nodi file).</block>
  <block id="0594ef398f6882c7d1d98994e3906850" category="paragraph">*Connessioni dirette dai nodi di blocco ai nodi di file.*</block>
  <block id="b38917fef1efbb1471841f7a026c98c3" category="paragraph">*Connessioni dai nodi di file allo switch della rete di archiviazione.* Selezionare l'opzione di cavo appropriata dalla tabella seguente in base allo switch storage InfiniBand. + la lunghezza del cavo consigliata è di 2m m; tuttavia, può variare a seconda dell'ambiente del cliente.</block>
  <block id="a00d274d551f6b74718d44ea2bb6e6c3" category="sidebar">Update dei componenti del cluster ha</block>
</blocks>